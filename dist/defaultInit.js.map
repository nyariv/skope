{"version":3,"file":"defaultInit.js","sources":["../src/HTMLSanitizer.ts","../src/defaultInit.ts"],"sourcesContent":[null,null],"names":["regHrefJS","regValidSrc","regSystemAtt","defaultHTMLWhiteList","HTMLBRElement","HTMLBodyElement","HTMLDListElement","HTMLDataElement","HTMLDataListElement","HTMLDivElement","HTMLFieldSetElement","HTMLFormElement","HTMLHRElement","HTMLHeadingElement","HTMLLIElement","HTMLLegendElement","HTMLMapElement","HTMLMetaElement","HTMLMeterElement","HTMLModElement","HTMLOListElement","HTMLOutputElement","HTMLParagraphElement","HTMLPreElement","HTMLProgressElement","HTMLQuoteElement","HTMLSpanElement","HTMLTableCaptionElement","HTMLTableCellElement","HTMLTableColElement","HTMLTableElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTimeElement","HTMLTitleElement","HTMLUListElement","HTMLUnknownElement","HTMLTemplateElement","HTMLCanvasElement","HTMLElement","globalAllowedAtttributes","Set","sanitizeType","obj","t","allowedAttributes","element","s","type","types","set","attributes","reservedAtrributes","WeakMap","HTMLSanitizer","constructor","Map","HTMLAnchorElement","HTMLAreaElement","el","HTMLButtonElement","HTMLInputElement","HTMLSelectElement","HTMLOptGroupElement","HTMLOptionElement","HTMLLabelElement","HTMLTextAreaElement","HTMLScriptElement","staticHtml","html","innerHTML","setTimeout","HTMLIFrameElement","setAttributeForced","src","srcdoc","HTMLStyleElement","HTMLPictureElement","HTMLImageElement","HTMLAudioElement","HTMLTrackElement","HTMLVideoElement","HTMLSourceElement","santizeAttribute","attName","attValue","preprocess","remove","allowed","get","toLowerCase","match","test","setAttribute","slice","has","srcAttributes","isJs","hasAttribute","substring","length","allowedInputs","isAttributeForced","sanitizeHTML","DocumentFragment","att","nodeValue","nodeName","includes","removeAttribute","children","content","elem","value","reserved","add","observeAttribute","parent","cb","persistant","subs","selector","sanitize","observeLoad","Promise","resolve","observer","MutationObserver","muts","mut","target","addedNodes","Element","document","addEventListener","readyState","sub","observe","childList","subtree","disconnect","delete","matches","loading","found","WeakSet","isFound","parentElement","then","querySelectorAll","cancel","sanitizer","imps","init","pop","mod","skope","default","undefined","canceled","documentElement","push","globalThis","cancelSkope"],"mappings":"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"}