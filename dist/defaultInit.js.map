{"version":3,"file":"defaultInit.js","sources":["../src/HTMLSanitizer.ts","../src/defaultInit.ts"],"sourcesContent":[null,null],"names":["regHrefJS","regValidSrc","regSystemAtt","defaultHTMLWhiteList","HTMLBRElement","HTMLBodyElement","HTMLDListElement","HTMLDataElement","HTMLDataListElement","HTMLDivElement","HTMLFieldSetElement","HTMLFormElement","HTMLHRElement","HTMLHeadingElement","HTMLLIElement","HTMLLegendElement","HTMLMapElement","HTMLMetaElement","HTMLMeterElement","HTMLModElement","HTMLOListElement","HTMLOutputElement","HTMLParagraphElement","HTMLPreElement","HTMLProgressElement","HTMLQuoteElement","HTMLSpanElement","HTMLTableCaptionElement","HTMLTableCellElement","HTMLTableColElement","HTMLTableElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTimeElement","HTMLTitleElement","HTMLUListElement","HTMLUnknownElement","HTMLTemplateElement","HTMLCanvasElement","HTMLElement","globalAllowedAtttributes","Set","sanitizeType","obj","t","allowedAttributes","element","s","type","types","set","attributes","styleIds","reservedAtrributes","WeakMap","HTMLSanitizer","constructor","Map","HTMLAnchorElement","HTMLAreaElement","el","HTMLButtonElement","HTMLInputElement","HTMLSelectElement","HTMLOptGroupElement","HTMLOptionElement","HTMLLabelElement","HTMLTextAreaElement","HTMLScriptElement","staticHtml","html","innerHTML","setTimeout","HTMLIFrameElement","setAttributeForced","src","srcdoc","processedStyles","WeakSet","HTMLStyleElement","loaded","parent","parentElement","has","add","isAttributeForced","removeAttribute","id","getAttribute","i","sheet","cssRules","length","rule","reverse","CSSStyleRule","CSSKeyframesRule","deleteRule","cssText","style","insertRule","selectorText","addEventListener","HTMLPictureElement","HTMLImageElement","HTMLAudioElement","HTMLTrackElement","HTMLVideoElement","HTMLSourceElement","santizeAttribute","attName","attValue","preprocess","allowed","get","toLowerCase","match","test","setAttribute","slice","srcAttributes","isJs","hasAttribute","substring","allowedInputs","sanitizeHTML","DocumentFragment","remove","att","nodeValue","nodeName","includes","children","elem","value","reserved","observeAttribute","cb","persistant","subs","selector","sanitize","observeLoad","Promise","resolve","observer","MutationObserver","muts","mut","target","addedNodes","Element","document","readyState","sub","observe","childList","subtree","disconnect","delete","matches","loading","found","isFound","then","querySelectorAll","cancel","sanitizer","imps","init","pop","mod","skope","default","undefined","canceled","documentElement","push","globalThis","cancelSkope"],"mappings":"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"}