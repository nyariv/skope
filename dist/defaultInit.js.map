{"version":3,"file":"defaultInit.js","sources":["../src/HTMLSanitizer.ts","../src/defaultInit.ts"],"sourcesContent":[null,null],"names":["regHrefJS","regValidSrc","regSystemAtt","regRservedSystemAtt","defaultHTMLWhiteList","HTMLBRElement","HTMLBodyElement","HTMLDListElement","HTMLDataElement","HTMLDataListElement","HTMLDivElement","HTMLFieldSetElement","HTMLFormElement","HTMLHRElement","HTMLHeadingElement","HTMLLIElement","HTMLLegendElement","HTMLMapElement","HTMLMetaElement","HTMLMeterElement","HTMLModElement","HTMLOListElement","HTMLOutputElement","HTMLParagraphElement","HTMLPreElement","HTMLProgressElement","HTMLQuoteElement","HTMLSpanElement","HTMLTableCaptionElement","HTMLTableCellElement","HTMLTableColElement","HTMLTableElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTimeElement","HTMLTitleElement","HTMLUListElement","HTMLUnknownElement","HTMLTemplateElement","HTMLCanvasElement","HTMLElement","globalAllowedAtttributes","Set","sanitizeType","obj","t","allowedAttributes","element","s","type","types","set","attributes","reservedAtrributes","WeakMap","HTMLSanitizer","constructor","Map","HTMLAnchorElement","HTMLAreaElement","el","HTMLButtonElement","HTMLInputElement","HTMLSelectElement","HTMLOptGroupElement","HTMLOptionElement","HTMLLabelElement","HTMLTextAreaElement","HTMLScriptElement","staticHtml","html","innerHTML","setTimeout","HTMLIFrameElement","getAttribute","setAttributeForced","src","srcdoc","HTMLStyleElement","HTMLPictureElement","HTMLImageElement","HTMLAudioElement","HTMLTrackElement","HTMLVideoElement","HTMLSourceElement","santizeAttribute","attName","attValue","preprocess","remove","allowed","get","toLowerCase","isAttributeForced","match","test","setAttribute","slice","has","srcAttributes","isJs","hasAttribute","substring","length","allowedInputs","sanitizeHTML","DocumentFragment","att","nodeValue","nodeName","includes","removeAttribute","children","content","elem","value","reserved","add","observeAttribute","parent","cb","persistant","subs","selector","sanitize","observeLoad","sHtml","Promise","resolve","observer","MutationObserver","muts","mut","target","addedNodes","Element","document","addEventListener","readyState","sub","observe","childList","subtree","disconnect","delete","matches","loading","found","WeakSet","isFound","parentElement","then","querySelectorAll","ell","cancel","sanitizer","imps","init","pop","mod","Skope","default","skope","undefined","canceled","documentElement","push","globalThis","cancelSkope"],"mappings":"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"}