{"version":3,"file":"Skope.js","sources":["../node_modules/@nyariv/sandboxjs/dist/node/Sandbox.js","../src/eQuery.ts","../src/Skope.ts"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * Parse a string as a base-16 number. This is more strict than `parseInt` as it\n * will not allow any other characters, including (for example) \"+\", \"-\", and\n * \".\".\n * @param hex A string containing a hexadecimal number.\n * @returns The parsed integer, or `NaN` if the string is not a valid hex\n * number.\n */\nfunction parseHexToInt(hex) {\n    const isOnlyHexChars = !hex.match(/[^a-f0-9]/i);\n    return isOnlyHexChars ? parseInt(hex, 16) : NaN;\n}\n/**\n * Check the validity and length of a hexadecimal code and optionally enforces\n * a specific number of hex digits.\n * @param hex The string to validate and parse.\n * @param errorName The name of the error message to throw a `SyntaxError` with\n * if `hex` is invalid. This is used to index `errorMessages`.\n * @param enforcedLength If provided, will throw an error if `hex` is not\n * exactly this many characters.\n * @returns The parsed hex number as a normal number.\n * @throws {SyntaxError} If the code is not valid.\n */\nfunction validateAndParseHex(hex, errorName, enforcedLength) {\n    const parsedHex = parseHexToInt(hex);\n    if (Number.isNaN(parsedHex) ||\n        (enforcedLength !== undefined && enforcedLength !== hex.length)) {\n        throw new SyntaxError(errorName + ': ' + hex);\n    }\n    return parsedHex;\n}\n/**\n * Parse a two-digit hexadecimal character escape code.\n * @param code The two-digit hexadecimal number that represents the character to\n * output.\n * @returns The single character represented by the code.\n * @throws {SyntaxError} If the code is not valid hex or is not the right\n * length.\n */\nfunction parseHexadecimalCode(code) {\n    const parsedCode = validateAndParseHex(code, 'Malformed Hexadecimal', 2);\n    return String.fromCharCode(parsedCode);\n}\n/**\n * Parse a four-digit Unicode character escape code.\n * @param code The four-digit unicode number that represents the character to\n * output.\n * @param surrogateCode Optional four-digit unicode surrogate that represents\n * the other half of the character to output.\n * @returns The single character represented by the code.\n * @throws {SyntaxError} If the codes are not valid hex or are not the right\n * length.\n */\nfunction parseUnicodeCode(code, surrogateCode) {\n    const parsedCode = validateAndParseHex(code, 'Malformed Unicode', 4);\n    if (surrogateCode !== undefined) {\n        const parsedSurrogateCode = validateAndParseHex(surrogateCode, 'Malformed Unicode', 4);\n        return String.fromCharCode(parsedCode, parsedSurrogateCode);\n    }\n    return String.fromCharCode(parsedCode);\n}\n/**\n * Test if the text is surrounded by curly braces (`{}`).\n * @param text Text to check.\n * @returns `true` if the text is in the form `{*}`.\n */\nfunction isCurlyBraced(text) {\n    return text.charAt(0) === \"{\" && text.charAt(text.length - 1) === \"}\";\n}\n/**\n * Parse a Unicode code point character escape code.\n * @param codePoint A unicode escape code point, including the surrounding curly\n * braces.\n * @returns The single character represented by the code.\n * @throws {SyntaxError} If the code is not valid hex or does not have the\n * surrounding curly braces.\n */\nfunction parseUnicodeCodePointCode(codePoint) {\n    if (!isCurlyBraced(codePoint)) {\n        throw new SyntaxError('Malformed Unicode: +' + codePoint);\n    }\n    const withoutBraces = codePoint.slice(1, -1);\n    const parsedCode = validateAndParseHex(withoutBraces, 'Malformed Unicode');\n    try {\n        return String.fromCodePoint(parsedCode);\n    }\n    catch (err) {\n        throw err instanceof RangeError\n            ? new SyntaxError('Code Point Limit:' + parsedCode)\n            : err;\n    }\n}\n/**\n * Map of unescaped letters to their corresponding special JS escape characters.\n * Intentionally does not include characters that map to themselves like \"\\'\".\n */\nconst singleCharacterEscapes = new Map([\n    [\"b\", \"\\b\"],\n    [\"f\", \"\\f\"],\n    [\"n\", \"\\n\"],\n    [\"r\", \"\\r\"],\n    [\"t\", \"\\t\"],\n    [\"v\", \"\\v\"],\n    [\"0\", \"\\0\"]\n]);\n/**\n * Parse a single character escape sequence and return the matching character.\n * If none is matched, defaults to `code`.\n * @param code A single character code.\n */\nfunction parseSingleCharacterCode(code) {\n    return singleCharacterEscapes.get(code) || code;\n}\n/**\n * Matches every escape sequence possible, including invalid ones.\n *\n * All capture groups (described below) are unique (only one will match), except\n * for 4, which can only potentially match if 3 does.\n *\n * **Capture Groups:**\n * 0. A single backslash\n * 1. Hexadecimal code\n * 2. Unicode code point code with surrounding curly braces\n * 3. Unicode escape code with surrogate\n * 4. Surrogate code\n * 5. Unicode escape code without surrogate\n * 6. Octal code _NOTE: includes \"0\"._\n * 7. A single character (will never be \\, x, u, or 0-3)\n */\nconst escapeMatch = /\\\\(?:(\\\\)|x([\\s\\S]{0,2})|u(\\{[^}]*\\}?)|u([\\s\\S]{4})\\\\u([^{][\\s\\S]{0,3})|u([\\s\\S]{0,4})|([0-3]?[0-7]{1,2})|([\\s\\S])|$)/g;\n/**\n * Replace raw escape character strings with their escape characters.\n * @param raw A string where escape characters are represented as raw string\n * values like `\\'` rather than `'`.\n * @param allowOctals If `true`, will process the now-deprecated octal escape\n * sequences (ie, `\\111`).\n * @returns The processed string, with escape characters replaced by their\n * respective actual Unicode characters.\n */\nfunction unraw(raw) {\n    return raw.replace(escapeMatch, function (_, backslash, hex, codePoint, unicodeWithSurrogate, surrogate, unicode, octal, singleCharacter) {\n        // Compare groups to undefined because empty strings mean different errors\n        // Otherwise, `\\u` would fail the same as `\\` which is wrong.\n        if (backslash !== undefined) {\n            return \"\\\\\";\n        }\n        if (hex !== undefined) {\n            return parseHexadecimalCode(hex);\n        }\n        if (codePoint !== undefined) {\n            return parseUnicodeCodePointCode(codePoint);\n        }\n        if (unicodeWithSurrogate !== undefined) {\n            return parseUnicodeCode(unicodeWithSurrogate, surrogate);\n        }\n        if (unicode !== undefined) {\n            return parseUnicodeCode(unicode);\n        }\n        if (octal === \"0\") {\n            return \"\\0\";\n        }\n        if (octal !== undefined) {\n            throw new SyntaxError('Octal Deprecation: ' + octal);\n        }\n        if (singleCharacter !== undefined) {\n            return parseSingleCharacterCode(singleCharacter);\n        }\n        throw new SyntaxError('End of string');\n    });\n}\n\nlet lispTypes = new Map();\nclass ParseError extends Error {\n    constructor(message, code) {\n        super(message + \": \" + code.substring(0, 40));\n        this.code = code;\n    }\n}\nclass Lisp {\n    constructor(obj) {\n        this.op = obj.op;\n        this.a = obj.a;\n        this.b = obj.b;\n    }\n}\nclass If {\n    constructor(t, f) {\n        this.t = t;\n        this.f = f;\n    }\n}\nclass KeyVal {\n    constructor(key, val) {\n        this.key = key;\n        this.val = val;\n    }\n}\nclass SpreadObject {\n    constructor(item) {\n        this.item = item;\n    }\n}\nclass SpreadArray {\n    constructor(item) {\n        this.item = item;\n    }\n}\nconst lispArrayKey = {};\nfunction toLispArray(arr) {\n    arr.lisp = lispArrayKey;\n    return arr;\n}\nconst inlineIfElse = /^:/;\nconst elseIf = /^else(?![\\w\\$])/;\nconst ifElse = /^if(?![\\w\\$])/;\nconst space = /^\\s/;\nlet expectTypes = {\n    splitter: {\n        types: {\n            opHigh: /^(\\/|\\*\\*|\\*(?!\\*)|\\%)(?!\\=)/,\n            op: /^(\\+(?!(\\+))|\\-(?!(\\-)))(?!\\=)/,\n            comparitor: /^(<=|>=|<(?!<)|>(?!>)|!==|!=(?!\\=)|===|==)/,\n            boolOp: /^(&&|\\|\\||instanceof(?![\\w\\$])|in(?![\\w\\$]))/,\n            bitwise: /^(&(?!&)|\\|(?!\\|)|\\^|<<|>>(?!>)|>>>)(?!\\=)/,\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n        ]\n    },\n    inlineIf: {\n        types: {\n            inlineIf: /^\\?(?!\\.(?!\\d))/,\n        },\n        next: [\n            'expEnd'\n        ]\n    },\n    assignment: {\n        types: {\n            assignModify: /^(\\-=|\\+=|\\/=|\\*\\*=|\\*=|%=|\\^=|\\&=|\\|=|>>>=|>>=|<<=)/,\n            assign: /^(=)(?!=)/\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n        ]\n    },\n    incrementerBefore: {\n        types: { incrementerBefore: /^(\\+\\+|\\-\\-)/ },\n        next: [\n            'prop',\n        ]\n    },\n    expEdge: {\n        types: {\n            call: /^(\\?\\.)?[\\(]/,\n            incrementerAfter: /^(\\+\\+|\\-\\-)/\n        },\n        next: [\n            'splitter',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    modifier: {\n        types: {\n            not: /^!/,\n            inverse: /^~/,\n            negative: /^\\-(?!\\-)/,\n            positive: /^\\+(?!\\+)/,\n            typeof: /^typeof(?![\\w\\$])/,\n            delete: /^delete(?![\\w\\$])/,\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n        ]\n    },\n    dot: {\n        types: {\n            arrayProp: /^(\\?\\.)?\\[/,\n            dot: /^(\\?)?\\.(?=\\s*[a-zA-Z\\$\\_])/,\n        },\n        next: [\n            'splitter',\n            'assignment',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    prop: {\n        types: {\n            prop: /^[a-zA-Z\\$\\_][a-zA-Z\\d\\$\\_]*/,\n        },\n        next: [\n            'splitter',\n            'assignment',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    value: {\n        types: {\n            createObject: /^\\{/,\n            createArray: /^\\[/,\n            number: /^(0x[\\da-f]+(_[\\da-f]+)*|(\\d+(_\\d+)*(\\.\\d+(_\\d+)*)?|\\.\\d+(_\\d+)*))(e[\\+\\-]?\\d+(_\\d+)*)?(n)?(?!\\d)/i,\n            string: /^\"(\\d+)\"/,\n            literal: /^`(\\d+)`/,\n            regex: /^\\/(\\d+)\\/r(?![\\w\\$])/,\n            boolean: /^(true|false)(?![\\w\\$])/,\n            null: /^null(?![\\w\\$])/,\n            und: /^undefined(?![\\w\\$])/,\n            arrowFunctionSingle: /^(async\\s+)?([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*=>\\s*({)?/,\n            arrowFunction: /^(async\\s*)?\\(\\s*((\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*(\\s*,\\s*(\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)*)?\\s*\\)\\s*=>\\s*({)?/,\n            inlineFunction: /^(async\\s+)?function(\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)?\\s*\\(\\s*((\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*(\\s*,\\s*(\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)*)?\\s*\\)\\s*{/,\n            group: /^\\(/,\n            NaN: /^NaN(?![\\w\\$])/,\n            Infinity: /^Infinity(?![\\w\\$])/,\n            void: /^void(?![\\w\\$])\\s*/,\n            await: /^await(?![\\w\\$])\\s*/,\n            new: /^new(?![\\w\\$])\\s*/,\n            throw: /^throw(?![\\w\\$])\\s*/\n        },\n        next: [\n            'splitter',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    initialize: {\n        types: {\n            initialize: /^(var|let|const)\\s+([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*(=)?/,\n            return: /^return(?![\\w\\$])/,\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n            'expEnd'\n        ]\n    },\n    spreadObject: {\n        types: {\n            spreadObject: /^\\.\\.\\./\n        },\n        next: [\n            'value',\n            'prop',\n        ]\n    },\n    spreadArray: {\n        types: {\n            spreadArray: /^\\.\\.\\./\n        },\n        next: [\n            'value',\n            'prop',\n        ]\n    },\n    expEnd: { types: {}, next: [] },\n    expFunction: {\n        types: {\n            function: /^(async\\s+)?function(\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*\\(\\s*((\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*(\\s*,\\s*(\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)*)?\\s*\\)\\s*{/,\n        },\n        next: [\n            'expEdge',\n            'expEnd'\n        ]\n    },\n    expSingle: {\n        types: {\n            for: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*for\\s*\\(/,\n            do: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*do(?![\\w\\$])\\s*(\\{)?/,\n            while: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*while\\s*\\(/,\n            loopAction: /^(break|continue)(?![\\w\\$])\\s*([a-zA-Z\\$\\_][\\w\\$]*)?/,\n            if: /^((([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*)if\\s*\\(/,\n            try: /^try\\s*{/,\n            block: /^{/,\n            switch: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*switch\\s*\\(/,\n        },\n        next: [\n            'expEnd'\n        ]\n    }\n};\nlet closings = {\n    \"(\": \")\",\n    \"[\": \"]\",\n    \"{\": \"}\",\n    \"'\": \"'\",\n    '\"': '\"',\n    \"`\": \"`\"\n};\nfunction testMultiple(str, tests) {\n    let found;\n    for (let i = 0; i < tests.length; i++) {\n        const test = tests[i];\n        found = test.exec(str);\n        if (found)\n            break;\n    }\n    return found;\n}\nclass CodeString {\n    constructor(str) {\n        this.ref = { str: \"\" };\n        if (str instanceof CodeString) {\n            this.ref = str.ref;\n            this.start = str.start;\n            this.end = str.end;\n        }\n        else {\n            this.ref.str = str;\n            this.start = 0;\n            this.end = str.length;\n        }\n    }\n    substring(start, end) {\n        if (!this.length)\n            return this;\n        start = this.start + start;\n        if (start < 0) {\n            start = 0;\n        }\n        if (start > this.end) {\n            start = this.end;\n        }\n        end = end === undefined ? this.end : this.start + end;\n        if (end < 0) {\n            end = 0;\n        }\n        if (end > this.end) {\n            end = this.end;\n        }\n        const code = new CodeString(this);\n        code.start = start;\n        code.end = end;\n        return code;\n    }\n    get length() {\n        const len = this.end - this.start;\n        return len < 0 ? 0 : len;\n    }\n    char(i) {\n        if (this.start === this.end)\n            return undefined;\n        return this.ref.str[this.start + i];\n    }\n    toString() {\n        return this.ref.str.substring(this.start, this.end);\n    }\n    trimStart() {\n        const found = /^\\s+/.exec(this.toString());\n        const code = new CodeString(this);\n        if (found) {\n            code.start += found[0].length;\n        }\n        return code;\n    }\n    slice(start, end) {\n        if (start < 0) {\n            start = this.end - this.start + start;\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        if (end === undefined) {\n            end = this.end - this.start;\n        }\n        if (end < 0) {\n            end = this.end - this.start + end;\n        }\n        if (end < 0) {\n            end = 0;\n        }\n        return this.substring(start, end);\n    }\n    trim() {\n        const code = this.trimStart();\n        const found = /\\s+$/.exec(code.toString());\n        if (found) {\n            code.end -= found[0].length;\n        }\n        return code;\n    }\n    valueOf() {\n        return this.toString();\n    }\n}\nconst emptyString = new CodeString(\"\");\nconst okFirstChars = /^[\\+\\-~ !]/;\nconst aNumber = expectTypes.value.types.number;\nconst wordReg = /^((if|for|else|while|do|function)(?![\\w\\$])|[\\w\\$]+)/;\nconst semiColon = /^;/;\nconst insertedSemicolons = new WeakMap();\nconst quoteCache = new WeakMap();\nfunction restOfExp(constants, part, tests, quote, firstOpening, closingsTests, details = {}) {\n    if (!part.length) {\n        return part;\n    }\n    details.words = details.words || [];\n    let isStart = true;\n    tests = tests || [];\n    const hasSemiTest = tests.includes(semiColon);\n    if (hasSemiTest) {\n        tests = tests.filter((a) => a !== semiColon);\n    }\n    const insertedSemis = insertedSemicolons.get(part.ref) || [];\n    const cache = quoteCache.get(part.ref) || new Map();\n    quoteCache.set(part.ref, cache);\n    if (quote && cache.has(part.start - 1)) {\n        return part.substring(0, cache.get(part.start - 1) - part.start);\n    }\n    let escape = false;\n    let done = false;\n    let lastChar = \"\";\n    let isOneLiner = false;\n    let i;\n    let lastInertedSemi = false;\n    for (i = 0; i < part.length && !done; i++) {\n        let char = part.char(i);\n        if (quote === '\"' || quote === \"'\" || quote === \"`\") {\n            if (quote === \"`\" && char === \"$\" && part.char(i + 1) === \"{\" && !escape) {\n                let skip = restOfExp(constants, part.substring(i + 2), [], \"{\");\n                i += skip.length + 2;\n            }\n            else if (char === quote && !escape) {\n                return part.substring(0, i);\n            }\n            escape = !escape && char === \"\\\\\";\n        }\n        else if (closings[char]) {\n            if (!lastInertedSemi && insertedSemis[i + part.start]) {\n                lastInertedSemi = true;\n                if (hasSemiTest) {\n                    break;\n                }\n                i--;\n                lastChar = ';';\n                continue;\n            }\n            if (isOneLiner && char === \"{\") {\n                isOneLiner = false;\n            }\n            if (char === firstOpening) {\n                done = true;\n                break;\n            }\n            else {\n                let skip = restOfExp(constants, part.substring(i + 1), [], char);\n                cache.set(skip.start - 1, skip.end);\n                i += skip.length + 1;\n                isStart = false;\n                if (closingsTests) {\n                    let sub = part.substring(i);\n                    let found;\n                    if (found = testMultiple(sub.toString(), closingsTests)) {\n                        details.regRes = found;\n                        done = true;\n                    }\n                }\n            }\n        }\n        else if (!quote) {\n            let sub = part.substring(i).toString();\n            let foundWord;\n            let foundNumber;\n            if (closingsTests) {\n                let found;\n                if (found = testMultiple(sub, closingsTests)) {\n                    details.regRes = found;\n                    i++;\n                    done = true;\n                    break;\n                }\n            }\n            if (foundNumber = aNumber.exec(sub)) {\n                i += foundNumber[0].length - 1;\n                sub = part.substring(i).toString();\n            }\n            else if (lastChar != char) {\n                let found;\n                if (char === ';' || (insertedSemis[i + part.start] && !isStart && !lastInertedSemi)) {\n                    if (hasSemiTest) {\n                        found = [\";\"];\n                    }\n                    else if (insertedSemis[i + part.start]) {\n                        lastInertedSemi = true;\n                        i--;\n                        lastChar = ';';\n                        continue;\n                    }\n                    char = sub = ';';\n                }\n                else {\n                    lastInertedSemi = false;\n                }\n                if (!found) {\n                    found = testMultiple(sub, tests);\n                }\n                if (found) {\n                    done = true;\n                }\n                if (!done && (foundWord = wordReg.exec(sub))) {\n                    isOneLiner = true;\n                    if (foundWord[0].length > 1) {\n                        details.words.push(foundWord[1]);\n                        details.lastAnyWord = foundWord[1];\n                        if (foundWord[2]) {\n                            details.lastWord = foundWord[2];\n                        }\n                    }\n                    if (foundWord[0].length > 2) {\n                        i += foundWord[0].length - 2;\n                    }\n                }\n            }\n            if (isStart) {\n                if (okFirstChars.test(sub)) {\n                    done = false;\n                }\n                else {\n                    isStart = false;\n                }\n            }\n            if (done)\n                break;\n        }\n        else if (char === closings[quote]) {\n            return part.substring(0, i);\n        }\n        lastChar = char;\n    }\n    if (quote) {\n        throw new SyntaxError(\"Unclosed '\" + quote + \"'\");\n    }\n    if (details) {\n        details.oneliner = isOneLiner;\n    }\n    return part.substring(0, i);\n}\nrestOfExp.next = [\n    'splitter',\n    'expEnd',\n    'inlineIf'\n];\nconst startingExecpted = ['initialize', 'expSingle', 'expFunction', 'value', 'modifier', 'prop', 'incrementerBefore', 'expEnd'];\nconst setLispType = (types, fn) => {\n    types.forEach((type) => {\n        lispTypes.set(type, fn);\n    });\n};\nconst closingsCreate = {\n    'createArray': /^\\]/,\n    'createObject': /^\\}/,\n    'group': /^\\)/,\n    'arrayProp': /^\\]/,\n    'call': /^\\)/\n};\nsetLispType(['createArray', 'createObject', 'group', 'arrayProp', 'call'], (constants, type, part, res, expect, ctx) => {\n    let extract = emptyString;\n    let arg = [];\n    let end = false;\n    let i = res[0].length;\n    const start = i;\n    while (i < part.length && !end) {\n        extract = restOfExp(constants, part.substring(i), [\n            closingsCreate[type],\n            /^,/\n        ]);\n        i += extract.length;\n        if (extract.length) {\n            arg.push(extract);\n        }\n        if (part.char(i) !== ',') {\n            end = true;\n        }\n        else {\n            i++;\n        }\n    }\n    const next = ['value', 'modifier', 'prop', 'incrementerBefore', 'expEnd'];\n    let l;\n    let funcFound;\n    switch (type) {\n        case 'group':\n        case 'arrayProp':\n            l = lispifyExpr(constants, part.substring(start, i));\n            break;\n        case 'call':\n        case 'createArray':\n            // @TODO: support 'empty' values\n            l = toLispArray(arg.map((e) => lispify(constants, e, [...next, 'spreadArray'])));\n            break;\n        case 'createObject':\n            l = toLispArray(arg.map((str) => {\n                str = str.trimStart();\n                let value;\n                let key;\n                funcFound = expectTypes.expFunction.types.function.exec('function ' + str);\n                if (funcFound) {\n                    key = funcFound[2].trimStart();\n                    value = lispify(constants, new CodeString('function ' + str.toString().replace(key, \"\")));\n                }\n                else {\n                    let extract = restOfExp(constants, str, [/^:/]);\n                    key = lispify(constants, extract, [...next, 'spreadObject']);\n                    if (key instanceof Lisp && key.op === 'prop') {\n                        key = key.b;\n                    }\n                    if (extract.length === str.length)\n                        return key;\n                    value = lispify(constants, str.substring(extract.length + 1));\n                }\n                return new Lisp({\n                    op: 'keyVal',\n                    a: key,\n                    b: value\n                });\n            }));\n            break;\n    }\n    type = type === 'arrayProp' ? (res[1] ? '?prop' : 'prop') : (type === 'call' ? (res[1] ? '?call' : 'call') : type);\n    ctx.lispTree = lispify(constants, part.substring(i + 1), expectTypes[expect].next, new Lisp({\n        op: type,\n        a: ctx.lispTree,\n        b: l,\n    }));\n});\nsetLispType(['inverse', 'not', 'negative', 'positive', 'typeof', 'delete'], (constants, type, part, res, expect, ctx) => {\n    let extract = restOfExp(constants, part.substring(res[0].length), [/^([^\\s\\.\\?\\w\\$]|\\?[^\\.])/]);\n    ctx.lispTree = lispify(constants, part.substring(extract.length + res[0].length), restOfExp.next, new Lisp({\n        op: ['positive', 'negative'].includes(type) ? '$' + res[0] : res[0],\n        a: ctx.lispTree,\n        b: lispify(constants, extract, expectTypes[expect].next),\n    }));\n});\nsetLispType(['incrementerBefore'], (constants, type, part, res, expect, ctx) => {\n    let extract = restOfExp(constants, part.substring(2), [/^[^\\s\\.\\w\\$]/]);\n    ctx.lispTree = lispify(constants, part.substring(extract.length + 2), restOfExp.next, new Lisp({\n        op: res[0] + \"$\",\n        a: lispify(constants, extract, expectTypes[expect].next),\n    }));\n});\nsetLispType(['incrementerAfter'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, new Lisp({\n        op: \"$\" + res[0],\n        a: ctx.lispTree,\n    }));\n});\nsetLispType(['assign', 'assignModify', 'boolOp'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: res[0],\n        a: ctx.lispTree,\n        b: lispify(constants, part.substring(res[0].length), expectTypes[expect].next)\n    });\n});\nsetLispType(['opHigh', 'op', 'comparitor', 'bitwise'], (constants, type, part, res, expect, ctx) => {\n    const next = [\n        expectTypes.inlineIf.types.inlineIf,\n        inlineIfElse\n    ];\n    switch (type) {\n        case 'opHigh':\n            next.push(expectTypes.splitter.types.opHigh);\n        case 'op':\n            next.push(expectTypes.splitter.types.op);\n        case 'comparitor':\n            next.push(expectTypes.splitter.types.comparitor);\n        case 'bitwise':\n            next.push(expectTypes.splitter.types.bitwise);\n            next.push(expectTypes.splitter.types.boolOp);\n    }\n    let extract = restOfExp(constants, part.substring(res[0].length), next);\n    ctx.lispTree = lispify(constants, part.substring(extract.length + res[0].length), restOfExp.next, new Lisp({\n        op: res[0],\n        a: ctx.lispTree,\n        b: lispify(constants, extract, expectTypes[expect].next),\n    }));\n});\nsetLispType(['inlineIf'], (constants, type, part, res, expect, ctx) => {\n    let found = false;\n    let extract = part.substring(0, 0);\n    let quoteCount = 1;\n    while (!found && extract.length < part.length) {\n        extract.end = restOfExp(constants, part.substring(extract.length + 1), [\n            expectTypes.inlineIf.types.inlineIf,\n            inlineIfElse\n        ]).end;\n        if (part.char(extract.length) === '?') {\n            quoteCount++;\n        }\n        else {\n            quoteCount--;\n        }\n        if (!quoteCount) {\n            found = true;\n        }\n    }\n    extract.start = part.start + 1;\n    ctx.lispTree = new Lisp({\n        op: '?',\n        a: ctx.lispTree,\n        b: new If(lispifyExpr(constants, extract), lispifyExpr(constants, part.substring(res[0].length + extract.length + 1)))\n    });\n});\nfunction extractIfElse(constants, part) {\n    var _a;\n    let count = 0;\n    let found = part.substring(0, 0);\n    let foundElse = emptyString;\n    let foundTrue;\n    let first = true;\n    let elseReg;\n    let details = {};\n    while ((found = restOfExp(constants, part.substring(found.end - part.start), [elseIf, ifElse, semiColon], undefined, undefined, undefined, details)).length || first) {\n        first = false;\n        const f = part.substring(found.end - part.start).toString();\n        if (f.startsWith(\"if\")) {\n            found.end++;\n            count++;\n        }\n        else if (f.startsWith('else')) {\n            foundTrue = part.substring(0, found.end - part.start);\n            found.end++;\n            count--;\n            if (!count) {\n                found.end--;\n            }\n        }\n        else if (elseReg = /^;?\\s*else(?![\\w\\$])/.exec(f)) {\n            foundTrue = part.substring(0, found.end - part.start);\n            found.end += elseReg[0].length - 1;\n            count--;\n            if (!count) {\n                found.end -= elseReg[0].length - 1;\n            }\n        }\n        else {\n            foundTrue = foundElse.length ? foundTrue : part.substring(0, found.end - part.start);\n            break;\n        }\n        if (!count) {\n            let ie = extractIfElse(constants, part.substring(found.end - part.start + ((_a = /^;?\\s*else(?![\\w\\$])/.exec(f)) === null || _a === void 0 ? void 0 : _a[0].length)));\n            foundElse = ie.all;\n            break;\n        }\n        details = {};\n    }\n    foundTrue = foundTrue || part.substring(0, found.end - part.start);\n    return { all: part.substring(0, Math.max(foundTrue.end, foundElse.end) - part.start), true: foundTrue, false: foundElse };\n}\nsetLispType(['if'], (constants, type, part, res, expect, ctx) => {\n    let condition = restOfExp(constants, part.substring(res[0].length), [], \"(\");\n    const ie = extractIfElse(constants, part.substring(res[1].length));\n    /^\\s*\\{/.exec(part.substring(res[0].length + condition.length + 1).toString());\n    const startTrue = res[0].length - res[1].length + condition.length + 1;\n    let trueBlock = ie.true.substring(startTrue);\n    let elseBlock = ie.false;\n    condition = condition.trim();\n    trueBlock = trueBlock.trim();\n    elseBlock = elseBlock.trim();\n    if (trueBlock.char(0) === \"{\")\n        trueBlock = trueBlock.slice(1, -1);\n    if (elseBlock.char(0) === \"{\")\n        elseBlock = elseBlock.slice(1, -1);\n    ctx.lispTree = new Lisp({\n        op: 'if',\n        a: lispifyExpr(constants, condition),\n        b: new If(lispifyBlock(trueBlock, constants), elseBlock.length ? lispifyBlock(elseBlock, constants) : undefined)\n    });\n});\nsetLispType(['switch'], (constants, type, part, res, expect, ctx) => {\n    const test = restOfExp(constants, part.substring(res[0].length), [], \"(\");\n    let start = part.toString().indexOf(\"{\", res[0].length + test.length + 1);\n    if (start === -1)\n        throw new SyntaxError(\"Invalid switch\");\n    let statement = insertSemicolons(constants, restOfExp(constants, part.substring(start + 1), [], \"{\"));\n    let caseFound;\n    const caseTest = /^\\s*(case\\s|default)\\s*/;\n    let cases = [];\n    let defaultFound = false;\n    while (caseFound = caseTest.exec(statement.toString())) {\n        if (caseFound[1] === 'default') {\n            if (defaultFound)\n                throw new SyntaxError(\"Only one default switch case allowed\");\n            defaultFound = true;\n        }\n        let cond = restOfExp(constants, statement.substring(caseFound[0].length), [/^:/]);\n        let found = emptyString;\n        let i = start = caseFound[0].length + cond.length + 1;\n        let bracketFound = /^\\s*\\{/.exec(statement.substring(i).toString());\n        let exprs = [];\n        if (bracketFound) {\n            i += bracketFound[0].length;\n            found = restOfExp(constants, statement.substring(i), [], \"{\");\n            i += found.length + 1;\n            exprs = lispifyBlock(found, constants);\n        }\n        else {\n            let notEmpty = restOfExp(constants, statement.substring(i), [caseTest]);\n            if (!notEmpty.trim().length) {\n                exprs = [];\n                i += notEmpty.length;\n            }\n            else {\n                while ((found = restOfExp(constants, statement.substring(i), [semiColon])).length) {\n                    i += found.length + (statement.char(i + found.length) === ';' ? 1 : 0);\n                    if (caseTest.test(statement.substring(i).toString())) {\n                        break;\n                    }\n                }\n                exprs = lispifyBlock(statement.substring(start, found.end - statement.start), constants);\n            }\n        }\n        statement = statement.substring(i);\n        cases.push(new Lisp({\n            op: \"case\",\n            a: caseFound[1] === \"default\" ? undefined : lispifyExpr(constants, cond),\n            b: toLispArray(exprs)\n        }));\n    }\n    ctx.lispTree = new Lisp({\n        op: 'switch',\n        a: lispifyExpr(constants, test),\n        b: toLispArray(cases)\n    });\n});\nsetLispType(['dot', 'prop'], (constants, type, part, res, expect, ctx) => {\n    let prop = res[0];\n    let index = res[0].length;\n    let op = 'prop';\n    if (type === 'dot') {\n        if (res[1]) {\n            op = '?prop';\n        }\n        let matches = part.substring(res[0].length).toString().match(expectTypes.prop.types.prop);\n        if (matches && matches.length) {\n            prop = matches[0];\n            index = prop.length + res[0].length;\n        }\n        else {\n            throw new SyntaxError('Hanging  dot');\n        }\n    }\n    ctx.lispTree = lispify(constants, part.substring(index), expectTypes[expect].next, new Lisp({\n        op: op,\n        a: ctx.lispTree,\n        b: prop\n    }));\n});\nsetLispType(['spreadArray', 'spreadObject'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: type,\n        b: lispify(constants, part.substring(res[0].length), expectTypes[expect].next)\n    });\n});\nsetLispType(['return', 'throw'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: type,\n        b: lispifyExpr(constants, part.substring(res[0].length))\n    });\n});\nconst primitives = {\n    \"true\": true,\n    \"false\": false,\n    \"null\": null,\n    Infinity,\n    NaN,\n    \"und\": undefined\n};\nsetLispType(['number', 'boolean', 'null', 'und', 'NaN', 'Infinity'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, type === \"number\" ? (res[10] ? BigInt(res[1]) : Number(res[0])) : primitives[type === \"boolean\" ? res[0] : type]);\n});\nsetLispType(['string', 'literal', 'regex'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, new Lisp({\n        op: type,\n        b: parseInt(JSON.parse(res[1]), 10),\n    }));\n});\nsetLispType(['initialize'], (constants, type, part, res, expect, ctx) => {\n    if (!res[3]) {\n        ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, new Lisp({\n            op: res[1],\n            a: res[2]\n        }));\n    }\n    else {\n        ctx.lispTree = new Lisp({\n            op: res[1],\n            a: res[2],\n            b: lispify(constants, part.substring(res[0].length), expectTypes[expect].next)\n        });\n    }\n});\nsetLispType(['function', 'inlineFunction', 'arrowFunction', 'arrowFunctionSingle'], (constants, type, part, res, expect, ctx) => {\n    const isArrow = type !== 'function' && type !== 'inlineFunction';\n    const isReturn = isArrow && !res[res.length - 1];\n    const argPos = isArrow ? 2 : 3;\n    const isAsync = !!res[1];\n    const args = res[argPos] ? res[argPos].replace(/\\s+/g, \"\").split(/,/g) : [];\n    if (!isArrow) {\n        args.unshift((res[2] || \"\").trimStart());\n    }\n    let ended = false;\n    args.forEach((arg) => {\n        if (ended)\n            throw new SyntaxError('Rest parameter must be last formal parameter');\n        if (arg.startsWith('...'))\n            ended = true;\n    });\n    args.unshift(isAsync);\n    const f = restOfExp(constants, part.substring(res[0].length), !isReturn ? [/^}/] : [/^[,\\)\\}\\]]/, semiColon]);\n    const func = (isReturn ? 'return ' + f : f);\n    ctx.lispTree = lispify(constants, part.substring(res[0].length + func.length + 1), expectTypes[expect].next, new Lisp({\n        op: isArrow ? 'arrowFunc' : type,\n        a: toLispArray(args),\n        b: constants.eager ? lispifyFunction(new CodeString(func), constants) : func\n    }));\n});\nconst iteratorRegex = /^((let|var|const)\\s+)?\\s*([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s+(in|of)(?![\\w\\$])/;\nsetLispType(['for', 'do', 'while'], (constants, type, part, res, expect, ctx) => {\n    let i = 0;\n    let startStep = true;\n    let startInternal = toLispArray([]);\n    let getIterator;\n    let beforeStep = false;\n    let checkFirst = true;\n    let condition;\n    let step = true;\n    let body;\n    switch (type) {\n        case 'while':\n            i = part.toString().indexOf(\"(\") + 1;\n            let extract = restOfExp(constants, part.substring(i), [], \"(\");\n            condition = lispifyReturnExpr(constants, extract);\n            body = restOfExp(constants, part.substring(i + extract.length + 1)).trim();\n            if (body[0] === \"{\")\n                body = body.slice(1, -1);\n            break;\n        case 'for':\n            i = part.toString().indexOf(\"(\") + 1;\n            let args = [];\n            let extract2 = emptyString;\n            for (let k = 0; k < 3; k++) {\n                extract2 = restOfExp(constants, part.substring(i), [/^[;\\)]/]);\n                args.push(extract2.trim());\n                i += extract2.length + 1;\n                if (part.char(i - 1) === \")\")\n                    break;\n            }\n            let iterator;\n            if (args.length === 1 && (iterator = iteratorRegex.exec(args[0].toString()))) {\n                if (iterator[4] === 'of') {\n                    getIterator = lispifyReturnExpr(constants, args[0].substring(iterator[0].length)),\n                        startInternal = toLispArray([\n                            ofStart2,\n                            ofStart3\n                        ]);\n                    condition = ofCondition;\n                    step = ofStep;\n                    beforeStep = lispify(constants, new CodeString((iterator[1] || 'let ') + iterator[3] + ' = $$next.value'), ['initialize']);\n                }\n                else {\n                    getIterator = lispifyReturnExpr(constants, args[0].substring(iterator[0].length)),\n                        startInternal = toLispArray([\n                            inStart2,\n                            inStart3\n                        ]);\n                    step = inStep;\n                    condition = inCondition;\n                    beforeStep = lispify(constants, new CodeString((iterator[1] || 'let ') + iterator[3] + ' = $$keys[$$keyIndex]'), ['initialize']);\n                }\n            }\n            else if (args.length === 3) {\n                startStep = lispifyExpr(constants, args.shift(), startingExecpted);\n                condition = lispifyReturnExpr(constants, args.shift());\n                step = lispifyExpr(constants, args.shift());\n            }\n            else {\n                throw new SyntaxError(\"Invalid for loop definition\");\n            }\n            body = restOfExp(constants, part.substring(i)).trim();\n            if (body[0] === \"{\")\n                body = body.slice(1, -1);\n            break;\n        case 'do':\n            checkFirst = false;\n            const isBlock = !!res[3];\n            body = restOfExp(constants, part.substring(res[0].length), isBlock ? [/^\\}/] : [semiColon]);\n            condition = lispifyReturnExpr(constants, restOfExp(constants, part.substring(part.toString().indexOf(\"(\", res[0].length + body.length) + 1), [], \"(\"));\n            break;\n    }\n    const a = toLispArray([checkFirst, startInternal, getIterator, startStep, step, condition, beforeStep]);\n    ctx.lispTree = new Lisp({\n        op: 'loop',\n        a,\n        b: lispifyBlock(body, constants)\n    });\n});\nsetLispType(['block'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispifyBlock(restOfExp(constants, part.substring(1), [], \"{\"), constants);\n});\nsetLispType(['loopAction'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: 'loopAction',\n        a: res[1],\n    });\n});\nconst catchReg = /^\\s*(catch\\s*(\\(\\s*([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*\\))?|finally)\\s*\\{/;\nsetLispType(['try'], (constants, type, part, res, expect, ctx) => {\n    const body = restOfExp(constants, part.substring(res[0].length), [], \"{\");\n    let catchRes = catchReg.exec(part.substring(res[0].length + body.length + 1).toString());\n    let finallyBody;\n    let exception;\n    let catchBody;\n    let offset = 0;\n    if (catchRes[1].startsWith('catch')) {\n        catchRes = catchReg.exec(part.substring(res[0].length + body.length + 1).toString());\n        exception = catchRes[2];\n        catchBody = restOfExp(constants, part.substring(res[0].length + body.length + 1 + catchRes[0].length), [], \"{\");\n        offset = res[0].length + body.length + 1 + catchRes[0].length + catchBody.length + 1;\n        if ((catchRes = catchReg.exec(part.substring(offset).toString())) && catchRes[1].startsWith('finally')) {\n            finallyBody = restOfExp(constants, part.substring(offset + catchRes[0].length), [], \"{\");\n        }\n    }\n    else {\n        finallyBody = restOfExp(constants, part.substring(res[0].length + body.length + 1 + catchRes[0].length), [], \"{\");\n    }\n    const b = toLispArray([\n        exception,\n        lispifyBlock(insertSemicolons(constants, catchBody || emptyString), constants),\n        lispifyBlock(insertSemicolons(constants, finallyBody || emptyString), constants),\n    ]);\n    ctx.lispTree = new Lisp({\n        op: 'try',\n        a: lispifyBlock(insertSemicolons(constants, body), constants),\n        b\n    });\n});\nsetLispType(['void', 'await'], (constants, type, part, res, expect, ctx) => {\n    const extract = restOfExp(constants, part.substring(res[0].length), [/^([^\\s\\.\\?\\w\\$]|\\?[^\\.])/]);\n    ctx.lispTree = lispify(constants, part.substring(res[0].length + extract.length), expectTypes[expect].next, new Lisp({\n        op: type,\n        a: lispify(constants, extract),\n    }));\n});\nsetLispType(['new'], (constants, type, part, res, expect, ctx) => {\n    let i = res[0].length;\n    const obj = restOfExp(constants, part.substring(i), [], undefined, \"(\");\n    i += obj.length + 1;\n    const args = [];\n    if (part.char(i - 1) === \"(\") {\n        const argsString = restOfExp(constants, part.substring(i), [], \"(\");\n        i += argsString.length + 1;\n        let found;\n        let j = 0;\n        while ((found = restOfExp(constants, argsString.substring(j), [/^,/])).length) {\n            j += found.length + 1;\n            args.push(found.trim());\n        }\n    }\n    ctx.lispTree = lispify(constants, part.substring(i), expectTypes.expEdge.next, new Lisp({\n        op: type,\n        a: lispify(constants, obj, expectTypes.initialize.next),\n        b: toLispArray(args.map((arg) => lispify(constants, arg, expectTypes.initialize.next))),\n    }));\n});\nconst ofStart2 = lispify(undefined, new CodeString('let $$iterator = $$obj[Symbol.iterator]()'), ['initialize']);\nconst ofStart3 = lispify(undefined, new CodeString('let $$next = $$iterator.next()'), ['initialize']);\nconst ofCondition = lispify(undefined, new CodeString('return !$$next.done'), ['initialize']);\nconst ofStep = lispify(undefined, new CodeString('$$next = $$iterator.next()'));\nconst inStart2 = lispify(undefined, new CodeString('let $$keys = Object.keys($$obj)'), ['initialize']);\nconst inStart3 = lispify(undefined, new CodeString('let $$keyIndex = 0'), ['initialize']);\nconst inStep = lispify(undefined, new CodeString('$$keyIndex++'));\nconst inCondition = lispify(undefined, new CodeString('return $$keyIndex < $$keys.length'), ['initialize']);\nvar lastType;\nfunction lispify(constants, part, expected, lispTree, topLevel = false) {\n    expected = expected || expectTypes.initialize.next;\n    if (part === undefined)\n        return lispTree;\n    part = part.trimStart();\n    const str = part.toString();\n    if (!part.length && !expected.includes('expEnd')) {\n        throw new SyntaxError(\"Unexpected end of expression\");\n    }\n    if (!part.length)\n        return lispTree;\n    let ctx = { lispTree: lispTree };\n    let res;\n    for (let expect of expected) {\n        if (expect === 'expEnd') {\n            continue;\n        }\n        for (let type in expectTypes[expect].types) {\n            if (type === 'expEnd') {\n                continue;\n            }\n            if (res = expectTypes[expect].types[type].exec(str)) {\n                lastType = type;\n                try {\n                    lispTypes.get(type)(constants, type, part, res, expect, ctx);\n                }\n                catch (e) {\n                    if (topLevel && e instanceof SyntaxError) {\n                        throw new ParseError(e.message, str);\n                    }\n                    throw e;\n                }\n                break;\n            }\n        }\n        if (res)\n            break;\n    }\n    if (!res && part.length) {\n        `Unexpected token after ${lastType}: ${part.char(0)}`;\n        if (topLevel) {\n            throw new ParseError(`Unexpected token after ${lastType}: ${part.char(0)}`, str);\n        }\n        throw new SyntaxError(`Unexpected token after ${lastType}: ${part.char(0)}`);\n    }\n    return ctx.lispTree;\n}\nconst startingExpectedWithoutSingle = startingExecpted.filter((r) => r !== 'expSingle');\nfunction lispifyExpr(constants, str, expected) {\n    if (!str.trimStart().length)\n        return undefined;\n    let subExpressions = [];\n    let sub;\n    let pos = 0;\n    expected = expected || expectTypes.initialize.next;\n    if (expected.includes('expSingle')) {\n        if (testMultiple(str.toString(), Object.values(expectTypes.expSingle.types))) {\n            return lispify(constants, str, ['expSingle'], undefined, true);\n        }\n    }\n    if (expected === startingExecpted)\n        expected = startingExpectedWithoutSingle;\n    while ((sub = restOfExp(constants, str.substring(pos), [/^,/])).length) {\n        subExpressions.push(sub.trimStart());\n        pos += sub.length + 1;\n    }\n    if (subExpressions.length === 1) {\n        return lispify(constants, str, expected, undefined, true);\n    }\n    if (expected.includes('initialize')) {\n        let defined = expectTypes.initialize.types.initialize.exec(subExpressions[0].toString());\n        if (defined) {\n            return toLispArray(subExpressions.map((str, i) => lispify(constants, i ? new CodeString(defined[1] + ' ' + str) : str, ['initialize'], undefined, true)));\n        }\n        else if (expectTypes.initialize.types.return.exec(subExpressions[0].toString())) {\n            return lispify(constants, str, expected, undefined, true);\n        }\n    }\n    const exprs = toLispArray(subExpressions.map((str, i) => lispify(constants, str, expected, undefined, true)));\n    return new Lisp({ op: \"multi\", a: exprs });\n}\nfunction lispifyReturnExpr(constants, str) {\n    return new Lisp({ op: 'return', b: lispifyExpr(constants, str) });\n}\nfunction lispifyBlock(str, constants, expression = false) {\n    str = insertSemicolons(constants, str);\n    if (!str.trim().length)\n        return toLispArray([]);\n    let parts = [];\n    let part;\n    let pos = 0;\n    let start = 0;\n    let details = {};\n    let skipped = false;\n    let isInserted = false;\n    while ((part = restOfExp(constants, str.substring(pos), [semiColon], undefined, undefined, undefined, details)).length) {\n        isInserted = str.char(pos + part.length) && str.char(pos + part.length) !== ';';\n        pos += part.length + (isInserted ? 0 : 1);\n        if (/^\\s*else(?![\\w\\$])/.test(str.substring(pos).toString())) {\n            skipped = true;\n        }\n        else if (details.words.includes('do') && /^\\s*while(?![\\w\\$])/.test(str.substring(pos).toString())) {\n            skipped = true;\n        }\n        else {\n            skipped = false;\n            parts.push(str.substring(start, pos - (isInserted ? 0 : 1)));\n            start = pos;\n        }\n        details = {};\n        if (expression)\n            break;\n    }\n    if (skipped) {\n        parts.push(str.substring(start, pos - (isInserted ? 0 : 1)));\n    }\n    return toLispArray(parts.map((str) => str.trimStart()).filter((str) => str.length).map((str, j) => {\n        return lispifyExpr(constants, str.trimStart(), startingExecpted);\n    }).flat());\n}\nfunction lispifyFunction(str, constants, expression = false) {\n    if (!str.trim().length)\n        return toLispArray([]);\n    const tree = lispifyBlock(str, constants, expression);\n    let hoisted = toLispArray([]);\n    hoist(tree, hoisted);\n    return toLispArray(hoisted.concat(tree));\n}\nfunction hoist(item, res) {\n    if (Array.isArray(item)) {\n        const rep = [];\n        for (let it of item) {\n            if (!hoist(it, res)) {\n                rep.push(it);\n            }\n        }\n        if (rep.length !== item.length) {\n            item.length = 0;\n            item.push(...rep);\n        }\n    }\n    else if (item instanceof Lisp) {\n        if (item.op === \"try\" || item.op === \"if\" || item.op === \"loop\" || item.op === \"switch\") {\n            hoist(item.a, res);\n            hoist(item.b, res);\n        }\n        else if (item.op === \"var\") {\n            res.push(new Lisp({ op: 'var', a: item.a }));\n        }\n        else if (item.op === \"function\" && item.a[1]) {\n            res.push(item);\n            return true;\n        }\n    }\n    return false;\n}\nconst closingsNoInsertion = /^(\\})\\s*(catch|finally|else|while|instanceof)(?![\\w\\$])/;\n//  \\w|)|] \\n \\w = 2                                  // \\} \\w|\\{ = 5 \nconst colonsRegex = /^((([\\w\\$\\]\\)\\\"\\'\\`]|\\+\\+|\\-\\-)\\s*\\r?\\n\\s*([\\w\\$\\+\\-\\!~]))|(\\}\\s*[\\w\\$\\!~\\+\\-\\{\\(\\\"\\'\\`]))/;\n// if () \\w \\n; \\w              == \\w \\n \\w    | last === if             a\n// if () { }; \\w                == \\} ^else    | last === if             b\n// if () \\w \\n; else \\n \\w \\n;  == \\w \\n \\w    | last === else           a\n// if () {} else {}; \\w         == \\} \\w       | last === else           b\n// while () \\n \\w \\n; \\w        == \\w \\n \\w    | last === while          a\n// while () { }; \\w             == \\} \\w       | last === while          b\n// do \\w \\n; while (); \\w       == \\w \\n while | last === do             a\n// do { } while (); \\w          == \\) \\w       | last === while          c\n// try {} catch () {}; \\w       == \\} \\w       | last === catch|finally  b\n// \\w \\n; \\w                    == \\w \\n \\w    | last === none           a\n// cb() \\n \\w                   == \\) \\n \\w    | last === none           a\n// obj[a] \\n \\w                 == \\] \\n \\w    | last === none           a\n// {} {}                        == \\} \\{       | last === none           b\nfunction insertSemicolons(constants, str) {\n    let rest = str;\n    let sub = emptyString;\n    let details = {};\n    const inserted = insertedSemicolons.get(str.ref) || new Array(str.ref.str.length);\n    while ((sub = restOfExp(constants, rest, [], undefined, undefined, [colonsRegex], details)).length) {\n        let valid = false;\n        let part = sub;\n        let edge = sub.length;\n        if (details.regRes) {\n            valid = true;\n            const [, , a, , , b] = details.regRes;\n            edge = details.regRes[3] === \"++\" || details.regRes[3] === \"--\" ? sub.length + 1 : sub.length;\n            part = rest.substring(0, edge);\n            if (b) {\n                let res = closingsNoInsertion.exec(rest.substring(sub.length - 1).toString());\n                if (res) {\n                    if (res[2] === 'while') {\n                        valid = details.lastWord !== 'do';\n                    }\n                    else {\n                        valid = false;\n                    }\n                }\n                else if (details.lastWord === 'function' && details.regRes[5][0] === \"}\" && details.regRes[5].slice(-1) === '(') {\n                    valid = false;\n                }\n            }\n            else if (a) {\n                if (details.lastWord === 'if' || details.lastWord === 'while' || details.lastWord === 'for' || details.lastWord === 'else') {\n                    valid = false;\n                }\n            }\n        }\n        if (valid) {\n            inserted[part.end] = true;\n        }\n        rest = rest.substring(edge);\n        details = {};\n    }\n    insertedSemicolons.set(str.ref, inserted);\n    return str;\n}\nfunction checkRegex(str) {\n    let i = 1;\n    let escape = false;\n    let done = false;\n    let cancel = false;\n    while (i < str.length && !done && !cancel) {\n        done = (str[i] === '/' && !escape);\n        escape = str[i] === '\\\\' && !escape;\n        cancel = str[i] === '\\n';\n        i++;\n    }\n    let after = str.substring(i);\n    cancel = (cancel || !done) || /^\\s*\\d/.test(after);\n    if (cancel)\n        return null;\n    let flags = /^[a-z]*/.exec(after);\n    if (/^\\s+[\\w\\$]/.test(str.substring(i + flags[0].length))) {\n        return null;\n    }\n    return {\n        regex: str.substring(1, i - 1),\n        flags: (flags && flags[0]) || \"\",\n        length: i + ((flags && flags[0].length) || 0)\n    };\n}\nconst notDivide = /(typeof|delete|instanceof|return|in|of|throw|new|void|do|if)$/;\nconst possibleDivide = /^([\\w\\$\\]\\)]|\\+\\+|\\-\\-)[\\s\\/]/;\nfunction extractConstants(constants, str, currentEnclosure = \"\") {\n    let quote;\n    let extract = [];\n    let escape = false;\n    let regexFound;\n    let comment = \"\";\n    let commentStart = -1;\n    let currJs = toLispArray([]);\n    let char = \"\";\n    const strRes = [];\n    const enclosures = [];\n    let isPossibleDivide;\n    for (var i = 0; i < str.length; i++) {\n        char = str[i];\n        if (comment) {\n            if (char === comment) {\n                if (comment === \"*\" && str[i + 1] === \"/\") {\n                    comment = \"\";\n                    i++;\n                }\n                else if (comment === \"\\n\") {\n                    comment = \"\";\n                }\n            }\n        }\n        else {\n            if (escape) {\n                escape = false;\n                extract.push(char);\n                continue;\n            }\n            if (quote) {\n                if (quote === \"`\" && char === \"$\" && str[i + 1] === \"{\") {\n                    let skip = extractConstants(constants, str.substring(i + 2), \"{\");\n                    currJs.push(skip.str);\n                    extract.push('${', currJs.length - 1, `}`);\n                    i += skip.length + 2;\n                }\n                else if (quote === char) {\n                    if (quote === '`') {\n                        constants.literals.push({\n                            op: 'literal',\n                            a: unraw(extract.join(\"\")),\n                            b: currJs\n                        });\n                        strRes.push(`\\``, constants.literals.length - 1, `\\``);\n                    }\n                    else {\n                        constants.strings.push(unraw(extract.join(\"\")));\n                        strRes.push(`\"`, constants.strings.length - 1, `\"`);\n                    }\n                    quote = null;\n                    extract = [];\n                }\n                else {\n                    extract.push(char);\n                }\n            }\n            else {\n                if ((char === \"'\" || char === '\"' || char === '`')) {\n                    currJs = toLispArray([]);\n                    quote = char;\n                }\n                else if (closings[currentEnclosure] === char && !enclosures.length) {\n                    return { str: strRes.join(\"\"), length: i };\n                }\n                else if (closings[char]) {\n                    enclosures.push(char);\n                    strRes.push(char);\n                }\n                else if (closings[enclosures[enclosures.length - 1]] === char) {\n                    enclosures.pop();\n                    strRes.push(char);\n                }\n                else if (char === \"/\" && (str[i + 1] === \"*\" || str[i + 1] === \"/\")) {\n                    comment = str[i + 1] === \"*\" ? \"*\" : \"\\n\";\n                    commentStart = i;\n                }\n                else if (char === '/' && !isPossibleDivide && (regexFound = checkRegex(str.substring(i)))) {\n                    constants.regexes.push(regexFound);\n                    strRes.push(`/`, constants.regexes.length - 1, `/r`);\n                    i += regexFound.length - 1;\n                }\n                else {\n                    strRes.push(char);\n                }\n                if (!isPossibleDivide || !space.test(char)) {\n                    if (isPossibleDivide = possibleDivide.exec(str.substring(i))) {\n                        if (notDivide.test(str.substring(0, i + isPossibleDivide[1].length))) {\n                            isPossibleDivide = null;\n                        }\n                    }\n                }\n            }\n            escape = quote && char === \"\\\\\";\n        }\n    }\n    if (comment) {\n        if (comment === \"*\") {\n            throw new SyntaxError(`Unclosed comment '/*': ${str.substring(commentStart)}`);\n        }\n    }\n    return { str: strRes.join(\"\"), length: i };\n}\nfunction parse(code, eager = false, expression = false) {\n    if (typeof code !== 'string')\n        throw new ParseError(`Cannot parse ${code}`, code);\n    let str = ' ' + code;\n    const constants = { strings: [], literals: [], regexes: [], eager };\n    str = extractConstants(constants, str).str;\n    for (let l of constants.literals) {\n        l.b = toLispArray(l.b.map((js) => lispifyExpr(constants, new CodeString(js))));\n    }\n    return { tree: lispifyFunction(new CodeString(str), constants, expression), constants };\n}\n\nclass ExecReturn {\n    constructor(auditReport, result, returned, breakLoop = false, continueLoop = false) {\n        this.auditReport = auditReport;\n        this.result = result;\n        this.returned = returned;\n        this.breakLoop = breakLoop;\n        this.continueLoop = continueLoop;\n    }\n}\nclass Prop {\n    constructor(context, prop, isConst = false, isGlobal = false, isVariable = false) {\n        this.context = context;\n        this.prop = prop;\n        this.isConst = isConst;\n        this.isGlobal = isGlobal;\n        this.isVariable = isVariable;\n    }\n    get() {\n        if (this.context === undefined)\n            throw new ReferenceError(`${this.prop} is not defined`);\n        return this.context[this.prop];\n    }\n}\nconst optional = {};\nconst reservedWords = new Set([\n    'instanceof',\n    'typeof',\n    'return',\n    'try',\n    'catch',\n    'if',\n    'finally',\n    'else',\n    'in',\n    'of',\n    'var',\n    'let',\n    'const',\n    'for',\n    'delete',\n    'false',\n    'true',\n    'while',\n    'do',\n    'break',\n    'continue',\n    'new',\n    'function',\n    'async',\n    'await',\n    'switch',\n    'case'\n]);\nvar VarType;\n(function (VarType) {\n    VarType[\"let\"] = \"let\";\n    VarType[\"const\"] = \"const\";\n    VarType[\"var\"] = \"var\";\n})(VarType || (VarType = {}));\nfunction keysOnly(obj) {\n    const ret = Object.assign({}, obj);\n    for (let key in ret) {\n        ret[key] = true;\n    }\n    return ret;\n}\nclass Scope {\n    constructor(parent, vars = {}, functionThis) {\n        this.const = {};\n        this.let = {};\n        this.var = {};\n        const isFuncScope = functionThis !== undefined || parent === null;\n        this.parent = parent;\n        this.allVars = vars;\n        this.let = isFuncScope ? this.let : keysOnly(vars);\n        this.var = isFuncScope ? keysOnly(vars) : this.var;\n        this.globals = parent === null ? keysOnly(vars) : {};\n        this.functionThis = functionThis;\n    }\n    get(key, functionScope = false) {\n        if (key === 'this' && this.functionThis !== undefined) {\n            return new Prop({ this: this.functionThis }, key, true, false, true);\n        }\n        if (reservedWords.has(key))\n            throw new SyntaxError(\"Unexepected token '\" + key + \"'\");\n        if (this.parent === null || !functionScope || this.functionThis !== undefined) {\n            if (this.globals.hasOwnProperty(key)) {\n                return new Prop(this.functionThis, key, false, true, true);\n            }\n            if (key in this.allVars && (!(key in {}) || this.allVars.hasOwnProperty(key))) {\n                return new Prop(this.allVars, key, this.const.hasOwnProperty(key), this.globals.hasOwnProperty(key), true);\n            }\n            if (this.parent === null) {\n                return new Prop(undefined, key);\n            }\n        }\n        return this.parent.get(key, functionScope);\n    }\n    set(key, val) {\n        if (key === 'this')\n            throw new SyntaxError('\"this\" cannot be assigned');\n        if (reservedWords.has(key))\n            throw new SyntaxError(\"Unexepected token '\" + key + \"'\");\n        let prop = this.get(key);\n        if (prop.context === undefined) {\n            throw new ReferenceError(`Variable '${key}' was not declared.`);\n        }\n        if (prop.isConst) {\n            throw new TypeError(`Cannot assign to const variable '${key}'`);\n        }\n        if (prop.isGlobal) {\n            throw new SandboxError(`Cannot override global variable '${key}'`);\n        }\n        prop.context[prop] = val;\n        return prop;\n    }\n    declare(key, type = null, value = undefined, isGlobal = false) {\n        if (key === 'this')\n            throw new SyntaxError('\"this\" cannot be declared');\n        if (reservedWords.has(key))\n            throw new SyntaxError(\"Unexepected token '\" + key + \"'\");\n        if (type === 'var' && this.functionThis === undefined && this.parent !== null) {\n            return this.parent.declare(key, type, value, isGlobal);\n        }\n        else if ((this[type].hasOwnProperty(key) && type !== 'const' && !this.globals.hasOwnProperty(key)) || !(key in this.allVars)) {\n            if (isGlobal) {\n                this.globals[key] = true;\n            }\n            this[type][key] = true;\n            this.allVars[key] = value;\n        }\n        else {\n            throw new SandboxError(`Identifier '${key}' has already been declared`);\n        }\n        return new Prop(this.allVars, key, this.const.hasOwnProperty(key), isGlobal);\n    }\n}\nclass FunctionScope {\n}\nclass LocalScope {\n}\nclass SandboxError extends Error {\n}\nlet currentTicks;\nfunction sandboxFunction(context, ticks) {\n    return SandboxFunction;\n    function SandboxFunction(...params) {\n        let code = params.pop() || \"\";\n        let parsed = parse(code);\n        return createFunction(params, parsed.tree, ticks || currentTicks, {\n            ctx: context,\n            constants: parsed.constants,\n            tree: parsed.tree\n        }, undefined, 'anonymous');\n    }\n}\nfunction generateArgs(argNames, args) {\n    const vars = {};\n    argNames.forEach((arg, i) => {\n        if (arg.startsWith('...')) {\n            vars[arg.substring(3)] = args.slice(i);\n        }\n        else {\n            vars[arg] = args[i];\n        }\n    });\n    return vars;\n}\nconst sandboxedFunctions = new WeakSet();\nfunction createFunction(argNames, parsed, ticks, context, scope, name) {\n    if (context.ctx.options.forbidFunctionCreation) {\n        throw new SandboxError(\"Function creation is forbidden\");\n    }\n    let func;\n    if (name === undefined) {\n        func = (...args) => {\n            const vars = generateArgs(argNames, args);\n            const res = executeTree(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars)]);\n            return res.result;\n        };\n    }\n    else {\n        func = function sandboxedObject(...args) {\n            const vars = generateArgs(argNames, args);\n            const res = executeTree(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars, this)]);\n            return res.result;\n        };\n    }\n    sandboxedFunctions.add(func);\n    return func;\n}\nfunction createFunctionAsync(argNames, parsed, ticks, context, scope, name) {\n    var _a;\n    if (context.ctx.options.forbidFunctionCreation) {\n        throw new SandboxError(\"Function creation is forbidden\");\n    }\n    if (!((_a = context.ctx.prototypeWhitelist) === null || _a === void 0 ? void 0 : _a.has(Promise.prototype))) {\n        throw new SandboxError(\"Async/await not permitted\");\n    }\n    let func;\n    if (name === undefined) {\n        func = async (...args) => {\n            const vars = generateArgs(argNames, args);\n            const res = await executeTreeAsync(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars)]);\n            return res.result;\n        };\n    }\n    else {\n        func = async function sandboxedObject(...args) {\n            const vars = generateArgs(argNames, args);\n            const res = await executeTreeAsync(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars, this)]);\n            return res.result;\n        };\n    }\n    sandboxedFunctions.add(func);\n    return func;\n}\nfunction sandboxedEval(func) {\n    return sandboxEval;\n    function sandboxEval(code) {\n        return func(code)();\n    }\n}\nfunction sandboxedSetTimeout(func) {\n    return function sandboxSetTimeout(handler, ...args) {\n        if (typeof handler !== 'string')\n            return setTimeout(handler, ...args);\n        return setTimeout(func(handler), ...args);\n    };\n}\nfunction sandboxedSetInterval(func) {\n    return function sandboxSetInterval(handler, ...args) {\n        if (typeof handler !== 'string')\n            return setInterval(handler, ...args);\n        return setInterval(func(handler), ...args);\n    };\n}\nfunction assignCheck(obj, context, op = 'assign') {\n    var _a, _b, _c, _d;\n    if (obj.context === undefined) {\n        throw new ReferenceError(`Cannot ${op} value to undefined.`);\n    }\n    if (typeof obj.context !== 'object' && typeof obj.context !== 'function') {\n        throw new SyntaxError(`Cannot ${op} value to a primitive.`);\n    }\n    if (obj.isConst) {\n        throw new TypeError(`Cannot set value to const variable '${obj.prop}'`);\n    }\n    if (obj.isGlobal) {\n        throw new SandboxError(`Cannot ${op} property '${obj.prop}' of a global object`);\n    }\n    if (typeof obj.context[obj.prop] === 'function' && !obj.context.hasOwnProperty(obj.prop)) {\n        throw new SandboxError(`Override prototype property '${obj.prop}' not allowed`);\n    }\n    if (op === \"delete\") {\n        if (obj.context.hasOwnProperty(obj.prop)) {\n            (_a = context.ctx.changeSubscriptions.get(obj.context)) === null || _a === void 0 ? void 0 : _a.forEach((cb) => cb({ type: \"delete\", prop: obj.prop }));\n        }\n    }\n    else if (obj.context.hasOwnProperty(obj.prop)) {\n        (_c = (_b = context.ctx.setSubscriptions.get(obj.context)) === null || _b === void 0 ? void 0 : _b.get(obj.prop)) === null || _c === void 0 ? void 0 : _c.forEach((cb) => cb({\n            type: \"replace\"\n        }));\n    }\n    else {\n        (_d = context.ctx.changeSubscriptions.get(obj.context)) === null || _d === void 0 ? void 0 : _d.forEach((cb) => cb({ type: \"create\", prop: obj.prop }));\n    }\n}\nconst arrayChange = new Set([\n    [].push,\n    [].pop,\n    [].shift,\n    [].unshift,\n    [].splice,\n    [].reverse,\n    [].sort,\n    [].copyWithin\n]);\nconst literalRegex = /(\\$\\$)*(\\$)?\\${(\\d+)}/g;\nlet ops2 = {\n    'prop': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (a === null) {\n            throw new TypeError(`Cannot get property ${b} of null`);\n        }\n        const type = typeof a;\n        if (type === 'undefined' && obj === undefined) {\n            let prop = scope.get(b);\n            if (prop.context === context.ctx.sandboxGlobal) {\n                if (context.ctx.options.audit) {\n                    context.ctx.auditReport.globalsAccess.add(b);\n                }\n                const rep = context.ctx.globalsWhitelist.has(context.ctx.sandboxGlobal[b]) ? context.ctx.evals.get(context.ctx.sandboxGlobal[b]) : undefined;\n                if (rep) {\n                    done(undefined, rep);\n                    return;\n                }\n            }\n            if (prop.context && prop.context[b] === globalThis) {\n                done(undefined, context.ctx.globalScope.get('this'));\n                return;\n            }\n            context.ctx.getSubscriptions.forEach((cb) => cb(prop.context, prop.prop));\n            done(undefined, prop);\n            return;\n        }\n        else if (a === undefined) {\n            throw new SandboxError(\"Cannot get property '\" + b + \"' of undefined\");\n        }\n        if (type !== 'object') {\n            if (type === 'number') {\n                a = new Number(a);\n            }\n            else if (type === 'string') {\n                a = new String(a);\n            }\n            else if (type === 'boolean') {\n                a = new Boolean(a);\n            }\n        }\n        else if (typeof a.hasOwnProperty === 'undefined') {\n            done(undefined, new Prop(undefined, b));\n            return;\n        }\n        const isFunction = type === 'function';\n        let prototypeAccess = isFunction || !(a.hasOwnProperty(b) || typeof b === 'number');\n        if (context.ctx.options.audit && prototypeAccess) {\n            if (typeof b === 'string') {\n                let prot = Object.getPrototypeOf(a);\n                do {\n                    if (prot.hasOwnProperty(b)) {\n                        if (!context.ctx.auditReport.prototypeAccess[prot.constructor.name]) {\n                            context.ctx.auditReport.prototypeAccess[prot.constructor.name] = new Set();\n                        }\n                        context.ctx.auditReport.prototypeAccess[prot.constructor.name].add(b);\n                    }\n                } while (prot = Object.getPrototypeOf(prot));\n            }\n        }\n        if (prototypeAccess) {\n            if (isFunction) {\n                if (!['name', 'length', 'constructor'].includes(b) && a.hasOwnProperty(b)) {\n                    const whitelist = context.ctx.prototypeWhitelist.get(a.prototype);\n                    const replace = context.ctx.options.prototypeReplacements.get(a);\n                    if (replace) {\n                        done(undefined, new Prop(replace(a, true), b));\n                        return;\n                    }\n                    if (whitelist && (!whitelist.size || whitelist.has(b))) ;\n                    else {\n                        throw new SandboxError(`Static method or property access not permitted: ${a.name}.${b}`);\n                    }\n                }\n            }\n            else if (b !== 'constructor') {\n                let prot = a;\n                while (prot = Object.getPrototypeOf(prot)) {\n                    if (prot.hasOwnProperty(b)) {\n                        const whitelist = context.ctx.prototypeWhitelist.get(prot);\n                        const replace = context.ctx.options.prototypeReplacements.get(prot.constuctor);\n                        if (replace) {\n                            done(undefined, new Prop(replace(a, false), b));\n                            return;\n                        }\n                        if (whitelist && (!whitelist.size || whitelist.has(b))) {\n                            break;\n                        }\n                        throw new SandboxError(`Method or property access not permitted: ${prot.constructor.name}.${b}`);\n                    }\n                }\n            }\n        }\n        if (context.ctx.evals.has(a[b])) {\n            done(undefined, context.ctx.evals.get(a[b]));\n            return;\n        }\n        if (a[b] === globalThis) {\n            done(undefined, context.ctx.globalScope.get('this'));\n            return;\n        }\n        let g = obj.isGlobal || (isFunction && !sandboxedFunctions.has(a)) || context.ctx.globalsWhitelist.has(a);\n        if (!g) {\n            context.ctx.getSubscriptions.forEach((cb) => cb(a, b));\n        }\n        done(undefined, new Prop(a, b, false, g));\n    },\n    'call': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (context.ctx.options.forbidFunctionCalls)\n            throw new SandboxError(\"Function invocations are not allowed\");\n        if (typeof a !== 'function') {\n            throw new TypeError(`${obj.prop} is not a function`);\n        }\n        const args = b.map((item) => {\n            if (item instanceof SpreadArray) {\n                return [...item.item];\n            }\n            else {\n                return [item];\n            }\n        }).flat();\n        execMany(ticks, exec, toLispArray(args), (err, vals) => {\n            var _a;\n            if (err) {\n                done(err);\n                return;\n            }\n            if (typeof obj === 'function') {\n                done(undefined, obj(...vals));\n                return;\n            }\n            if (obj.context[obj.prop] === JSON.stringify && context.ctx.getSubscriptions.size) {\n                const cache = new Set();\n                const recurse = (x) => {\n                    if (!x || !(typeof x === 'object') || cache.has(x))\n                        return;\n                    cache.add(x);\n                    for (let y in x) {\n                        context.ctx.getSubscriptions.forEach((cb) => cb(x, y));\n                        recurse(x[y]);\n                    }\n                };\n                recurse(vals[0]);\n            }\n            if (obj.context instanceof Array && arrayChange.has(obj.context[obj.prop]) && context.ctx.changeSubscriptions.get(obj.context)) {\n                let change;\n                let changed = false;\n                if (obj.prop === \"push\") {\n                    change = {\n                        type: \"push\",\n                        added: vals\n                    };\n                    changed = !!vals.length;\n                }\n                else if (obj.prop === \"pop\") {\n                    change = {\n                        type: \"pop\",\n                        removed: obj.context.slice(-1)\n                    };\n                    changed = !!change.removed.length;\n                }\n                else if (obj.prop === \"shift\") {\n                    change = {\n                        type: \"shift\",\n                        removed: obj.context.slice(0, 1)\n                    };\n                    changed = !!change.removed.length;\n                }\n                else if (obj.prop === \"unshift\") {\n                    change = {\n                        type: \"unshift\",\n                        added: vals\n                    };\n                    changed = !!vals.length;\n                }\n                else if (obj.prop === \"splice\") {\n                    change = {\n                        type: \"splice\",\n                        startIndex: vals[0],\n                        deleteCount: vals[1] === undefined ? obj.context.length : vals[1],\n                        added: vals.slice(2),\n                        removed: obj.context.slice(vals[0], vals[1] === undefined ? undefined : vals[0] + vals[1])\n                    };\n                    changed = !!change.added.length || !!change.removed.length;\n                }\n                else if (obj.prop === \"reverse\" || obj.prop === \"sort\") {\n                    change = { type: obj.prop };\n                    changed = !!obj.context.length;\n                }\n                else if (obj.prop === \"copyWithin\") {\n                    let len = vals[2] === undefined ? obj.context.length - vals[1] : Math.min(obj.context.length, vals[2] - vals[1]);\n                    change = {\n                        type: \"copyWithin\",\n                        startIndex: vals[0],\n                        endIndex: vals[0] + len,\n                        added: obj.context.slice(vals[1], vals[1] + len),\n                        removed: obj.context.slice(vals[0], vals[0] + len)\n                    };\n                    changed = !!change.added.length || !!change.removed.length;\n                }\n                if (changed) {\n                    (_a = context.ctx.changeSubscriptions.get(obj.context)) === null || _a === void 0 ? void 0 : _a.forEach((cb) => cb(change));\n                }\n            }\n            done(undefined, obj.context[obj.prop](...vals));\n        }, scope, context);\n    },\n    'createObject': (exec, done, ticks, a, b, obj, context, scope) => {\n        let res = {};\n        for (let item of b) {\n            if (item instanceof SpreadObject) {\n                res = { ...res, ...item.item };\n            }\n            else {\n                res[item.key] = item.val;\n            }\n        }\n        done(undefined, res);\n    },\n    'keyVal': (exec, done, ticks, a, b) => done(undefined, new KeyVal(a, b)),\n    'createArray': (exec, done, ticks, a, b, obj, context, scope) => {\n        const items = b.map((item) => {\n            if (item instanceof SpreadArray) {\n                return [...item.item];\n            }\n            else {\n                return [item];\n            }\n        }).flat();\n        execMany(ticks, exec, toLispArray(items), done, scope, context);\n    },\n    'group': (exec, done, ticks, a, b) => done(undefined, b),\n    'string': (exec, done, ticks, a, b, obj, context) => done(undefined, context.constants.strings[b]),\n    'regex': (exec, done, ticks, a, b, obj, context) => {\n        const reg = context.constants.regexes[b];\n        if (!context.ctx.globalsWhitelist.has(RegExp)) {\n            throw new SandboxError(\"Regex not permitted\");\n        }\n        else {\n            done(undefined, new RegExp(reg.regex, reg.flags));\n        }\n    },\n    'literal': (exec, done, ticks, a, b, obj, context, scope) => {\n        let name = context.constants.literals[b].a;\n        let found = toLispArray([]);\n        let f;\n        let resnums = [];\n        while (f = literalRegex.exec(name)) {\n            if (!f[2]) {\n                found.push(context.constants.literals[b].b[parseInt(f[3], 10)]);\n                resnums.push(f[3]);\n            }\n        }\n        execMany(ticks, exec, found, (err, processed) => {\n            const reses = {};\n            if (err) {\n                done(err);\n                return;\n            }\n            for (let i in resnums) {\n                const num = resnums[i];\n                reses[num] = processed[i];\n            }\n            done(undefined, name.replace(/(\\\\\\\\)*(\\\\)?\\${(\\d+)}/g, (match, $$, $, num) => {\n                if ($)\n                    return match;\n                let res = reses[num];\n                return ($$ ? $$ : '') + `${valueOrProp(res)}`;\n            }));\n        }, scope, context);\n    },\n    'spreadArray': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, new SpreadArray(res));\n        });\n    },\n    'spreadObject': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, new SpreadObject(res));\n        });\n    },\n    '!': (exec, done, ticks, a, b) => done(undefined, !b),\n    '~': (exec, done, ticks, a, b) => done(undefined, ~b),\n    '++$': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, ++obj.context[obj.prop]);\n    },\n    '$++': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop]++);\n    },\n    '--$': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, --obj.context[obj.prop]);\n    },\n    '$--': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop]--);\n    },\n    '=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        obj.context[obj.prop] = b;\n        done(undefined, new Prop(obj.context, obj.prop, false, obj.isGlobal));\n    },\n    '+=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] += b);\n    },\n    '-=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] -= b);\n    },\n    '/=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] /= b);\n    },\n    '*=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] *= b);\n    },\n    '**=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] **= b);\n    },\n    '%=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] %= b);\n    },\n    '^=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] ^= b);\n    },\n    '&=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] &= b);\n    },\n    '|=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] |= b);\n    },\n    '<<=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] <<= b);\n    },\n    '>>=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] >>= b);\n    },\n    '>>>=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] >>= b);\n    },\n    '?': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (!(b instanceof If)) {\n            throw new SyntaxError('Invalid inline if');\n        }\n        exec(ticks, a, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n            }\n            else {\n                exec(ticks, valueOrProp(res) ? b.t : b.f, scope, context, done);\n            }\n        });\n    },\n    '>': (exec, done, ticks, a, b) => done(undefined, a > b),\n    '<': (exec, done, ticks, a, b) => done(undefined, a < b),\n    '>=': (exec, done, ticks, a, b) => done(undefined, a >= b),\n    '<=': (exec, done, ticks, a, b) => done(undefined, a <= b),\n    '==': (exec, done, ticks, a, b) => done(undefined, a == b),\n    '===': (exec, done, ticks, a, b) => done(undefined, a === b),\n    '!=': (exec, done, ticks, a, b) => done(undefined, a != b),\n    '!==': (exec, done, ticks, a, b) => done(undefined, a !== b),\n    '&&': (exec, done, ticks, a, b) => done(undefined, a && b),\n    '||': (exec, done, ticks, a, b) => done(undefined, a || b),\n    '&': (exec, done, ticks, a, b) => done(undefined, a & b),\n    '|': (exec, done, ticks, a, b) => done(undefined, a | b),\n    ':': (exec, done, ticks, a, b) => done(undefined, new If(a, b)),\n    '+': (exec, done, ticks, a, b) => done(undefined, a + b),\n    '-': (exec, done, ticks, a, b) => done(undefined, a - b),\n    '$+': (exec, done, ticks, a, b) => done(undefined, +b),\n    '$-': (exec, done, ticks, a, b) => done(undefined, -b),\n    '/': (exec, done, ticks, a, b) => done(undefined, a / b),\n    '^': (exec, done, ticks, a, b) => done(undefined, a ^ b),\n    '*': (exec, done, ticks, a, b) => done(undefined, a * b),\n    '%': (exec, done, ticks, a, b) => done(undefined, a % b),\n    '<<': (exec, done, ticks, a, b) => done(undefined, a << b),\n    '>>': (exec, done, ticks, a, b) => done(undefined, a >> b),\n    '>>>': (exec, done, ticks, a, b) => done(undefined, a >>> b),\n    'typeof': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, b, scope, context, (e, prop) => {\n            done(undefined, typeof valueOrProp(prop));\n        });\n    },\n    'instanceof': (exec, done, ticks, a, b) => done(undefined, a instanceof b),\n    'in': (exec, done, ticks, a, b) => done(undefined, a in b),\n    'delete': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        if (bobj.context === undefined) {\n            done(undefined, true);\n            return;\n        }\n        assignCheck(bobj, context, 'delete');\n        if (bobj.isVariable) {\n            done(undefined, false);\n            return;\n        }\n        done(undefined, delete bobj.context[bobj.prop]);\n    },\n    'return': (exec, done, ticks, a, b, obj, context) => done(undefined, b),\n    'var': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, scope.declare(a, VarType.var, res));\n        });\n    },\n    'let': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, scope.declare(a, VarType.let, res, bobj && bobj.isGlobal));\n        });\n    },\n    'const': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, scope.declare(a, VarType.const, res));\n        });\n    },\n    'arrowFunc': (exec, done, ticks, a, b, obj, context, scope) => {\n        a = [...a];\n        if (typeof obj.b === \"string\" || obj.b instanceof CodeString) {\n            obj.b = b = lispifyFunction(new CodeString(obj.b), context.constants);\n        }\n        if (a.shift()) {\n            done(undefined, createFunctionAsync(a, b, ticks, context, scope));\n        }\n        else {\n            done(undefined, createFunction(a, b, ticks, context, scope));\n        }\n    },\n    'function': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (typeof obj.b === \"string\" || obj.b instanceof CodeString) {\n            obj.b = b = lispifyFunction(new CodeString(obj.b), context.constants);\n        }\n        let isAsync = a.shift();\n        let name = a.shift();\n        let func;\n        if (isAsync) {\n            func = createFunctionAsync(a, b, ticks, context, scope, name);\n        }\n        else {\n            func = createFunction(a, b, ticks, context, scope, name);\n        }\n        if (name) {\n            scope.declare(name, VarType.var, func);\n        }\n        done(undefined, func);\n    },\n    'inlineFunction': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (typeof obj.b === \"string\" || obj.b instanceof CodeString) {\n            obj.b = b = lispifyFunction(new CodeString(obj.b), context.constants);\n        }\n        let isAsync = a.shift();\n        let name = a.shift();\n        if (name) {\n            scope = new Scope(scope, {});\n        }\n        let func;\n        if (isAsync) {\n            func = createFunctionAsync(a, b, ticks, context, scope, name);\n        }\n        else {\n            func = createFunction(a, b, ticks, context, scope, name);\n        }\n        if (name) {\n            scope.declare(name, VarType.let, func);\n        }\n        done(undefined, func);\n    },\n    'loop': (exec, done, ticks, a, b, obj, context, scope) => {\n        const [checkFirst, startInternal, getIterator, startStep, step, condition, beforeStep] = a;\n        let loop = true;\n        const loopScope = new Scope(scope, {});\n        let internalVars = {\n            '$$obj': undefined\n        };\n        const interalScope = new Scope(loopScope, internalVars);\n        if (exec === execAsync) {\n            (async () => {\n                let ad;\n                ad = asyncDone((d) => exec(ticks, startStep, loopScope, context, d));\n                internalVars['$$obj'] = (ad = asyncDone((d) => exec(ticks, getIterator, loopScope, context, d))).isInstant === true ? ad.instant : (await ad.p).result;\n                ad = asyncDone((d) => exec(ticks, startInternal, interalScope, context, d));\n                if (checkFirst)\n                    loop = (ad = asyncDone((d) => exec(ticks, condition, interalScope, context, d))).isInstant === true ? ad.instant : (await ad.p).result;\n                while (loop) {\n                    let innerLoopVars = {};\n                    ad = asyncDone((d) => exec(ticks, beforeStep, new Scope(interalScope, innerLoopVars), context, d));\n                    ad.isInstant === true ? ad.instant : (await ad.p).result;\n                    let res = await executeTreeAsync(ticks, context, b, [new Scope(loopScope, innerLoopVars)], \"loop\");\n                    if (res instanceof ExecReturn && res.returned) {\n                        done(undefined, res);\n                        return;\n                    }\n                    if (res instanceof ExecReturn && res.breakLoop) {\n                        break;\n                    }\n                    ad = asyncDone((d) => exec(ticks, step, interalScope, context, d));\n                    loop = (ad = asyncDone((d) => exec(ticks, condition, interalScope, context, d))).isInstant === true ? ad.instant : (await ad.p).result;\n                }\n                done();\n            })().catch(done);\n        }\n        else {\n            syncDone((d) => exec(ticks, startStep, loopScope, context, d));\n            internalVars['$$obj'] = syncDone((d) => exec(ticks, getIterator, loopScope, context, d)).result;\n            syncDone((d) => exec(ticks, startInternal, interalScope, context, d));\n            if (checkFirst)\n                loop = (syncDone((d) => exec(ticks, condition, interalScope, context, d))).result;\n            while (loop) {\n                let innerLoopVars = {};\n                syncDone((d) => exec(ticks, beforeStep, new Scope(interalScope, innerLoopVars), context, d));\n                let res = executeTree(ticks, context, b, [new Scope(loopScope, innerLoopVars)], \"loop\");\n                if (res instanceof ExecReturn && res.returned) {\n                    done(undefined, res);\n                    return;\n                }\n                if (res instanceof ExecReturn && res.breakLoop) {\n                    break;\n                }\n                syncDone((d) => exec(ticks, step, interalScope, context, d));\n                loop = (syncDone((d) => exec(ticks, condition, interalScope, context, d))).result;\n            }\n            done();\n        }\n    },\n    'loopAction': (exec, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch) => {\n        if ((inLoopOrSwitch === \"switch\" && a === \"continue\") || !inLoopOrSwitch) {\n            throw new SandboxError(\"Illegal \" + a + \" statement\");\n        }\n        done(undefined, new ExecReturn(context.ctx.auditReport, undefined, false, a === \"break\", a === \"continue\"));\n    },\n    'if': (exec, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch) => {\n        if (!(b instanceof If)) {\n            throw new SyntaxError('Invalid if');\n        }\n        exec(ticks, a, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            executeTreeWithDone(exec, done, ticks, context, valueOrProp(res) ? b.t : b.f, [new Scope(scope)], inLoopOrSwitch);\n        });\n    },\n    'switch': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, a, scope, context, (err, toTest) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            if (exec === execSync) {\n                let res;\n                let isTrue = false;\n                for (let caseItem of b) {\n                    if (isTrue || (isTrue = !caseItem.a || toTest === valueOrProp((syncDone((d) => exec(ticks, caseItem.a, scope, context, d))).result))) {\n                        if (!caseItem.b)\n                            continue;\n                        res = executeTree(ticks, context, caseItem.b, [scope], \"switch\");\n                        if (res.breakLoop)\n                            break;\n                        if (res.returned) {\n                            done(undefined, res);\n                            return;\n                        }\n                        if (!caseItem.a) { // default case\n                            break;\n                        }\n                    }\n                }\n                done();\n            }\n            else {\n                (async () => {\n                    let res;\n                    let isTrue = false;\n                    for (let caseItem of b) {\n                        let ad;\n                        if (isTrue || (isTrue = !caseItem.a || toTest === valueOrProp((ad = asyncDone((d) => exec(ticks, caseItem.a, scope, context, d))).isInstant === true ? ad.instant : (await ad.p).result))) {\n                            if (!caseItem.b)\n                                continue;\n                            res = await executeTreeAsync(ticks, context, caseItem.b, [scope], \"switch\");\n                            if (res.breakLoop)\n                                break;\n                            if (res.returned) {\n                                done(undefined, res);\n                                return;\n                            }\n                            if (!caseItem.a) { // default case\n                                break;\n                            }\n                        }\n                    }\n                    done();\n                })().catch(done);\n            }\n        });\n    },\n    'try': (exec, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch) => {\n        const [exception, catchBody, finallyBody] = b;\n        executeTreeWithDone(exec, (err, res) => {\n            executeTreeWithDone(exec, (e) => {\n                if (e)\n                    done(e);\n                else if (err) {\n                    let sc = {};\n                    if (exception)\n                        sc[exception] = err;\n                    executeTreeWithDone(exec, done, ticks, context, catchBody, [new Scope(scope)], inLoopOrSwitch);\n                }\n                else {\n                    done(undefined, res);\n                }\n            }, ticks, context, finallyBody, [new Scope(scope, {})]);\n        }, ticks, context, a, [new Scope(scope)], inLoopOrSwitch);\n    },\n    'void': (exec, done, ticks, a) => { done(); },\n    'new': (exec, done, ticks, a, b, obj, context) => {\n        if (!context.ctx.globalsWhitelist.has(a) && !sandboxedFunctions.has(a)) {\n            throw new SandboxError(`Object construction not allowed: ${a.constructor.name}`);\n        }\n        done(undefined, new a(...b));\n    },\n    'throw': (exec, done, ticks, a, b) => { done(b); },\n    'multi': (exec, done, ticks, a) => done(undefined, a.pop())\n};\nlet ops = new Map();\nfor (let op in ops2) {\n    ops.set(op, ops2[op]);\n}\nfunction valueOrProp(a) {\n    if (a instanceof Prop)\n        return a.get();\n    if (a === optional)\n        return undefined;\n    return a;\n}\nfunction execMany(ticks, exec, tree, done, scope, context, inLoopOrSwitch) {\n    if (exec === execSync) {\n        _execManySync(ticks, tree, done, scope, context, inLoopOrSwitch);\n    }\n    else {\n        _execManyAsync(ticks, tree, done, scope, context, inLoopOrSwitch).catch(done);\n    }\n}\nfunction _execManySync(ticks, tree, done, scope, context, inLoopOrSwitch) {\n    let ret = [];\n    for (let i = 0; i < tree.length; i++) {\n        let res;\n        try {\n            res = syncDone((d) => execSync(ticks, tree[i], scope, context, d, inLoopOrSwitch)).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (res instanceof ExecReturn && (res.returned || res.breakLoop || res.continueLoop)) {\n            done(undefined, res);\n            return;\n        }\n        ret.push(res);\n    }\n    done(undefined, ret);\n}\nasync function _execManyAsync(ticks, tree, done, scope, context, inLoopOrSwitch) {\n    let ret = [];\n    for (let i = 0; i < tree.length; i++) {\n        let res;\n        try {\n            let ad;\n            res = (ad = asyncDone((d) => execAsync(ticks, tree[i], scope, context, d, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (res instanceof ExecReturn && (res.returned || res.breakLoop || res.continueLoop)) {\n            done(undefined, res);\n            return;\n        }\n        ret.push(res);\n    }\n    done(undefined, ret);\n}\nfunction asyncDone(callback) {\n    let isInstant = false;\n    let instant;\n    const p = new Promise((resolve, reject) => {\n        callback((err, result) => {\n            if (err)\n                reject(err);\n            else {\n                isInstant = true;\n                instant = result;\n                resolve({ result });\n            }\n        });\n    });\n    return {\n        isInstant,\n        instant,\n        p\n    };\n}\nfunction syncDone(callback) {\n    let result;\n    let err;\n    callback((e, r) => {\n        err = e;\n        result = r;\n    });\n    if (err)\n        throw err;\n    return { result };\n}\nasync function execAsync(ticks, tree, scope, context, doneOriginal, inLoopOrSwitch) {\n    let done = doneOriginal;\n    const p = new Promise((resolve) => {\n        done = (e, r) => {\n            doneOriginal(e, r);\n            resolve();\n        };\n    });\n    if (_execNoneRecurse(ticks, tree, scope, context, done, true, inLoopOrSwitch)) ;\n    else if (tree instanceof Lisp) {\n        let obj;\n        try {\n            let ad;\n            obj = (ad = asyncDone((d) => execAsync(ticks, tree.a, scope, context, d, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let a = obj;\n        try {\n            a = obj instanceof Prop ? obj.get() : obj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let op = tree.op;\n        if (op === '?prop' || op === '?call') {\n            if (a === undefined || a === null) {\n                done(undefined, optional);\n                return;\n            }\n            op = op.slice(1);\n        }\n        if (a === optional) {\n            if (op === 'prop' || op === 'call') {\n                done(undefined, a);\n                return;\n            }\n            else {\n                a = undefined;\n            }\n        }\n        let bobj;\n        try {\n            let ad;\n            bobj = (ad = asyncDone((d) => execAsync(ticks, tree.b, scope, context, d, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let b = bobj;\n        try {\n            b = bobj instanceof Prop ? bobj.get() : bobj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (b === optional) {\n            b = undefined;\n        }\n        if (ops.has(op)) {\n            try {\n                ops.get(op)(execAsync, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch);\n            }\n            catch (err) {\n                done(err);\n            }\n        }\n        else {\n            done(new SyntaxError('Unknown operator: ' + op));\n        }\n    }\n    await p;\n}\nfunction execSync(ticks, tree, scope, context, done, inLoopOrSwitch) {\n    if (_execNoneRecurse(ticks, tree, scope, context, done, false, inLoopOrSwitch)) ;\n    else if (tree instanceof Lisp) {\n        let obj;\n        try {\n            obj = syncDone((d) => execSync(ticks, tree.a, scope, context, d, inLoopOrSwitch)).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let a = obj;\n        try {\n            a = obj instanceof Prop ? obj.get() : obj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let op = tree.op;\n        if (op === '?prop' || op === '?call') {\n            if (a === undefined || a === null) {\n                done(undefined, optional);\n                return;\n            }\n            op = op.slice(1);\n        }\n        if (a === optional) {\n            if (op === 'prop' || op === 'call') {\n                done(undefined, a);\n                return;\n            }\n            else {\n                a = undefined;\n            }\n        }\n        let bobj;\n        try {\n            bobj = syncDone((d) => execSync(ticks, tree.b, scope, context, d, inLoopOrSwitch)).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let b = bobj;\n        try {\n            b = bobj instanceof Prop ? bobj.get() : bobj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (b === optional) {\n            b = undefined;\n        }\n        if (ops.has(op)) {\n            try {\n                ops.get(op)(execSync, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch);\n            }\n            catch (err) {\n                done(err);\n            }\n        }\n        else {\n            done(new SyntaxError('Unknown operator: ' + op));\n        }\n    }\n}\nconst unexecTypes = new Set(['arrowFunc', 'function', 'inlineFunction', 'loop', 'try', 'switch', 'if', '?', 'typeof']);\nfunction _execNoneRecurse(ticks, tree, scope, context, done, isAsync, inLoopOrSwitch) {\n    var _a;\n    const exec = isAsync ? execAsync : execSync;\n    if (context.ctx.options.executionQuota <= ticks.ticks) {\n        if (typeof context.ctx.options.onExecutionQuotaReached === 'function' && context.ctx.options.onExecutionQuotaReached(ticks, scope, context, tree)) ;\n        else {\n            done(new SandboxError(\"Execution quota exceeded\"));\n            return;\n        }\n    }\n    ticks.ticks++;\n    currentTicks = ticks;\n    if (tree instanceof Prop) {\n        done(undefined, tree.get());\n    }\n    else if (Array.isArray(tree) && tree.lisp === lispArrayKey) {\n        execMany(ticks, exec, tree, done, scope, context, inLoopOrSwitch);\n    }\n    else if (!(tree instanceof Lisp)) {\n        done(undefined, tree);\n    }\n    else if (unexecTypes.has(tree.op)) {\n        try {\n            ops.get(tree.op)(exec, done, ticks, tree.a, tree.b, tree, context, scope, undefined, inLoopOrSwitch);\n        }\n        catch (err) {\n            done(err);\n        }\n    }\n    else if (tree.op === 'await') {\n        if (!isAsync) {\n            done(new SandboxError(\"Illegal use of 'await', must be inside async function\"));\n        }\n        else if ((_a = context.ctx.prototypeWhitelist) === null || _a === void 0 ? void 0 : _a.has(Promise.prototype)) {\n            execAsync(ticks, tree.a, scope, context, async (e, r) => {\n                if (e)\n                    done(e);\n                else\n                    try {\n                        done(undefined, await valueOrProp(r));\n                    }\n                    catch (err) {\n                        done(err);\n                    }\n            }, inLoopOrSwitch).catch(done);\n        }\n        else {\n            done(new SandboxError('Async/await is not permitted'));\n        }\n    }\n    else {\n        return false;\n    }\n    return true;\n}\nfunction executeTree(ticks, context, executionTree, scopes = [], inLoopOrSwitch) {\n    return syncDone((done) => executeTreeWithDone(execSync, done, ticks, context, executionTree, scopes, inLoopOrSwitch)).result;\n}\nasync function executeTreeAsync(ticks, context, executionTree, scopes = [], inLoopOrSwitch) {\n    let ad;\n    return (ad = asyncDone((done) => executeTreeWithDone(execAsync, done, ticks, context, executionTree, scopes, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n}\nfunction executeTreeWithDone(exec, done, ticks, context, executionTree, scopes = [], inLoopOrSwitch) {\n    if (!executionTree) {\n        done();\n        return;\n    }\n    if (!(executionTree instanceof Array)) {\n        throw new SyntaxError('Bad execution tree');\n    }\n    let scope = context.ctx.globalScope;\n    let s;\n    while (s = scopes.shift()) {\n        if (typeof s !== \"object\")\n            continue;\n        if (s instanceof Scope) {\n            scope = s;\n        }\n        else {\n            scope = new Scope(scope, s, s instanceof LocalScope ? undefined : null);\n        }\n    }\n    if (context.ctx.options.audit && !context.ctx.auditReport) {\n        context.ctx.auditReport = {\n            globalsAccess: new Set(),\n            prototypeAccess: {},\n        };\n    }\n    if (exec === execSync) {\n        _executeWithDoneSync(done, ticks, context, executionTree, scope, inLoopOrSwitch);\n    }\n    else {\n        _executeWithDoneAsync(done, ticks, context, executionTree, scope, inLoopOrSwitch).catch(done);\n    }\n}\nfunction _executeWithDoneSync(done, ticks, context, executionTree, scope, inLoopOrSwitch) {\n    if (!(executionTree instanceof Array))\n        throw new SyntaxError('Bad execution tree');\n    let i = 0;\n    for (i = 0; i < executionTree.length; i++) {\n        let res;\n        let err;\n        const current = executionTree[i];\n        try {\n            execSync(ticks, current, scope, context, (e, r) => {\n                err = e;\n                res = r;\n            }, inLoopOrSwitch);\n        }\n        catch (e) {\n            err = e;\n        }\n        if (err) {\n            done(err);\n            return;\n        }\n        if (res instanceof ExecReturn) {\n            done(undefined, res);\n            return;\n        }\n        if (current instanceof Lisp && current.op === 'return') {\n            done(undefined, new ExecReturn(context.ctx.auditReport, res, true));\n            return;\n        }\n    }\n    done(undefined, new ExecReturn(context.ctx.auditReport, undefined, false));\n}\nasync function _executeWithDoneAsync(done, ticks, context, executionTree, scope, inLoopOrSwitch) {\n    if (!(executionTree instanceof Array))\n        throw new SyntaxError('Bad execution tree');\n    let i = 0;\n    for (i = 0; i < executionTree.length; i++) {\n        let res;\n        let err;\n        const current = executionTree[i];\n        try {\n            await execAsync(ticks, current, scope, context, (e, r) => {\n                err = e;\n                res = r;\n            }, inLoopOrSwitch);\n        }\n        catch (e) {\n            err = e;\n        }\n        if (err) {\n            done(err);\n            return;\n        }\n        if (res instanceof ExecReturn) {\n            done(undefined, res);\n            return;\n        }\n        if (current instanceof Lisp && current.op === 'return') {\n            done(undefined, new ExecReturn(context.ctx.auditReport, res, true));\n            return;\n        }\n    }\n    done(undefined, new ExecReturn(context.ctx.auditReport, undefined, false));\n}\n\nclass SandboxGlobal {\n    constructor(globals) {\n        if (globals === globalThis)\n            return globalThis;\n        for (let i in globals) {\n            this[i] = globals[i];\n        }\n    }\n}\nclass Sandbox {\n    constructor(options) {\n        options = Object.assign({\n            audit: false,\n            forbidFunctionCalls: false,\n            forbidFunctionCreation: false,\n            globals: Sandbox.SAFE_GLOBALS,\n            prototypeWhitelist: Sandbox.SAFE_PROTOTYPES,\n            prototypeReplacements: new Map(),\n        }, options || {});\n        const sandboxGlobal = new SandboxGlobal(options.globals);\n        this.context = {\n            sandbox: this,\n            globalsWhitelist: new Set(Object.values(options.globals)),\n            prototypeWhitelist: new Map([...options.prototypeWhitelist].map((a) => [a[0].prototype, a[1]])),\n            options,\n            globalScope: new Scope(null, options.globals, sandboxGlobal),\n            sandboxGlobal,\n            evals: new Map(),\n            getSubscriptions: new Set(),\n            setSubscriptions: new WeakMap(),\n            changeSubscriptions: new WeakMap()\n        };\n        this.context.prototypeWhitelist.set(Object.getPrototypeOf([][Symbol.iterator]()), new Set());\n        const func = sandboxFunction(this.context);\n        this.context.evals.set(Function, func);\n        this.context.evals.set(eval, sandboxedEval(func));\n        this.context.evals.set(setTimeout, sandboxedSetTimeout(func));\n        this.context.evals.set(setInterval, sandboxedSetInterval(func));\n        this.Function = sandboxFunction(this.context, { ticks: BigInt(0) });\n    }\n    static get SAFE_GLOBALS() {\n        return {\n            Function,\n            console: {\n                debug: console.debug,\n                error: console.error,\n                info: console.info,\n                log: console.log,\n                table: console.table,\n                warn: console.warn\n            },\n            isFinite,\n            isNaN,\n            parseFloat,\n            parseInt,\n            decodeURI,\n            decodeURIComponent,\n            encodeURI,\n            encodeURIComponent,\n            escape,\n            unescape,\n            Boolean,\n            Number,\n            BigInt,\n            String,\n            Object,\n            Array,\n            Symbol,\n            Error,\n            EvalError,\n            RangeError,\n            ReferenceError,\n            SyntaxError,\n            TypeError,\n            URIError,\n            Int8Array,\n            Uint8Array,\n            Uint8ClampedArray,\n            Int16Array,\n            Uint16Array,\n            Int32Array,\n            Uint32Array,\n            Float32Array,\n            Float64Array,\n            Map,\n            Set,\n            WeakMap,\n            WeakSet,\n            Promise,\n            Intl,\n            JSON,\n            Math,\n            Date,\n            RegExp\n        };\n    }\n    static get SAFE_PROTOTYPES() {\n        let protos = [\n            SandboxGlobal,\n            Function,\n            Boolean,\n            Number,\n            BigInt,\n            String,\n            Date,\n            Error,\n            Array,\n            Int8Array,\n            Uint8Array,\n            Uint8ClampedArray,\n            Int16Array,\n            Uint16Array,\n            Int32Array,\n            Uint32Array,\n            Float32Array,\n            Float64Array,\n            Map,\n            Set,\n            WeakMap,\n            WeakSet,\n            Promise,\n            Symbol,\n            Date,\n            RegExp\n        ];\n        let map = new Map();\n        protos.forEach((proto) => {\n            map.set(proto, new Set());\n        });\n        map.set(Object, new Set([\n            'entries',\n            'fromEntries',\n            'getOwnPropertyNames',\n            'is',\n            'keys',\n            'hasOwnProperty',\n            'isPrototypeOf',\n            'propertyIsEnumerable',\n            'toLocaleString',\n            'toString',\n            'valueOf',\n            'values'\n        ]));\n        return map;\n    }\n    subscribeGet(callback) {\n        this.context.getSubscriptions.add(callback);\n        return { unsubscribe: () => this.context.getSubscriptions.delete(callback) };\n    }\n    subscribeSet(obj, name, callback) {\n        const names = this.context.setSubscriptions.get(obj) || new Map();\n        this.context.setSubscriptions.set(obj, names);\n        const callbacks = names.get(name) || new Set();\n        names.set(name, callbacks);\n        callbacks.add(callback);\n        let changeCbs;\n        if (obj && obj[name] && typeof obj[name] === \"object\") {\n            changeCbs = this.context.changeSubscriptions.get(obj[name]) || new Set();\n            changeCbs.add(callback);\n            this.context.changeSubscriptions.set(obj[name], changeCbs);\n        }\n        return {\n            unsubscribe: () => {\n                callbacks.delete(callback);\n                if (changeCbs)\n                    changeCbs.delete(callback);\n            }\n        };\n    }\n    static audit(code, scopes = []) {\n        const globals = {};\n        for (let i of Object.getOwnPropertyNames(globalThis)) {\n            globals[i] = globalThis[i];\n        }\n        return new Sandbox({\n            globals,\n            audit: true,\n        }).executeTree(parse(code), scopes);\n    }\n    static parse(code) {\n        return parse(code);\n    }\n    executeTree(executionTree, scopes = []) {\n        return executeTree({\n            ticks: BigInt(0),\n        }, {\n            ctx: this.context,\n            constants: executionTree.constants,\n            tree: executionTree.tree\n        }, executionTree.tree, scopes);\n    }\n    executeTreeAsync(executionTree, scopes = []) {\n        return executeTreeAsync({\n            ticks: BigInt(0),\n        }, {\n            ctx: this.context,\n            constants: executionTree.constants,\n            tree: executionTree.tree\n        }, executionTree.tree, scopes);\n    }\n    compile(code, optimize = false) {\n        const executionTree = parse(code, optimize);\n        return (...scopes) => {\n            return this.executeTree(executionTree, scopes).result;\n        };\n    }\n    ;\n    compileAsync(code, optimize = false) {\n        const executionTree = parse(code, optimize);\n        return async (...scopes) => {\n            return (await this.executeTreeAsync(executionTree, scopes)).result;\n        };\n    }\n    ;\n    compileExpression(code, optimize = false) {\n        const executionTree = parse(code, optimize, true);\n        return (...scopes) => {\n            return this.executeTree(executionTree, scopes).result;\n        };\n    }\n    compileExpressionAsync(code, optimize = false) {\n        const executionTree = parse(code, optimize, true);\n        return async (...scopes) => {\n            return (await this.executeTreeAsync(executionTree, scopes)).result;\n        };\n    }\n}\n\nexports.FunctionScope = FunctionScope;\nexports.LocalScope = LocalScope;\nexports.SandboxGlobal = SandboxGlobal;\nexports.assignCheck = assignCheck;\nexports.asyncDone = asyncDone;\nexports['default'] = Sandbox;\nexports.execAsync = execAsync;\nexports.execMany = execMany;\nexports.execSync = execSync;\nexports.executeTree = executeTree;\nexports.executeTreeAsync = executeTreeAsync;\nexports.executionOps = ops;\nexports.expectTypes = expectTypes;\nexports.setLispType = setLispType;\nexports.syncDone = syncDone;\n",null,null],"names":["Object","defineProperty","value","parseHexToInt","hex","isOnlyHexChars","match","parseInt","NaN","validateAndParseHex","errorName","enforcedLength","parsedHex","Number","isNaN","undefined","length","SyntaxError","parseHexadecimalCode","code","parsedCode","String","fromCharCode","parseUnicodeCode","surrogateCode","parsedSurrogateCode","isCurlyBraced","text","charAt","parseUnicodeCodePointCode","codePoint","withoutBraces","slice","fromCodePoint","err","RangeError","singleCharacterEscapes","Map","parseSingleCharacterCode","get","escapeMatch","unraw","raw","replace","_","backslash","unicodeWithSurrogate","surrogate","unicode","octal","singleCharacter","lispTypes","ParseError","Error","constructor","message","substring","Lisp","obj","op","a","b","If","t","f","KeyVal","key","val","SpreadObject","item","SpreadArray","lispArrayKey","toLispArray","arr","lisp","inlineIfElse","elseIf","ifElse","space","expectTypes","splitter","types","opHigh","comparitor","boolOp","bitwise","next","inlineIf","assignment","assignModify","assign","incrementerBefore","expEdge","call","incrementerAfter","modifier","not","inverse","negative","positive","typeof","delete","dot","arrayProp","prop","createObject","createArray","number","string","literal","regex","boolean","null","und","arrowFunctionSingle","arrowFunction","inlineFunction","group","Infinity","void","await","new","throw","initialize","return","spreadObject","spreadArray","expEnd","expFunction","function","expSingle","for","do","while","loopAction","if","try","block","switch","closings","testMultiple","str","tests","found","i","test","exec","CodeString","ref","start","end","len","char","toString","trimStart","trim","valueOf","emptyString","okFirstChars","aNumber","wordReg","semiColon","insertedSemicolons","WeakMap","quoteCache","restOfExp","constants","part","quote","firstOpening","closingsTests","details","words","isStart","hasSemiTest","includes","filter","insertedSemis","cache","set","has","escape","done","lastChar","isOneLiner","lastInertedSemi","skip","sub","regRes","foundWord","foundNumber","push","lastAnyWord","lastWord","oneliner","startingExecpted","setLispType","fn","forEach","type","closingsCreate","res","expect","ctx","extract","arg","l","funcFound","lispifyExpr","map","e","lispify","lispTree","quoteCount","extractIfElse","_a","count","foundElse","foundTrue","first","elseReg","startsWith","ie","all","Math","max","true","false","condition","startTrue","trueBlock","elseBlock","lispifyBlock","indexOf","statement","insertSemicolons","caseFound","caseTest","cases","defaultFound","cond","bracketFound","exprs","notEmpty","index","matches","primitives","BigInt","JSON","parse","isArrow","isReturn","argPos","isAsync","args","split","unshift","ended","func","eager","lispifyFunction","iteratorRegex","startStep","startInternal","getIterator","beforeStep","checkFirst","step","body","lispifyReturnExpr","extract2","k","iterator","ofStart2","ofStart3","ofCondition","ofStep","inStart2","inStart3","inStep","inCondition","shift","isBlock","catchReg","catchRes","finallyBody","exception","catchBody","offset","argsString","j","lastType","expected","topLevel","startingExpectedWithoutSingle","r","subExpressions","pos","values","defined","expression","parts","skipped","isInserted","flat","tree","hoisted","hoist","concat","Array","isArray","rep","it","closingsNoInsertion","colonsRegex","rest","inserted","valid","edge","checkRegex","cancel","after","flags","notDivide","possibleDivide","extractConstants","currentEnclosure","regexFound","comment","commentStart","currJs","strRes","enclosures","isPossibleDivide","literals","join","strings","pop","regexes","js","ExecReturn","auditReport","result","returned","breakLoop","continueLoop","Prop","context","isConst","isGlobal","isVariable","ReferenceError","optional","reservedWords","Set","VarType","keysOnly","ret","Scope","parent","vars","functionThis","const","let","var","isFuncScope","allVars","globals","functionScope","this","hasOwnProperty","TypeError","SandboxError","declare","FunctionScope","LocalScope","currentTicks","sandboxFunction","ticks","SandboxFunction","params","parsed","createFunction","generateArgs","argNames","sandboxedFunctions","WeakSet","scope","name","options","forbidFunctionCreation","executeTree","sandboxedObject","add","createFunctionAsync","prototypeWhitelist","Promise","prototype","executeTreeAsync","sandboxedEval","sandboxEval","sandboxedSetTimeout","sandboxSetTimeout","handler","setTimeout","sandboxedSetInterval","sandboxSetInterval","setInterval","assignCheck","_b","_c","_d","changeSubscriptions","cb","setSubscriptions","arrayChange","splice","reverse","sort","copyWithin","literalRegex","ops2","sandboxGlobal","audit","globalsAccess","globalsWhitelist","evals","globalThis","globalScope","getSubscriptions","Boolean","isFunction","prototypeAccess","prot","getPrototypeOf","whitelist","prototypeReplacements","size","constuctor","g","forbidFunctionCalls","execMany","vals","stringify","recurse","x","y","change","changed","added","removed","startIndex","deleteCount","min","endIndex","items","reg","RegExp","resnums","processed","reses","num","$$","$","valueOrProp","bobj","loop","loopScope","internalVars","interalScope","execAsync","ad","asyncDone","d","isInstant","instant","p","innerLoopVars","catch","syncDone","inLoopOrSwitch","executeTreeWithDone","toTest","execSync","isTrue","caseItem","sc","ops","_execManySync","_execManyAsync","callback","resolve","reject","doneOriginal","_execNoneRecurse","unexecTypes","executionQuota","onExecutionQuotaReached","executionTree","scopes","s","_executeWithDoneSync","_executeWithDoneAsync","current","SandboxGlobal","Sandbox","SAFE_GLOBALS","SAFE_PROTOTYPES","sandbox","Symbol","Function","eval","console","debug","error","info","log","table","warn","isFinite","parseFloat","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","unescape","EvalError","URIError","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Intl","Date","protos","proto","subscribeGet","unsubscribe","subscribeSet","names","callbacks","changeCbs","getOwnPropertyNames","compile","optimize","compileAsync","compileExpression","compileExpressionAsync","exports","elementStorage","createClass","sanitizer","arrs","coll","defaultDelegateObject","on","elem","event","$el","wrap","off","one","ElementCollection","$elements","selector","some","every","compareDocumentPosition","unique","from","toSet","toArray","is","sel","querySelectorAll","parents","contains","find","c","events","opt","objectOrProp","ev","h","wrapEvent","store","getStore","evStore","addEventListener","removeEventListener","clear","trigger","eventType","detail","bubbles","cancelable","CustomEvent","dispatchEvent","evcb","evt","delegate","that","del","once","started","evs","subs","cbs","allCbs","target","listeners","lts","parentElement","eq","handlers","stoppedPropagation","stoppedImmediatePropagation","remove","cbev","click","addClass","keyCode","currentTarget","HTMLElement","getAttribute","attr","tabindex","role","hover","handlerIn","handlerOut","v","santizeAttribute","setAttribute","nodeName","toLowerCase","removeAttr","removeAttribute","HTMLInputElement","HTMLSelectElement","selected","HTMLTextAreaElement","checked","files","multiple","$elems","scrollTop","scrollLeft","label","data","removeData","toggleClass","removeClass","force","isObject","className","classList","toggle","hasClass","nameArr","identifier","ind","prevAll","last","nextElementSibling","nextUntil","propElem","nextAll","prev","previousElementSibling","prevUntil","siblings","children","firstElementChild","$document","document","documentElement","originalEvent","isEqEvent","sip","stopImmediatePropagation","sp","stopPropagation","props","stopppedImmediatePropagation","defineProperties","NodeList","HTMLCollection","Element","selectors","$context","elems","doFilter","doSort","cElem","cont","collection","includeFirst","stopAt","each","wasSet","n","object","el","objArr","defaultValue","deleteStore","regVarName","regKeyValName","isIterable","getRootElement","Component","quotes","walkText","endJs","closing","inJs","strs","calls","timer","toCall","walkerInstance","execSteps","ready","run","runNested","runDirective","skope","directives","directive","eQuery","ElementScope","element","$dispatch","$watch","subUnsubs","watch","unsubNested","$delay","ms","RootScope","$wrap","html","content","innerHTML","contentElem","detach","preprocessHTML","currentSubs","processHTML","appendChild","getScopes","textContent","createElement","FileList","File","defineDirective","watchRun","lastVal","createError","getScope","isContentEditable","hasAttribute","reset","pushScope","$$value","form","$form","then","Node","lastPromise","root","newScope","watchRunAsync","runAsync","template","sanitizeHTML","walkTree","unsub","msg","parentSubs","$element","createComment","ifElem","at","before","nestedSubs","cloneNode","exp","varsExp","varMatch","doubleMatch","watchAsync","runs","repeat","forSubs","$index","nestedScopes","prevReady","elementScopeAdded","att","letter","toUpperCase","nodeValue","attributes","HTMLScriptElement","SVGElement","style","transitionParts","transitionVar","trans","$event","original","outerHTML","nodeType","nodes","endsWith","placeholder","createTextNode","childNodes","toWatch","errorCb","Skope","HTMLSanitizer","defineComponent","comp","components","watchGets","update","now","digest","list","temp","codes","sandboxCache","init","component","alreadyPreprocessed","observeAttribute"],"mappings":"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"}