{"version":3,"file":"Skope.js","sources":["../node_modules/@nyariv/sandboxjs/dist/node/Sandbox.js","../src/eQuery.ts","../src/Skope.ts"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * Parse a string as a base-16 number. This is more strict than `parseInt` as it\n * will not allow any other characters, including (for example) \"+\", \"-\", and\n * \".\".\n * @param hex A string containing a hexadecimal number.\n * @returns The parsed integer, or `NaN` if the string is not a valid hex\n * number.\n */\nfunction parseHexToInt(hex) {\n    const isOnlyHexChars = !hex.match(/[^a-f0-9]/i);\n    return isOnlyHexChars ? parseInt(hex, 16) : NaN;\n}\n/**\n * Check the validity and length of a hexadecimal code and optionally enforces\n * a specific number of hex digits.\n * @param hex The string to validate and parse.\n * @param errorName The name of the error message to throw a `SyntaxError` with\n * if `hex` is invalid. This is used to index `errorMessages`.\n * @param enforcedLength If provided, will throw an error if `hex` is not\n * exactly this many characters.\n * @returns The parsed hex number as a normal number.\n * @throws {SyntaxError} If the code is not valid.\n */\nfunction validateAndParseHex(hex, errorName, enforcedLength) {\n    const parsedHex = parseHexToInt(hex);\n    if (Number.isNaN(parsedHex) ||\n        (enforcedLength !== undefined && enforcedLength !== hex.length)) {\n        throw new SyntaxError(errorName + ': ' + hex);\n    }\n    return parsedHex;\n}\n/**\n * Parse a two-digit hexadecimal character escape code.\n * @param code The two-digit hexadecimal number that represents the character to\n * output.\n * @returns The single character represented by the code.\n * @throws {SyntaxError} If the code is not valid hex or is not the right\n * length.\n */\nfunction parseHexadecimalCode(code) {\n    const parsedCode = validateAndParseHex(code, 'Malformed Hexadecimal', 2);\n    return String.fromCharCode(parsedCode);\n}\n/**\n * Parse a four-digit Unicode character escape code.\n * @param code The four-digit unicode number that represents the character to\n * output.\n * @param surrogateCode Optional four-digit unicode surrogate that represents\n * the other half of the character to output.\n * @returns The single character represented by the code.\n * @throws {SyntaxError} If the codes are not valid hex or are not the right\n * length.\n */\nfunction parseUnicodeCode(code, surrogateCode) {\n    const parsedCode = validateAndParseHex(code, 'Malformed Unicode', 4);\n    if (surrogateCode !== undefined) {\n        const parsedSurrogateCode = validateAndParseHex(surrogateCode, 'Malformed Unicode', 4);\n        return String.fromCharCode(parsedCode, parsedSurrogateCode);\n    }\n    return String.fromCharCode(parsedCode);\n}\n/**\n * Test if the text is surrounded by curly braces (`{}`).\n * @param text Text to check.\n * @returns `true` if the text is in the form `{*}`.\n */\nfunction isCurlyBraced(text) {\n    return text.charAt(0) === \"{\" && text.charAt(text.length - 1) === \"}\";\n}\n/**\n * Parse a Unicode code point character escape code.\n * @param codePoint A unicode escape code point, including the surrounding curly\n * braces.\n * @returns The single character represented by the code.\n * @throws {SyntaxError} If the code is not valid hex or does not have the\n * surrounding curly braces.\n */\nfunction parseUnicodeCodePointCode(codePoint) {\n    if (!isCurlyBraced(codePoint)) {\n        throw new SyntaxError('Malformed Unicode: +' + codePoint);\n    }\n    const withoutBraces = codePoint.slice(1, -1);\n    const parsedCode = validateAndParseHex(withoutBraces, 'Malformed Unicode');\n    try {\n        return String.fromCodePoint(parsedCode);\n    }\n    catch (err) {\n        throw err instanceof RangeError\n            ? new SyntaxError('Code Point Limit:' + parsedCode)\n            : err;\n    }\n}\n/**\n * Map of unescaped letters to their corresponding special JS escape characters.\n * Intentionally does not include characters that map to themselves like \"\\'\".\n */\nconst singleCharacterEscapes = new Map([\n    [\"b\", \"\\b\"],\n    [\"f\", \"\\f\"],\n    [\"n\", \"\\n\"],\n    [\"r\", \"\\r\"],\n    [\"t\", \"\\t\"],\n    [\"v\", \"\\v\"],\n    [\"0\", \"\\0\"]\n]);\n/**\n * Parse a single character escape sequence and return the matching character.\n * If none is matched, defaults to `code`.\n * @param code A single character code.\n */\nfunction parseSingleCharacterCode(code) {\n    return singleCharacterEscapes.get(code) || code;\n}\n/**\n * Matches every escape sequence possible, including invalid ones.\n *\n * All capture groups (described below) are unique (only one will match), except\n * for 4, which can only potentially match if 3 does.\n *\n * **Capture Groups:**\n * 0. A single backslash\n * 1. Hexadecimal code\n * 2. Unicode code point code with surrounding curly braces\n * 3. Unicode escape code with surrogate\n * 4. Surrogate code\n * 5. Unicode escape code without surrogate\n * 6. Octal code _NOTE: includes \"0\"._\n * 7. A single character (will never be \\, x, u, or 0-3)\n */\nconst escapeMatch = /\\\\(?:(\\\\)|x([\\s\\S]{0,2})|u(\\{[^}]*\\}?)|u([\\s\\S]{4})\\\\u([^{][\\s\\S]{0,3})|u([\\s\\S]{0,4})|([0-3]?[0-7]{1,2})|([\\s\\S])|$)/g;\n/**\n * Replace raw escape character strings with their escape characters.\n * @param raw A string where escape characters are represented as raw string\n * values like `\\'` rather than `'`.\n * @param allowOctals If `true`, will process the now-deprecated octal escape\n * sequences (ie, `\\111`).\n * @returns The processed string, with escape characters replaced by their\n * respective actual Unicode characters.\n */\nfunction unraw(raw) {\n    return raw.replace(escapeMatch, function (_, backslash, hex, codePoint, unicodeWithSurrogate, surrogate, unicode, octal, singleCharacter) {\n        // Compare groups to undefined because empty strings mean different errors\n        // Otherwise, `\\u` would fail the same as `\\` which is wrong.\n        if (backslash !== undefined) {\n            return \"\\\\\";\n        }\n        if (hex !== undefined) {\n            return parseHexadecimalCode(hex);\n        }\n        if (codePoint !== undefined) {\n            return parseUnicodeCodePointCode(codePoint);\n        }\n        if (unicodeWithSurrogate !== undefined) {\n            return parseUnicodeCode(unicodeWithSurrogate, surrogate);\n        }\n        if (unicode !== undefined) {\n            return parseUnicodeCode(unicode);\n        }\n        if (octal === \"0\") {\n            return \"\\0\";\n        }\n        if (octal !== undefined) {\n            throw new SyntaxError('Octal Deprecation: ' + octal);\n        }\n        if (singleCharacter !== undefined) {\n            return parseSingleCharacterCode(singleCharacter);\n        }\n        throw new SyntaxError('End of string');\n    });\n}\n\nlet lispTypes = new Map();\nclass ParseError extends Error {\n    constructor(message, code) {\n        super(message + \": \" + code.substring(0, 40));\n        this.code = code;\n    }\n}\nclass Lisp {\n    constructor(obj) {\n        this.op = obj.op;\n        this.a = obj.a;\n        this.b = obj.b;\n    }\n}\nclass If {\n    constructor(t, f) {\n        this.t = t;\n        this.f = f;\n    }\n}\nclass KeyVal {\n    constructor(key, val) {\n        this.key = key;\n        this.val = val;\n    }\n}\nclass SpreadObject {\n    constructor(item) {\n        this.item = item;\n    }\n}\nclass SpreadArray {\n    constructor(item) {\n        this.item = item;\n    }\n}\nconst lispArrayKey = {};\nfunction toLispArray(arr) {\n    arr.lisp = lispArrayKey;\n    return arr;\n}\nconst inlineIfElse = /^:/;\nconst elseIf = /^else(?![\\w\\$])/;\nconst ifElse = /^if(?![\\w\\$])/;\nconst space = /^\\s/;\nlet expectTypes = {\n    splitter: {\n        types: {\n            opHigh: /^(\\/|\\*\\*|\\*(?!\\*)|\\%)(?!\\=)/,\n            op: /^(\\+(?!(\\+))|\\-(?!(\\-)))(?!\\=)/,\n            comparitor: /^(<=|>=|<(?!<)|>(?!>)|!==|!=(?!\\=)|===|==)/,\n            boolOp: /^(&&|\\|\\||instanceof(?![\\w\\$])|in(?![\\w\\$]))/,\n            bitwise: /^(&(?!&)|\\|(?!\\|)|\\^|<<|>>(?!>)|>>>)(?!\\=)/,\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n        ]\n    },\n    inlineIf: {\n        types: {\n            inlineIf: /^\\?(?!\\.(?!\\d))/,\n        },\n        next: [\n            'expEnd'\n        ]\n    },\n    assignment: {\n        types: {\n            assignModify: /^(\\-=|\\+=|\\/=|\\*\\*=|\\*=|%=|\\^=|\\&=|\\|=|>>>=|>>=|<<=)/,\n            assign: /^(=)(?!=)/\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n        ]\n    },\n    incrementerBefore: {\n        types: { incrementerBefore: /^(\\+\\+|\\-\\-)/ },\n        next: [\n            'prop',\n        ]\n    },\n    expEdge: {\n        types: {\n            call: /^(\\?\\.)?[\\(]/,\n            incrementerAfter: /^(\\+\\+|\\-\\-)/\n        },\n        next: [\n            'splitter',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    modifier: {\n        types: {\n            not: /^!/,\n            inverse: /^~/,\n            negative: /^\\-(?!\\-)/,\n            positive: /^\\+(?!\\+)/,\n            typeof: /^typeof(?![\\w\\$])/,\n            delete: /^delete(?![\\w\\$])/,\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n        ]\n    },\n    dot: {\n        types: {\n            arrayProp: /^(\\?\\.)?\\[/,\n            dot: /^(\\?)?\\.(?=\\s*[a-zA-Z\\$\\_])/,\n        },\n        next: [\n            'splitter',\n            'assignment',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    prop: {\n        types: {\n            prop: /^[a-zA-Z\\$\\_][a-zA-Z\\d\\$\\_]*/,\n        },\n        next: [\n            'splitter',\n            'assignment',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    value: {\n        types: {\n            createObject: /^\\{/,\n            createArray: /^\\[/,\n            number: /^(0x[\\da-f]+(_[\\da-f]+)*|(\\d+(_\\d+)*(\\.\\d+(_\\d+)*)?|\\.\\d+(_\\d+)*))(e[\\+\\-]?\\d+(_\\d+)*)?(n)?(?!\\d)/i,\n            string: /^\"(\\d+)\"/,\n            literal: /^`(\\d+)`/,\n            regex: /^\\/(\\d+)\\/r(?![\\w\\$])/,\n            boolean: /^(true|false)(?![\\w\\$])/,\n            null: /^null(?![\\w\\$])/,\n            und: /^undefined(?![\\w\\$])/,\n            arrowFunctionSingle: /^(async\\s+)?([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*=>\\s*({)?/,\n            arrowFunction: /^(async\\s*)?\\(\\s*((\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*(\\s*,\\s*(\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)*)?\\s*\\)\\s*=>\\s*({)?/,\n            inlineFunction: /^(async\\s+)?function(\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)?\\s*\\(\\s*((\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*(\\s*,\\s*(\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)*)?\\s*\\)\\s*{/,\n            group: /^\\(/,\n            NaN: /^NaN(?![\\w\\$])/,\n            Infinity: /^Infinity(?![\\w\\$])/,\n            void: /^void(?![\\w\\$])\\s*/,\n            await: /^await(?![\\w\\$])\\s*/,\n            new: /^new(?![\\w\\$])\\s*/,\n            throw: /^throw(?![\\w\\$])\\s*/\n        },\n        next: [\n            'splitter',\n            'expEdge',\n            'dot',\n            'inlineIf',\n            'expEnd'\n        ]\n    },\n    initialize: {\n        types: {\n            initialize: /^(var|let|const)\\s+([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*(=)?/,\n            return: /^return(?![\\w\\$])/,\n        },\n        next: [\n            'modifier',\n            'value',\n            'prop',\n            'incrementerBefore',\n            'expEnd'\n        ]\n    },\n    spreadObject: {\n        types: {\n            spreadObject: /^\\.\\.\\./\n        },\n        next: [\n            'value',\n            'prop',\n        ]\n    },\n    spreadArray: {\n        types: {\n            spreadArray: /^\\.\\.\\./\n        },\n        next: [\n            'value',\n            'prop',\n        ]\n    },\n    expEnd: { types: {}, next: [] },\n    expFunction: {\n        types: {\n            function: /^(async\\s+)?function(\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*\\(\\s*((\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*(\\s*,\\s*(\\.\\.\\.)?\\s*[a-zA-Z\\$_][a-zA-Z\\d\\$_]*)*)?\\s*\\)\\s*{/,\n        },\n        next: [\n            'expEdge',\n            'expEnd'\n        ]\n    },\n    expSingle: {\n        types: {\n            for: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*for\\s*\\(/,\n            do: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*do(?![\\w\\$])\\s*(\\{)?/,\n            while: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*while\\s*\\(/,\n            loopAction: /^(break|continue)(?![\\w\\$])\\s*([a-zA-Z\\$\\_][\\w\\$]*)?/,\n            if: /^((([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*)if\\s*\\(/,\n            try: /^try\\s*{/,\n            block: /^{/,\n            switch: /^(([a-zA-Z\\$\\_][\\w\\$]*)\\s*:)?\\s*switch\\s*\\(/,\n        },\n        next: [\n            'expEnd'\n        ]\n    }\n};\nlet closings = {\n    \"(\": \")\",\n    \"[\": \"]\",\n    \"{\": \"}\",\n    \"'\": \"'\",\n    '\"': '\"',\n    \"`\": \"`\"\n};\nfunction testMultiple(str, tests) {\n    let found;\n    for (let i = 0; i < tests.length; i++) {\n        const test = tests[i];\n        found = test.exec(str);\n        if (found)\n            break;\n    }\n    return found;\n}\nclass CodeString {\n    constructor(str) {\n        this.ref = { str: \"\" };\n        if (str instanceof CodeString) {\n            this.ref = str.ref;\n            this.start = str.start;\n            this.end = str.end;\n        }\n        else {\n            this.ref.str = str;\n            this.start = 0;\n            this.end = str.length;\n        }\n    }\n    substring(start, end) {\n        if (!this.length)\n            return this;\n        start = this.start + start;\n        if (start < 0) {\n            start = 0;\n        }\n        if (start > this.end) {\n            start = this.end;\n        }\n        end = end === undefined ? this.end : this.start + end;\n        if (end < 0) {\n            end = 0;\n        }\n        if (end > this.end) {\n            end = this.end;\n        }\n        const code = new CodeString(this);\n        code.start = start;\n        code.end = end;\n        return code;\n    }\n    get length() {\n        const len = this.end - this.start;\n        return len < 0 ? 0 : len;\n    }\n    char(i) {\n        if (this.start === this.end)\n            return undefined;\n        return this.ref.str[this.start + i];\n    }\n    toString() {\n        return this.ref.str.substring(this.start, this.end);\n    }\n    trimStart() {\n        const found = /^\\s+/.exec(this.toString());\n        const code = new CodeString(this);\n        if (found) {\n            code.start += found[0].length;\n        }\n        return code;\n    }\n    slice(start, end) {\n        if (start < 0) {\n            start = this.end - this.start + start;\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        if (end === undefined) {\n            end = this.end - this.start;\n        }\n        if (end < 0) {\n            end = this.end - this.start + end;\n        }\n        if (end < 0) {\n            end = 0;\n        }\n        return this.substring(start, end);\n    }\n    trim() {\n        const code = this.trimStart();\n        const found = /\\s+$/.exec(code.toString());\n        if (found) {\n            code.end -= found[0].length;\n        }\n        return code;\n    }\n    valueOf() {\n        return this.toString();\n    }\n}\nconst emptyString = new CodeString(\"\");\nconst okFirstChars = /^[\\+\\-~ !]/;\nconst aNumber = expectTypes.value.types.number;\nconst wordReg = /^((if|for|else|while|do|function)(?![\\w\\$])|[\\w\\$]+)/;\nconst semiColon = /^;/;\nconst insertedSemicolons = new WeakMap();\nconst quoteCache = new WeakMap();\nfunction restOfExp(constants, part, tests, quote, firstOpening, closingsTests, details = {}) {\n    if (!part.length) {\n        return part;\n    }\n    details.words = details.words || [];\n    let isStart = true;\n    tests = tests || [];\n    const hasSemiTest = tests.includes(semiColon);\n    if (hasSemiTest) {\n        tests = tests.filter((a) => a !== semiColon);\n    }\n    const insertedSemis = insertedSemicolons.get(part.ref) || [];\n    const cache = quoteCache.get(part.ref) || new Map();\n    quoteCache.set(part.ref, cache);\n    if (quote && cache.has(part.start - 1)) {\n        return part.substring(0, cache.get(part.start - 1) - part.start);\n    }\n    let escape = false;\n    let done = false;\n    let lastChar = \"\";\n    let isOneLiner = false;\n    let i;\n    let lastInertedSemi = false;\n    for (i = 0; i < part.length && !done; i++) {\n        let char = part.char(i);\n        if (quote === '\"' || quote === \"'\" || quote === \"`\") {\n            if (quote === \"`\" && char === \"$\" && part.char(i + 1) === \"{\" && !escape) {\n                let skip = restOfExp(constants, part.substring(i + 2), [], \"{\");\n                i += skip.length + 2;\n            }\n            else if (char === quote && !escape) {\n                return part.substring(0, i);\n            }\n            escape = !escape && char === \"\\\\\";\n        }\n        else if (closings[char]) {\n            if (!lastInertedSemi && insertedSemis[i + part.start]) {\n                lastInertedSemi = true;\n                if (hasSemiTest) {\n                    break;\n                }\n                i--;\n                lastChar = ';';\n                continue;\n            }\n            if (isOneLiner && char === \"{\") {\n                isOneLiner = false;\n            }\n            if (char === firstOpening) {\n                done = true;\n                break;\n            }\n            else {\n                let skip = restOfExp(constants, part.substring(i + 1), [], char);\n                cache.set(skip.start - 1, skip.end);\n                i += skip.length + 1;\n                isStart = false;\n                if (closingsTests) {\n                    let sub = part.substring(i);\n                    let found;\n                    if (found = testMultiple(sub.toString(), closingsTests)) {\n                        details.regRes = found;\n                        done = true;\n                    }\n                }\n            }\n        }\n        else if (!quote) {\n            let sub = part.substring(i).toString();\n            let foundWord;\n            let foundNumber;\n            if (closingsTests) {\n                let found;\n                if (found = testMultiple(sub, closingsTests)) {\n                    details.regRes = found;\n                    i++;\n                    done = true;\n                    break;\n                }\n            }\n            if (foundNumber = aNumber.exec(sub)) {\n                i += foundNumber[0].length - 1;\n                sub = part.substring(i).toString();\n            }\n            else if (lastChar != char) {\n                let found;\n                if (char === ';' || (insertedSemis[i + part.start] && !isStart && !lastInertedSemi)) {\n                    if (hasSemiTest) {\n                        found = [\";\"];\n                    }\n                    else if (insertedSemis[i + part.start]) {\n                        lastInertedSemi = true;\n                        i--;\n                        lastChar = ';';\n                        continue;\n                    }\n                    char = sub = ';';\n                }\n                else {\n                    lastInertedSemi = false;\n                }\n                if (!found) {\n                    found = testMultiple(sub, tests);\n                }\n                if (found) {\n                    done = true;\n                }\n                if (!done && (foundWord = wordReg.exec(sub))) {\n                    isOneLiner = true;\n                    if (foundWord[0].length > 1) {\n                        details.words.push(foundWord[1]);\n                        details.lastAnyWord = foundWord[1];\n                        if (foundWord[2]) {\n                            details.lastWord = foundWord[2];\n                        }\n                    }\n                    if (foundWord[0].length > 2) {\n                        i += foundWord[0].length - 2;\n                    }\n                }\n            }\n            if (isStart) {\n                if (okFirstChars.test(sub)) {\n                    done = false;\n                }\n                else {\n                    isStart = false;\n                }\n            }\n            if (done)\n                break;\n        }\n        else if (char === closings[quote]) {\n            return part.substring(0, i);\n        }\n        lastChar = char;\n    }\n    if (quote) {\n        throw new SyntaxError(\"Unclosed '\" + quote + \"'\");\n    }\n    if (details) {\n        details.oneliner = isOneLiner;\n    }\n    return part.substring(0, i);\n}\nrestOfExp.next = [\n    'splitter',\n    'expEnd',\n    'inlineIf'\n];\nconst startingExecpted = ['initialize', 'expSingle', 'expFunction', 'value', 'modifier', 'prop', 'incrementerBefore', 'expEnd'];\nconst setLispType = (types, fn) => {\n    types.forEach((type) => {\n        lispTypes.set(type, fn);\n    });\n};\nconst closingsCreate = {\n    'createArray': /^\\]/,\n    'createObject': /^\\}/,\n    'group': /^\\)/,\n    'arrayProp': /^\\]/,\n    'call': /^\\)/\n};\nsetLispType(['createArray', 'createObject', 'group', 'arrayProp', 'call'], (constants, type, part, res, expect, ctx) => {\n    let extract = emptyString;\n    let arg = [];\n    let end = false;\n    let i = res[0].length;\n    const start = i;\n    while (i < part.length && !end) {\n        extract = restOfExp(constants, part.substring(i), [\n            closingsCreate[type],\n            /^,/\n        ]);\n        i += extract.length;\n        if (extract.length) {\n            arg.push(extract);\n        }\n        if (part.char(i) !== ',') {\n            end = true;\n        }\n        else {\n            i++;\n        }\n    }\n    const next = ['value', 'modifier', 'prop', 'incrementerBefore', 'expEnd'];\n    let l;\n    let funcFound;\n    switch (type) {\n        case 'group':\n        case 'arrayProp':\n            l = lispifyExpr(constants, part.substring(start, i));\n            break;\n        case 'call':\n        case 'createArray':\n            // @TODO: support 'empty' values\n            l = toLispArray(arg.map((e) => lispify(constants, e, [...next, 'spreadArray'])));\n            break;\n        case 'createObject':\n            l = toLispArray(arg.map((str) => {\n                str = str.trimStart();\n                let value;\n                let key;\n                funcFound = expectTypes.expFunction.types.function.exec('function ' + str);\n                if (funcFound) {\n                    key = funcFound[2].trimStart();\n                    value = lispify(constants, new CodeString('function ' + str.toString().replace(key, \"\")));\n                }\n                else {\n                    let extract = restOfExp(constants, str, [/^:/]);\n                    key = lispify(constants, extract, [...next, 'spreadObject']);\n                    if (key instanceof Lisp && key.op === 'prop') {\n                        key = key.b;\n                    }\n                    if (extract.length === str.length)\n                        return key;\n                    value = lispify(constants, str.substring(extract.length + 1));\n                }\n                return new Lisp({\n                    op: 'keyVal',\n                    a: key,\n                    b: value\n                });\n            }));\n            break;\n    }\n    type = type === 'arrayProp' ? (res[1] ? '?prop' : 'prop') : (type === 'call' ? (res[1] ? '?call' : 'call') : type);\n    ctx.lispTree = lispify(constants, part.substring(i + 1), expectTypes[expect].next, new Lisp({\n        op: type,\n        a: ctx.lispTree,\n        b: l,\n    }));\n});\nsetLispType(['inverse', 'not', 'negative', 'positive', 'typeof', 'delete'], (constants, type, part, res, expect, ctx) => {\n    let extract = restOfExp(constants, part.substring(res[0].length), [/^([^\\s\\.\\?\\w\\$]|\\?[^\\.])/]);\n    ctx.lispTree = lispify(constants, part.substring(extract.length + res[0].length), restOfExp.next, new Lisp({\n        op: ['positive', 'negative'].includes(type) ? '$' + res[0] : res[0],\n        a: ctx.lispTree,\n        b: lispify(constants, extract, expectTypes[expect].next),\n    }));\n});\nsetLispType(['incrementerBefore'], (constants, type, part, res, expect, ctx) => {\n    let extract = restOfExp(constants, part.substring(2), [/^[^\\s\\.\\w\\$]/]);\n    ctx.lispTree = lispify(constants, part.substring(extract.length + 2), restOfExp.next, new Lisp({\n        op: res[0] + \"$\",\n        a: lispify(constants, extract, expectTypes[expect].next),\n    }));\n});\nsetLispType(['incrementerAfter'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, new Lisp({\n        op: \"$\" + res[0],\n        a: ctx.lispTree,\n    }));\n});\nsetLispType(['assign', 'assignModify', 'boolOp'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: res[0],\n        a: ctx.lispTree,\n        b: lispify(constants, part.substring(res[0].length), expectTypes[expect].next)\n    });\n});\nsetLispType(['opHigh', 'op', 'comparitor', 'bitwise'], (constants, type, part, res, expect, ctx) => {\n    const next = [\n        expectTypes.inlineIf.types.inlineIf,\n        inlineIfElse\n    ];\n    switch (type) {\n        case 'opHigh':\n            next.push(expectTypes.splitter.types.opHigh);\n        case 'op':\n            next.push(expectTypes.splitter.types.op);\n        case 'comparitor':\n            next.push(expectTypes.splitter.types.comparitor);\n        case 'bitwise':\n            next.push(expectTypes.splitter.types.bitwise);\n            next.push(expectTypes.splitter.types.boolOp);\n    }\n    let extract = restOfExp(constants, part.substring(res[0].length), next);\n    ctx.lispTree = lispify(constants, part.substring(extract.length + res[0].length), restOfExp.next, new Lisp({\n        op: res[0],\n        a: ctx.lispTree,\n        b: lispify(constants, extract, expectTypes[expect].next),\n    }));\n});\nsetLispType(['inlineIf'], (constants, type, part, res, expect, ctx) => {\n    let found = false;\n    let extract = part.substring(0, 0);\n    let quoteCount = 1;\n    while (!found && extract.length < part.length) {\n        extract.end = restOfExp(constants, part.substring(extract.length + 1), [\n            expectTypes.inlineIf.types.inlineIf,\n            inlineIfElse\n        ]).end;\n        if (part.char(extract.length) === '?') {\n            quoteCount++;\n        }\n        else {\n            quoteCount--;\n        }\n        if (!quoteCount) {\n            found = true;\n        }\n    }\n    extract.start = part.start + 1;\n    ctx.lispTree = new Lisp({\n        op: '?',\n        a: ctx.lispTree,\n        b: new If(lispifyExpr(constants, extract), lispifyExpr(constants, part.substring(res[0].length + extract.length + 1)))\n    });\n});\nfunction extractIfElse(constants, part) {\n    var _a;\n    let count = 0;\n    let found = part.substring(0, 0);\n    let foundElse = emptyString;\n    let foundTrue;\n    let first = true;\n    let elseReg;\n    let details = {};\n    while ((found = restOfExp(constants, part.substring(found.end - part.start), [elseIf, ifElse, semiColon], undefined, undefined, undefined, details)).length || first) {\n        first = false;\n        const f = part.substring(found.end - part.start).toString();\n        if (f.startsWith(\"if\")) {\n            found.end++;\n            count++;\n        }\n        else if (f.startsWith('else')) {\n            foundTrue = part.substring(0, found.end - part.start);\n            found.end++;\n            count--;\n            if (!count) {\n                found.end--;\n            }\n        }\n        else if (elseReg = /^;?\\s*else(?![\\w\\$])/.exec(f)) {\n            foundTrue = part.substring(0, found.end - part.start);\n            found.end += elseReg[0].length - 1;\n            count--;\n            if (!count) {\n                found.end -= elseReg[0].length - 1;\n            }\n        }\n        else {\n            foundTrue = foundElse.length ? foundTrue : part.substring(0, found.end - part.start);\n            break;\n        }\n        if (!count) {\n            let ie = extractIfElse(constants, part.substring(found.end - part.start + ((_a = /^;?\\s*else(?![\\w\\$])/.exec(f)) === null || _a === void 0 ? void 0 : _a[0].length)));\n            foundElse = ie.all;\n            break;\n        }\n        details = {};\n    }\n    foundTrue = foundTrue || part.substring(0, found.end - part.start);\n    return { all: part.substring(0, Math.max(foundTrue.end, foundElse.end) - part.start), true: foundTrue, false: foundElse };\n}\nsetLispType(['if'], (constants, type, part, res, expect, ctx) => {\n    let condition = restOfExp(constants, part.substring(res[0].length), [], \"(\");\n    const ie = extractIfElse(constants, part.substring(res[1].length));\n    /^\\s*\\{/.exec(part.substring(res[0].length + condition.length + 1).toString());\n    const startTrue = res[0].length - res[1].length + condition.length + 1;\n    let trueBlock = ie.true.substring(startTrue);\n    let elseBlock = ie.false;\n    condition = condition.trim();\n    trueBlock = trueBlock.trim();\n    elseBlock = elseBlock.trim();\n    if (trueBlock.char(0) === \"{\")\n        trueBlock = trueBlock.slice(1, -1);\n    if (elseBlock.char(0) === \"{\")\n        elseBlock = elseBlock.slice(1, -1);\n    ctx.lispTree = new Lisp({\n        op: 'if',\n        a: lispifyExpr(constants, condition),\n        b: new If(lispifyBlock(trueBlock, constants), elseBlock.length ? lispifyBlock(elseBlock, constants) : undefined)\n    });\n});\nsetLispType(['switch'], (constants, type, part, res, expect, ctx) => {\n    const test = restOfExp(constants, part.substring(res[0].length), [], \"(\");\n    let start = part.toString().indexOf(\"{\", res[0].length + test.length + 1);\n    if (start === -1)\n        throw new SyntaxError(\"Invalid switch\");\n    let statement = insertSemicolons(constants, restOfExp(constants, part.substring(start + 1), [], \"{\"));\n    let caseFound;\n    const caseTest = /^\\s*(case\\s|default)\\s*/;\n    let cases = [];\n    let defaultFound = false;\n    while (caseFound = caseTest.exec(statement.toString())) {\n        if (caseFound[1] === 'default') {\n            if (defaultFound)\n                throw new SyntaxError(\"Only one default switch case allowed\");\n            defaultFound = true;\n        }\n        let cond = restOfExp(constants, statement.substring(caseFound[0].length), [/^:/]);\n        let found = emptyString;\n        let i = start = caseFound[0].length + cond.length + 1;\n        let bracketFound = /^\\s*\\{/.exec(statement.substring(i).toString());\n        let exprs = [];\n        if (bracketFound) {\n            i += bracketFound[0].length;\n            found = restOfExp(constants, statement.substring(i), [], \"{\");\n            i += found.length + 1;\n            exprs = lispifyBlock(found, constants);\n        }\n        else {\n            let notEmpty = restOfExp(constants, statement.substring(i), [caseTest]);\n            if (!notEmpty.trim().length) {\n                exprs = [];\n                i += notEmpty.length;\n            }\n            else {\n                while ((found = restOfExp(constants, statement.substring(i), [semiColon])).length) {\n                    i += found.length + (statement.char(i + found.length) === ';' ? 1 : 0);\n                    if (caseTest.test(statement.substring(i).toString())) {\n                        break;\n                    }\n                }\n                exprs = lispifyBlock(statement.substring(start, found.end - statement.start), constants);\n            }\n        }\n        statement = statement.substring(i);\n        cases.push(new Lisp({\n            op: \"case\",\n            a: caseFound[1] === \"default\" ? undefined : lispifyExpr(constants, cond),\n            b: toLispArray(exprs)\n        }));\n    }\n    ctx.lispTree = new Lisp({\n        op: 'switch',\n        a: lispifyExpr(constants, test),\n        b: toLispArray(cases)\n    });\n});\nsetLispType(['dot', 'prop'], (constants, type, part, res, expect, ctx) => {\n    let prop = res[0];\n    let index = res[0].length;\n    let op = 'prop';\n    if (type === 'dot') {\n        if (res[1]) {\n            op = '?prop';\n        }\n        let matches = part.substring(res[0].length).toString().match(expectTypes.prop.types.prop);\n        if (matches && matches.length) {\n            prop = matches[0];\n            index = prop.length + res[0].length;\n        }\n        else {\n            throw new SyntaxError('Hanging  dot');\n        }\n    }\n    ctx.lispTree = lispify(constants, part.substring(index), expectTypes[expect].next, new Lisp({\n        op: op,\n        a: ctx.lispTree,\n        b: prop\n    }));\n});\nsetLispType(['spreadArray', 'spreadObject'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: type,\n        b: lispify(constants, part.substring(res[0].length), expectTypes[expect].next)\n    });\n});\nsetLispType(['return', 'throw'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: type,\n        b: lispifyExpr(constants, part.substring(res[0].length))\n    });\n});\nconst primitives = {\n    \"true\": true,\n    \"false\": false,\n    \"null\": null,\n    Infinity,\n    NaN,\n    \"und\": undefined\n};\nsetLispType(['number', 'boolean', 'null', 'und', 'NaN', 'Infinity'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, type === \"number\" ? (res[10] ? BigInt(res[1]) : Number(res[0])) : primitives[type === \"boolean\" ? res[0] : type]);\n});\nsetLispType(['string', 'literal', 'regex'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, new Lisp({\n        op: type,\n        b: parseInt(JSON.parse(res[1]), 10),\n    }));\n});\nsetLispType(['initialize'], (constants, type, part, res, expect, ctx) => {\n    if (!res[3]) {\n        ctx.lispTree = lispify(constants, part.substring(res[0].length), expectTypes[expect].next, new Lisp({\n            op: res[1],\n            a: res[2]\n        }));\n    }\n    else {\n        ctx.lispTree = new Lisp({\n            op: res[1],\n            a: res[2],\n            b: lispify(constants, part.substring(res[0].length), expectTypes[expect].next)\n        });\n    }\n});\nsetLispType(['function', 'inlineFunction', 'arrowFunction', 'arrowFunctionSingle'], (constants, type, part, res, expect, ctx) => {\n    const isArrow = type !== 'function' && type !== 'inlineFunction';\n    const isReturn = isArrow && !res[res.length - 1];\n    const argPos = isArrow ? 2 : 3;\n    const isAsync = !!res[1];\n    const args = res[argPos] ? res[argPos].replace(/\\s+/g, \"\").split(/,/g) : [];\n    if (!isArrow) {\n        args.unshift((res[2] || \"\").trimStart());\n    }\n    let ended = false;\n    args.forEach((arg) => {\n        if (ended)\n            throw new SyntaxError('Rest parameter must be last formal parameter');\n        if (arg.startsWith('...'))\n            ended = true;\n    });\n    args.unshift(isAsync);\n    const f = restOfExp(constants, part.substring(res[0].length), !isReturn ? [/^}/] : [/^[,\\)\\}\\]]/, semiColon]);\n    const func = (isReturn ? 'return ' + f : f);\n    ctx.lispTree = lispify(constants, part.substring(res[0].length + func.length + 1), expectTypes[expect].next, new Lisp({\n        op: isArrow ? 'arrowFunc' : type,\n        a: toLispArray(args),\n        b: constants.eager ? lispifyFunction(new CodeString(func), constants) : func\n    }));\n});\nconst iteratorRegex = /^((let|var|const)\\s+)?\\s*([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s+(in|of)(?![\\w\\$])/;\nsetLispType(['for', 'do', 'while'], (constants, type, part, res, expect, ctx) => {\n    let i = 0;\n    let startStep = true;\n    let startInternal = toLispArray([]);\n    let getIterator;\n    let beforeStep = false;\n    let checkFirst = true;\n    let condition;\n    let step = true;\n    let body;\n    switch (type) {\n        case 'while':\n            i = part.toString().indexOf(\"(\") + 1;\n            let extract = restOfExp(constants, part.substring(i), [], \"(\");\n            condition = lispifyReturnExpr(constants, extract);\n            body = restOfExp(constants, part.substring(i + extract.length + 1)).trim();\n            if (body[0] === \"{\")\n                body = body.slice(1, -1);\n            break;\n        case 'for':\n            i = part.toString().indexOf(\"(\") + 1;\n            let args = [];\n            let extract2 = emptyString;\n            for (let k = 0; k < 3; k++) {\n                extract2 = restOfExp(constants, part.substring(i), [/^[;\\)]/]);\n                args.push(extract2.trim());\n                i += extract2.length + 1;\n                if (part.char(i - 1) === \")\")\n                    break;\n            }\n            let iterator;\n            if (args.length === 1 && (iterator = iteratorRegex.exec(args[0].toString()))) {\n                if (iterator[4] === 'of') {\n                    getIterator = lispifyReturnExpr(constants, args[0].substring(iterator[0].length)),\n                        startInternal = toLispArray([\n                            ofStart2,\n                            ofStart3\n                        ]);\n                    condition = ofCondition;\n                    step = ofStep;\n                    beforeStep = lispify(constants, new CodeString((iterator[1] || 'let ') + iterator[3] + ' = $$next.value'), ['initialize']);\n                }\n                else {\n                    getIterator = lispifyReturnExpr(constants, args[0].substring(iterator[0].length)),\n                        startInternal = toLispArray([\n                            inStart2,\n                            inStart3\n                        ]);\n                    step = inStep;\n                    condition = inCondition;\n                    beforeStep = lispify(constants, new CodeString((iterator[1] || 'let ') + iterator[3] + ' = $$keys[$$keyIndex]'), ['initialize']);\n                }\n            }\n            else if (args.length === 3) {\n                startStep = lispifyExpr(constants, args.shift(), startingExecpted);\n                condition = lispifyReturnExpr(constants, args.shift());\n                step = lispifyExpr(constants, args.shift());\n            }\n            else {\n                throw new SyntaxError(\"Invalid for loop definition\");\n            }\n            body = restOfExp(constants, part.substring(i)).trim();\n            if (body[0] === \"{\")\n                body = body.slice(1, -1);\n            break;\n        case 'do':\n            checkFirst = false;\n            const isBlock = !!res[3];\n            body = restOfExp(constants, part.substring(res[0].length), isBlock ? [/^\\}/] : [semiColon]);\n            condition = lispifyReturnExpr(constants, restOfExp(constants, part.substring(part.toString().indexOf(\"(\", res[0].length + body.length) + 1), [], \"(\"));\n            break;\n    }\n    const a = toLispArray([checkFirst, startInternal, getIterator, startStep, step, condition, beforeStep]);\n    ctx.lispTree = new Lisp({\n        op: 'loop',\n        a,\n        b: lispifyBlock(body, constants)\n    });\n});\nsetLispType(['block'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = lispifyBlock(restOfExp(constants, part.substring(1), [], \"{\"), constants);\n});\nsetLispType(['loopAction'], (constants, type, part, res, expect, ctx) => {\n    ctx.lispTree = new Lisp({\n        op: 'loopAction',\n        a: res[1],\n    });\n});\nconst catchReg = /^\\s*(catch\\s*(\\(\\s*([a-zA-Z\\$_][a-zA-Z\\d\\$_]*)\\s*\\))?|finally)\\s*\\{/;\nsetLispType(['try'], (constants, type, part, res, expect, ctx) => {\n    const body = restOfExp(constants, part.substring(res[0].length), [], \"{\");\n    let catchRes = catchReg.exec(part.substring(res[0].length + body.length + 1).toString());\n    let finallyBody;\n    let exception;\n    let catchBody;\n    let offset = 0;\n    if (catchRes[1].startsWith('catch')) {\n        catchRes = catchReg.exec(part.substring(res[0].length + body.length + 1).toString());\n        exception = catchRes[2];\n        catchBody = restOfExp(constants, part.substring(res[0].length + body.length + 1 + catchRes[0].length), [], \"{\");\n        offset = res[0].length + body.length + 1 + catchRes[0].length + catchBody.length + 1;\n        if ((catchRes = catchReg.exec(part.substring(offset).toString())) && catchRes[1].startsWith('finally')) {\n            finallyBody = restOfExp(constants, part.substring(offset + catchRes[0].length), [], \"{\");\n        }\n    }\n    else {\n        finallyBody = restOfExp(constants, part.substring(res[0].length + body.length + 1 + catchRes[0].length), [], \"{\");\n    }\n    const b = toLispArray([\n        exception,\n        lispifyBlock(insertSemicolons(constants, catchBody || emptyString), constants),\n        lispifyBlock(insertSemicolons(constants, finallyBody || emptyString), constants),\n    ]);\n    ctx.lispTree = new Lisp({\n        op: 'try',\n        a: lispifyBlock(insertSemicolons(constants, body), constants),\n        b\n    });\n});\nsetLispType(['void', 'await'], (constants, type, part, res, expect, ctx) => {\n    const extract = restOfExp(constants, part.substring(res[0].length), [/^([^\\s\\.\\?\\w\\$]|\\?[^\\.])/]);\n    ctx.lispTree = lispify(constants, part.substring(res[0].length + extract.length), expectTypes[expect].next, new Lisp({\n        op: type,\n        a: lispify(constants, extract),\n    }));\n});\nsetLispType(['new'], (constants, type, part, res, expect, ctx) => {\n    let i = res[0].length;\n    const obj = restOfExp(constants, part.substring(i), [], undefined, \"(\");\n    i += obj.length + 1;\n    const args = [];\n    if (part.char(i - 1) === \"(\") {\n        const argsString = restOfExp(constants, part.substring(i), [], \"(\");\n        i += argsString.length + 1;\n        let found;\n        let j = 0;\n        while ((found = restOfExp(constants, argsString.substring(j), [/^,/])).length) {\n            j += found.length + 1;\n            args.push(found.trim());\n        }\n    }\n    ctx.lispTree = lispify(constants, part.substring(i), expectTypes.expEdge.next, new Lisp({\n        op: type,\n        a: lispify(constants, obj, expectTypes.initialize.next),\n        b: toLispArray(args.map((arg) => lispify(constants, arg, expectTypes.initialize.next))),\n    }));\n});\nconst ofStart2 = lispify(undefined, new CodeString('let $$iterator = $$obj[Symbol.iterator]()'), ['initialize']);\nconst ofStart3 = lispify(undefined, new CodeString('let $$next = $$iterator.next()'), ['initialize']);\nconst ofCondition = lispify(undefined, new CodeString('return !$$next.done'), ['initialize']);\nconst ofStep = lispify(undefined, new CodeString('$$next = $$iterator.next()'));\nconst inStart2 = lispify(undefined, new CodeString('let $$keys = Object.keys($$obj)'), ['initialize']);\nconst inStart3 = lispify(undefined, new CodeString('let $$keyIndex = 0'), ['initialize']);\nconst inStep = lispify(undefined, new CodeString('$$keyIndex++'));\nconst inCondition = lispify(undefined, new CodeString('return $$keyIndex < $$keys.length'), ['initialize']);\nvar lastType;\nfunction lispify(constants, part, expected, lispTree, topLevel = false) {\n    expected = expected || expectTypes.initialize.next;\n    if (part === undefined)\n        return lispTree;\n    part = part.trimStart();\n    const str = part.toString();\n    if (!part.length && !expected.includes('expEnd')) {\n        throw new SyntaxError(\"Unexpected end of expression\");\n    }\n    if (!part.length)\n        return lispTree;\n    let ctx = { lispTree: lispTree };\n    let res;\n    for (let expect of expected) {\n        if (expect === 'expEnd') {\n            continue;\n        }\n        for (let type in expectTypes[expect].types) {\n            if (type === 'expEnd') {\n                continue;\n            }\n            if (res = expectTypes[expect].types[type].exec(str)) {\n                lastType = type;\n                try {\n                    lispTypes.get(type)(constants, type, part, res, expect, ctx);\n                }\n                catch (e) {\n                    if (topLevel && e instanceof SyntaxError) {\n                        throw new ParseError(e.message, str);\n                    }\n                    throw e;\n                }\n                break;\n            }\n        }\n        if (res)\n            break;\n    }\n    if (!res && part.length) {\n        `Unexpected token after ${lastType}: ${part.char(0)}`;\n        if (topLevel) {\n            throw new ParseError(`Unexpected token after ${lastType}: ${part.char(0)}`, str);\n        }\n        throw new SyntaxError(`Unexpected token after ${lastType}: ${part.char(0)}`);\n    }\n    return ctx.lispTree;\n}\nconst startingExpectedWithoutSingle = startingExecpted.filter((r) => r !== 'expSingle');\nfunction lispifyExpr(constants, str, expected) {\n    if (!str.trimStart().length)\n        return undefined;\n    let subExpressions = [];\n    let sub;\n    let pos = 0;\n    expected = expected || expectTypes.initialize.next;\n    if (expected.includes('expSingle')) {\n        if (testMultiple(str.toString(), Object.values(expectTypes.expSingle.types))) {\n            return lispify(constants, str, ['expSingle'], undefined, true);\n        }\n    }\n    if (expected === startingExecpted)\n        expected = startingExpectedWithoutSingle;\n    while ((sub = restOfExp(constants, str.substring(pos), [/^,/])).length) {\n        subExpressions.push(sub.trimStart());\n        pos += sub.length + 1;\n    }\n    if (subExpressions.length === 1) {\n        return lispify(constants, str, expected, undefined, true);\n    }\n    if (expected.includes('initialize')) {\n        let defined = expectTypes.initialize.types.initialize.exec(subExpressions[0].toString());\n        if (defined) {\n            return toLispArray(subExpressions.map((str, i) => lispify(constants, i ? new CodeString(defined[1] + ' ' + str) : str, ['initialize'], undefined, true)));\n        }\n        else if (expectTypes.initialize.types.return.exec(subExpressions[0].toString())) {\n            return lispify(constants, str, expected, undefined, true);\n        }\n    }\n    const exprs = toLispArray(subExpressions.map((str, i) => lispify(constants, str, expected, undefined, true)));\n    return new Lisp({ op: \"multi\", a: exprs });\n}\nfunction lispifyReturnExpr(constants, str) {\n    return new Lisp({ op: 'return', b: lispifyExpr(constants, str) });\n}\nfunction lispifyBlock(str, constants, expression = false) {\n    str = insertSemicolons(constants, str);\n    if (!str.trim().length)\n        return toLispArray([]);\n    let parts = [];\n    let part;\n    let pos = 0;\n    let start = 0;\n    let details = {};\n    let skipped = false;\n    let isInserted = false;\n    while ((part = restOfExp(constants, str.substring(pos), [semiColon], undefined, undefined, undefined, details)).length) {\n        isInserted = str.char(pos + part.length) && str.char(pos + part.length) !== ';';\n        pos += part.length + (isInserted ? 0 : 1);\n        if (/^\\s*else(?![\\w\\$])/.test(str.substring(pos).toString())) {\n            skipped = true;\n        }\n        else if (details.words.includes('do') && /^\\s*while(?![\\w\\$])/.test(str.substring(pos).toString())) {\n            skipped = true;\n        }\n        else {\n            skipped = false;\n            parts.push(str.substring(start, pos - (isInserted ? 0 : 1)));\n            start = pos;\n        }\n        details = {};\n        if (expression)\n            break;\n    }\n    if (skipped) {\n        parts.push(str.substring(start, pos - (isInserted ? 0 : 1)));\n    }\n    return toLispArray(parts.map((str) => str.trimStart()).filter((str) => str.length).map((str, j) => {\n        return lispifyExpr(constants, str.trimStart(), startingExecpted);\n    }).flat());\n}\nfunction lispifyFunction(str, constants, expression = false) {\n    if (!str.trim().length)\n        return toLispArray([]);\n    const tree = lispifyBlock(str, constants, expression);\n    let hoisted = toLispArray([]);\n    hoist(tree, hoisted);\n    return toLispArray(hoisted.concat(tree));\n}\nfunction hoist(item, res) {\n    if (Array.isArray(item)) {\n        const rep = [];\n        for (let it of item) {\n            if (!hoist(it, res)) {\n                rep.push(it);\n            }\n        }\n        if (rep.length !== item.length) {\n            item.length = 0;\n            item.push(...rep);\n        }\n    }\n    else if (item instanceof Lisp) {\n        if (item.op === \"try\" || item.op === \"if\" || item.op === \"loop\" || item.op === \"switch\") {\n            hoist(item.a, res);\n            hoist(item.b, res);\n        }\n        else if (item.op === \"var\") {\n            res.push(new Lisp({ op: 'var', a: item.a }));\n        }\n        else if (item.op === \"function\" && item.a[1]) {\n            res.push(item);\n            return true;\n        }\n    }\n    return false;\n}\nconst closingsNoInsertion = /^(\\})\\s*(catch|finally|else|while|instanceof)(?![\\w\\$])/;\n//  \\w|)|] \\n \\w = 2                                  // \\} \\w|\\{ = 5 \nconst colonsRegex = /^((([\\w\\$\\]\\)\\\"\\'\\`]|\\+\\+|\\-\\-)\\s*\\r?\\n\\s*([\\w\\$\\+\\-\\!~]))|(\\}\\s*[\\w\\$\\!~\\+\\-\\{\\(\\\"\\'\\`]))/;\n// if () \\w \\n; \\w              == \\w \\n \\w    | last === if             a\n// if () { }; \\w                == \\} ^else    | last === if             b\n// if () \\w \\n; else \\n \\w \\n;  == \\w \\n \\w    | last === else           a\n// if () {} else {}; \\w         == \\} \\w       | last === else           b\n// while () \\n \\w \\n; \\w        == \\w \\n \\w    | last === while          a\n// while () { }; \\w             == \\} \\w       | last === while          b\n// do \\w \\n; while (); \\w       == \\w \\n while | last === do             a\n// do { } while (); \\w          == \\) \\w       | last === while          c\n// try {} catch () {}; \\w       == \\} \\w       | last === catch|finally  b\n// \\w \\n; \\w                    == \\w \\n \\w    | last === none           a\n// cb() \\n \\w                   == \\) \\n \\w    | last === none           a\n// obj[a] \\n \\w                 == \\] \\n \\w    | last === none           a\n// {} {}                        == \\} \\{       | last === none           b\nfunction insertSemicolons(constants, str) {\n    let rest = str;\n    let sub = emptyString;\n    let details = {};\n    const inserted = insertedSemicolons.get(str.ref) || new Array(str.ref.str.length);\n    while ((sub = restOfExp(constants, rest, [], undefined, undefined, [colonsRegex], details)).length) {\n        let valid = false;\n        let part = sub;\n        let edge = sub.length;\n        if (details.regRes) {\n            valid = true;\n            const [, , a, , , b] = details.regRes;\n            edge = details.regRes[3] === \"++\" || details.regRes[3] === \"--\" ? sub.length + 1 : sub.length;\n            part = rest.substring(0, edge);\n            if (b) {\n                let res = closingsNoInsertion.exec(rest.substring(sub.length - 1).toString());\n                if (res) {\n                    if (res[2] === 'while') {\n                        valid = details.lastWord !== 'do';\n                    }\n                    else {\n                        valid = false;\n                    }\n                }\n                else if (details.lastWord === 'function' && details.regRes[5][0] === \"}\" && details.regRes[5].slice(-1) === '(') {\n                    valid = false;\n                }\n            }\n            else if (a) {\n                if (details.lastWord === 'if' || details.lastWord === 'while' || details.lastWord === 'for' || details.lastWord === 'else') {\n                    valid = false;\n                }\n            }\n        }\n        if (valid) {\n            inserted[part.end] = true;\n        }\n        rest = rest.substring(edge);\n        details = {};\n    }\n    insertedSemicolons.set(str.ref, inserted);\n    return str;\n}\nfunction checkRegex(str) {\n    let i = 1;\n    let escape = false;\n    let done = false;\n    let cancel = false;\n    while (i < str.length && !done && !cancel) {\n        done = (str[i] === '/' && !escape);\n        escape = str[i] === '\\\\' && !escape;\n        cancel = str[i] === '\\n';\n        i++;\n    }\n    let after = str.substring(i);\n    cancel = (cancel || !done) || /^\\s*\\d/.test(after);\n    if (cancel)\n        return null;\n    let flags = /^[a-z]*/.exec(after);\n    if (/^\\s+[\\w\\$]/.test(str.substring(i + flags[0].length))) {\n        return null;\n    }\n    return {\n        regex: str.substring(1, i - 1),\n        flags: (flags && flags[0]) || \"\",\n        length: i + ((flags && flags[0].length) || 0)\n    };\n}\nconst notDivide = /(typeof|delete|instanceof|return|in|of|throw|new|void|do|if)$/;\nconst possibleDivide = /^([\\w\\$\\]\\)]|\\+\\+|\\-\\-)[\\s\\/]/;\nfunction extractConstants(constants, str, currentEnclosure = \"\") {\n    let quote;\n    let extract = [];\n    let escape = false;\n    let regexFound;\n    let comment = \"\";\n    let commentStart = -1;\n    let currJs = toLispArray([]);\n    let char = \"\";\n    const strRes = [];\n    const enclosures = [];\n    let isPossibleDivide;\n    for (var i = 0; i < str.length; i++) {\n        char = str[i];\n        if (comment) {\n            if (char === comment) {\n                if (comment === \"*\" && str[i + 1] === \"/\") {\n                    comment = \"\";\n                    i++;\n                }\n                else if (comment === \"\\n\") {\n                    comment = \"\";\n                }\n            }\n        }\n        else {\n            if (escape) {\n                escape = false;\n                extract.push(char);\n                continue;\n            }\n            if (quote) {\n                if (quote === \"`\" && char === \"$\" && str[i + 1] === \"{\") {\n                    let skip = extractConstants(constants, str.substring(i + 2), \"{\");\n                    currJs.push(skip.str);\n                    extract.push('${', currJs.length - 1, `}`);\n                    i += skip.length + 2;\n                }\n                else if (quote === char) {\n                    if (quote === '`') {\n                        constants.literals.push({\n                            op: 'literal',\n                            a: unraw(extract.join(\"\")),\n                            b: currJs\n                        });\n                        strRes.push(`\\``, constants.literals.length - 1, `\\``);\n                    }\n                    else {\n                        constants.strings.push(unraw(extract.join(\"\")));\n                        strRes.push(`\"`, constants.strings.length - 1, `\"`);\n                    }\n                    quote = null;\n                    extract = [];\n                }\n                else {\n                    extract.push(char);\n                }\n            }\n            else {\n                if ((char === \"'\" || char === '\"' || char === '`')) {\n                    currJs = toLispArray([]);\n                    quote = char;\n                }\n                else if (closings[currentEnclosure] === char && !enclosures.length) {\n                    return { str: strRes.join(\"\"), length: i };\n                }\n                else if (closings[char]) {\n                    enclosures.push(char);\n                    strRes.push(char);\n                }\n                else if (closings[enclosures[enclosures.length - 1]] === char) {\n                    enclosures.pop();\n                    strRes.push(char);\n                }\n                else if (char === \"/\" && (str[i + 1] === \"*\" || str[i + 1] === \"/\")) {\n                    comment = str[i + 1] === \"*\" ? \"*\" : \"\\n\";\n                    commentStart = i;\n                }\n                else if (char === '/' && !isPossibleDivide && (regexFound = checkRegex(str.substring(i)))) {\n                    constants.regexes.push(regexFound);\n                    strRes.push(`/`, constants.regexes.length - 1, `/r`);\n                    i += regexFound.length - 1;\n                }\n                else {\n                    strRes.push(char);\n                }\n                if (!isPossibleDivide || !space.test(char)) {\n                    if (isPossibleDivide = possibleDivide.exec(str.substring(i))) {\n                        if (notDivide.test(str.substring(0, i + isPossibleDivide[1].length))) {\n                            isPossibleDivide = null;\n                        }\n                    }\n                }\n            }\n            escape = quote && char === \"\\\\\";\n        }\n    }\n    if (comment) {\n        if (comment === \"*\") {\n            throw new SyntaxError(`Unclosed comment '/*': ${str.substring(commentStart)}`);\n        }\n    }\n    return { str: strRes.join(\"\"), length: i };\n}\nfunction parse(code, eager = false, expression = false) {\n    if (typeof code !== 'string')\n        throw new ParseError(`Cannot parse ${code}`, code);\n    let str = ' ' + code;\n    const constants = { strings: [], literals: [], regexes: [], eager };\n    str = extractConstants(constants, str).str;\n    for (let l of constants.literals) {\n        l.b = toLispArray(l.b.map((js) => lispifyExpr(constants, new CodeString(js))));\n    }\n    return { tree: lispifyFunction(new CodeString(str), constants, expression), constants };\n}\n\nclass ExecReturn {\n    constructor(auditReport, result, returned, breakLoop = false, continueLoop = false) {\n        this.auditReport = auditReport;\n        this.result = result;\n        this.returned = returned;\n        this.breakLoop = breakLoop;\n        this.continueLoop = continueLoop;\n    }\n}\nclass Prop {\n    constructor(context, prop, isConst = false, isGlobal = false, isVariable = false) {\n        this.context = context;\n        this.prop = prop;\n        this.isConst = isConst;\n        this.isGlobal = isGlobal;\n        this.isVariable = isVariable;\n    }\n    get(context) {\n        if (this.context === undefined)\n            throw new ReferenceError(`${this.prop} is not defined`);\n        context.getSubscriptions.forEach((cb) => cb(this.context, this.prop));\n        return this.context[this.prop];\n    }\n}\nconst optional = {};\nconst reservedWords = new Set([\n    'instanceof',\n    'typeof',\n    'return',\n    'try',\n    'catch',\n    'if',\n    'finally',\n    'else',\n    'in',\n    'of',\n    'var',\n    'let',\n    'const',\n    'for',\n    'delete',\n    'false',\n    'true',\n    'while',\n    'do',\n    'break',\n    'continue',\n    'new',\n    'function',\n    'async',\n    'await',\n    'switch',\n    'case'\n]);\nvar VarType;\n(function (VarType) {\n    VarType[\"let\"] = \"let\";\n    VarType[\"const\"] = \"const\";\n    VarType[\"var\"] = \"var\";\n})(VarType || (VarType = {}));\nfunction keysOnly(obj) {\n    const ret = Object.assign({}, obj);\n    for (let key in ret) {\n        ret[key] = true;\n    }\n    return ret;\n}\nclass Scope {\n    constructor(parent, vars = {}, functionThis) {\n        this.const = {};\n        this.let = {};\n        this.var = {};\n        const isFuncScope = functionThis !== undefined || parent === null;\n        this.parent = parent;\n        this.allVars = vars;\n        this.let = isFuncScope ? this.let : keysOnly(vars);\n        this.var = isFuncScope ? keysOnly(vars) : this.var;\n        this.globals = parent === null ? keysOnly(vars) : {};\n        this.functionThis = functionThis;\n    }\n    get(key, functionScope = false) {\n        if (key === 'this' && this.functionThis !== undefined) {\n            return new Prop({ this: this.functionThis }, key, true, false, true);\n        }\n        if (reservedWords.has(key))\n            throw new SyntaxError(\"Unexepected token '\" + key + \"'\");\n        if (this.parent === null || !functionScope || this.functionThis !== undefined) {\n            if (this.globals.hasOwnProperty(key)) {\n                return new Prop(this.functionThis, key, false, true, true);\n            }\n            if (key in this.allVars && (!(key in {}) || this.allVars.hasOwnProperty(key))) {\n                return new Prop(this.allVars, key, this.const.hasOwnProperty(key), this.globals.hasOwnProperty(key), true);\n            }\n            if (this.parent === null) {\n                return new Prop(undefined, key);\n            }\n        }\n        return this.parent.get(key, functionScope);\n    }\n    set(key, val) {\n        if (key === 'this')\n            throw new SyntaxError('\"this\" cannot be assigned');\n        if (reservedWords.has(key))\n            throw new SyntaxError(\"Unexepected token '\" + key + \"'\");\n        let prop = this.get(key);\n        if (prop.context === undefined) {\n            throw new ReferenceError(`Variable '${key}' was not declared.`);\n        }\n        if (prop.isConst) {\n            throw new TypeError(`Cannot assign to const variable '${key}'`);\n        }\n        if (prop.isGlobal) {\n            throw new SandboxError(`Cannot override global variable '${key}'`);\n        }\n        prop.context[prop.prop] = val;\n        return prop;\n    }\n    declare(key, type = null, value = undefined, isGlobal = false) {\n        if (key === 'this')\n            throw new SyntaxError('\"this\" cannot be declared');\n        if (reservedWords.has(key))\n            throw new SyntaxError(\"Unexepected token '\" + key + \"'\");\n        if (type === 'var' && this.functionThis === undefined && this.parent !== null) {\n            return this.parent.declare(key, type, value, isGlobal);\n        }\n        else if ((this[type].hasOwnProperty(key) && type !== 'const' && !this.globals.hasOwnProperty(key)) || !(key in this.allVars)) {\n            if (isGlobal) {\n                this.globals[key] = true;\n            }\n            this[type][key] = true;\n            this.allVars[key] = value;\n        }\n        else {\n            throw new SandboxError(`Identifier '${key}' has already been declared`);\n        }\n        return new Prop(this.allVars, key, this.const.hasOwnProperty(key), isGlobal);\n    }\n}\nclass FunctionScope {\n}\nclass LocalScope {\n}\nclass SandboxError extends Error {\n}\nlet currentTicks;\nfunction sandboxFunction(context, ticks) {\n    return SandboxFunction;\n    function SandboxFunction(...params) {\n        let code = params.pop() || \"\";\n        let parsed = parse(code);\n        return createFunction(params, parsed.tree, ticks || currentTicks, {\n            ...context,\n            constants: parsed.constants,\n            tree: parsed.tree\n        }, undefined, 'anonymous');\n    }\n}\nfunction generateArgs(argNames, args) {\n    const vars = {};\n    argNames.forEach((arg, i) => {\n        if (arg.startsWith('...')) {\n            vars[arg.substring(3)] = args.slice(i);\n        }\n        else {\n            vars[arg] = args[i];\n        }\n    });\n    return vars;\n}\nconst sandboxedFunctions = new WeakSet();\nfunction createFunction(argNames, parsed, ticks, context, scope, name) {\n    if (context.ctx.options.forbidFunctionCreation) {\n        throw new SandboxError(\"Function creation is forbidden\");\n    }\n    let func;\n    if (name === undefined) {\n        func = (...args) => {\n            const vars = generateArgs(argNames, args);\n            const res = executeTree(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars)]);\n            return res.result;\n        };\n    }\n    else {\n        func = function sandboxedObject(...args) {\n            const vars = generateArgs(argNames, args);\n            const res = executeTree(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars, this)]);\n            return res.result;\n        };\n    }\n    sandboxedFunctions.add(func);\n    return func;\n}\nfunction createFunctionAsync(argNames, parsed, ticks, context, scope, name) {\n    var _a;\n    if (context.ctx.options.forbidFunctionCreation) {\n        throw new SandboxError(\"Function creation is forbidden\");\n    }\n    if (!((_a = context.ctx.prototypeWhitelist) === null || _a === void 0 ? void 0 : _a.has(Promise.prototype))) {\n        throw new SandboxError(\"Async/await not permitted\");\n    }\n    let func;\n    if (name === undefined) {\n        func = async (...args) => {\n            const vars = generateArgs(argNames, args);\n            const res = await executeTreeAsync(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars)]);\n            return res.result;\n        };\n    }\n    else {\n        func = async function sandboxedObject(...args) {\n            const vars = generateArgs(argNames, args);\n            const res = await executeTreeAsync(ticks, context, parsed, scope === undefined ? [] : [new Scope(scope, vars, this)]);\n            return res.result;\n        };\n    }\n    sandboxedFunctions.add(func);\n    return func;\n}\nfunction sandboxedEval(func) {\n    return sandboxEval;\n    function sandboxEval(code) {\n        return func(code)();\n    }\n}\nfunction sandboxedSetTimeout(func) {\n    return function sandboxSetTimeout(handler, ...args) {\n        if (typeof handler !== 'string')\n            return setTimeout(handler, ...args);\n        return setTimeout(func(handler), ...args);\n    };\n}\nfunction sandboxedSetInterval(func) {\n    return function sandboxSetInterval(handler, ...args) {\n        if (typeof handler !== 'string')\n            return setInterval(handler, ...args);\n        return setInterval(func(handler), ...args);\n    };\n}\nfunction assignCheck(obj, context, op = 'assign') {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    if (obj.context === undefined) {\n        throw new ReferenceError(`Cannot ${op} value to undefined.`);\n    }\n    if (typeof obj.context !== 'object' && typeof obj.context !== 'function') {\n        throw new SyntaxError(`Cannot ${op} value to a primitive.`);\n    }\n    if (obj.isConst) {\n        throw new TypeError(`Cannot set value to const variable '${obj.prop}'`);\n    }\n    if (obj.isGlobal) {\n        throw new SandboxError(`Cannot ${op} property '${obj.prop}' of a global object`);\n    }\n    if (typeof obj.context[obj.prop] === 'function' && !obj.context.hasOwnProperty(obj.prop)) {\n        throw new SandboxError(`Override prototype property '${obj.prop}' not allowed`);\n    }\n    if (op === \"delete\") {\n        if (obj.context.hasOwnProperty(obj.prop)) {\n            (_a = context.changeSubscriptions.get(obj.context)) === null || _a === void 0 ? void 0 : _a.forEach((cb) => cb({ type: \"delete\", prop: obj.prop }));\n            (_b = context.changeSubscriptionsGlobal.get(obj.context)) === null || _b === void 0 ? void 0 : _b.forEach((cb) => cb({ type: \"delete\", prop: obj.prop }));\n        }\n    }\n    else if (obj.context.hasOwnProperty(obj.prop)) {\n        (_d = (_c = context.setSubscriptions.get(obj.context)) === null || _c === void 0 ? void 0 : _c.get(obj.prop)) === null || _d === void 0 ? void 0 : _d.forEach((cb) => cb({\n            type: \"replace\"\n        }));\n        (_f = (_e = context.setSubscriptionsGlobal.get(obj.context)) === null || _e === void 0 ? void 0 : _e.get(obj.prop)) === null || _f === void 0 ? void 0 : _f.forEach((cb) => cb({\n            type: \"replace\"\n        }));\n    }\n    else {\n        (_g = context.changeSubscriptions.get(obj.context)) === null || _g === void 0 ? void 0 : _g.forEach((cb) => cb({ type: \"create\", prop: obj.prop }));\n        (_h = context.changeSubscriptionsGlobal.get(obj.context)) === null || _h === void 0 ? void 0 : _h.forEach((cb) => cb({ type: \"create\", prop: obj.prop }));\n    }\n}\nconst arrayChange = new Set([\n    [].push,\n    [].pop,\n    [].shift,\n    [].unshift,\n    [].splice,\n    [].reverse,\n    [].sort,\n    [].copyWithin\n]);\nconst literalRegex = /(\\$\\$)*(\\$)?\\${(\\d+)}/g;\nlet ops2 = {\n    'prop': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (a === null) {\n            throw new TypeError(`Cannot get property ${b} of null`);\n        }\n        const type = typeof a;\n        if (type === 'undefined' && obj === undefined) {\n            let prop = scope.get(b);\n            if (prop.context === context.ctx.sandboxGlobal) {\n                if (context.ctx.options.audit) {\n                    context.ctx.auditReport.globalsAccess.add(b);\n                }\n                const rep = context.ctx.globalsWhitelist.has(context.ctx.sandboxGlobal[b]) ? context.evals.get(context.ctx.sandboxGlobal[b]) : undefined;\n                if (rep) {\n                    done(undefined, rep);\n                    return;\n                }\n            }\n            if (prop.context && prop.context[b] === globalThis) {\n                done(undefined, context.ctx.globalScope.get('this'));\n                return;\n            }\n            done(undefined, prop);\n            return;\n        }\n        else if (a === undefined) {\n            throw new SandboxError(\"Cannot get property '\" + b + \"' of undefined\");\n        }\n        if (type !== 'object') {\n            if (type === 'number') {\n                a = new Number(a);\n            }\n            else if (type === 'string') {\n                a = new String(a);\n            }\n            else if (type === 'boolean') {\n                a = new Boolean(a);\n            }\n        }\n        else if (typeof a.hasOwnProperty === 'undefined') {\n            done(undefined, new Prop(undefined, b));\n            return;\n        }\n        const isFunction = type === 'function';\n        let prototypeAccess = isFunction || !(a.hasOwnProperty(b) || typeof b === 'number');\n        if (context.ctx.options.audit && prototypeAccess) {\n            if (typeof b === 'string') {\n                let prot = Object.getPrototypeOf(a);\n                do {\n                    if (prot.hasOwnProperty(b)) {\n                        if (!context.ctx.auditReport.prototypeAccess[prot.constructor.name]) {\n                            context.ctx.auditReport.prototypeAccess[prot.constructor.name] = new Set();\n                        }\n                        context.ctx.auditReport.prototypeAccess[prot.constructor.name].add(b);\n                    }\n                } while (prot = Object.getPrototypeOf(prot));\n            }\n        }\n        if (prototypeAccess) {\n            if (isFunction) {\n                if (!['name', 'length', 'constructor'].includes(b) && a.hasOwnProperty(b)) {\n                    const whitelist = context.ctx.prototypeWhitelist.get(a.prototype);\n                    const replace = context.ctx.options.prototypeReplacements.get(a);\n                    if (replace) {\n                        done(undefined, new Prop(replace(a, true), b));\n                        return;\n                    }\n                    if (whitelist && (!whitelist.size || whitelist.has(b))) ;\n                    else {\n                        throw new SandboxError(`Static method or property access not permitted: ${a.name}.${b}`);\n                    }\n                }\n            }\n            else if (b !== 'constructor') {\n                let prot = a;\n                while (prot = Object.getPrototypeOf(prot)) {\n                    if (prot.hasOwnProperty(b)) {\n                        const whitelist = context.ctx.prototypeWhitelist.get(prot);\n                        const replace = context.ctx.options.prototypeReplacements.get(prot.constuctor);\n                        if (replace) {\n                            done(undefined, new Prop(replace(a, false), b));\n                            return;\n                        }\n                        if (whitelist && (!whitelist.size || whitelist.has(b))) {\n                            break;\n                        }\n                        throw new SandboxError(`Method or property access not permitted: ${prot.constructor.name}.${b}`);\n                    }\n                }\n            }\n        }\n        if (context.evals.has(a[b])) {\n            done(undefined, context.evals.get(a[b]));\n            return;\n        }\n        if (a[b] === globalThis) {\n            done(undefined, context.ctx.globalScope.get('this'));\n            return;\n        }\n        let g = obj.isGlobal || (isFunction && !sandboxedFunctions.has(a)) || context.ctx.globalsWhitelist.has(a);\n        done(undefined, new Prop(a, b, false, g));\n    },\n    'call': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (context.ctx.options.forbidFunctionCalls)\n            throw new SandboxError(\"Function invocations are not allowed\");\n        if (typeof a !== 'function') {\n            throw new TypeError(`${obj.prop} is not a function`);\n        }\n        const args = b.map((item) => {\n            if (item instanceof SpreadArray) {\n                return [...item.item];\n            }\n            else {\n                return [item];\n            }\n        }).flat();\n        execMany(ticks, exec, toLispArray(args), (err, vals) => {\n            var _a, _b;\n            if (err) {\n                done(err);\n                return;\n            }\n            if (typeof obj === 'function') {\n                done(undefined, obj(...vals));\n                return;\n            }\n            if (obj.context[obj.prop] === JSON.stringify && context.getSubscriptions.size) {\n                const cache = new Set();\n                const recurse = (x) => {\n                    if (!x || !(typeof x === 'object') || cache.has(x))\n                        return;\n                    cache.add(x);\n                    for (let y in x) {\n                        context.getSubscriptions.forEach((cb) => cb(x, y));\n                        recurse(x[y]);\n                    }\n                };\n                recurse(vals[0]);\n            }\n            if (obj.context instanceof Array && arrayChange.has(obj.context[obj.prop]) && (context.changeSubscriptions.get(obj.context) || context.changeSubscriptionsGlobal.get(obj.context))) {\n                let change;\n                let changed = false;\n                if (obj.prop === \"push\") {\n                    change = {\n                        type: \"push\",\n                        added: vals\n                    };\n                    changed = !!vals.length;\n                }\n                else if (obj.prop === \"pop\") {\n                    change = {\n                        type: \"pop\",\n                        removed: obj.context.slice(-1)\n                    };\n                    changed = !!change.removed.length;\n                }\n                else if (obj.prop === \"shift\") {\n                    change = {\n                        type: \"shift\",\n                        removed: obj.context.slice(0, 1)\n                    };\n                    changed = !!change.removed.length;\n                }\n                else if (obj.prop === \"unshift\") {\n                    change = {\n                        type: \"unshift\",\n                        added: vals\n                    };\n                    changed = !!vals.length;\n                }\n                else if (obj.prop === \"splice\") {\n                    change = {\n                        type: \"splice\",\n                        startIndex: vals[0],\n                        deleteCount: vals[1] === undefined ? obj.context.length : vals[1],\n                        added: vals.slice(2),\n                        removed: obj.context.slice(vals[0], vals[1] === undefined ? undefined : vals[0] + vals[1])\n                    };\n                    changed = !!change.added.length || !!change.removed.length;\n                }\n                else if (obj.prop === \"reverse\" || obj.prop === \"sort\") {\n                    change = { type: obj.prop };\n                    changed = !!obj.context.length;\n                }\n                else if (obj.prop === \"copyWithin\") {\n                    let len = vals[2] === undefined ? obj.context.length - vals[1] : Math.min(obj.context.length, vals[2] - vals[1]);\n                    change = {\n                        type: \"copyWithin\",\n                        startIndex: vals[0],\n                        endIndex: vals[0] + len,\n                        added: obj.context.slice(vals[1], vals[1] + len),\n                        removed: obj.context.slice(vals[0], vals[0] + len)\n                    };\n                    changed = !!change.added.length || !!change.removed.length;\n                }\n                if (changed) {\n                    (_a = context.changeSubscriptions.get(obj.context)) === null || _a === void 0 ? void 0 : _a.forEach((cb) => cb(change));\n                    (_b = context.changeSubscriptionsGlobal.get(obj.context)) === null || _b === void 0 ? void 0 : _b.forEach((cb) => cb(change));\n                }\n            }\n            obj.get(context);\n            done(undefined, obj.context[obj.prop](...vals));\n        }, scope, context);\n    },\n    'createObject': (exec, done, ticks, a, b, obj, context, scope) => {\n        let res = {};\n        for (let item of b) {\n            if (item instanceof SpreadObject) {\n                res = { ...res, ...item.item };\n            }\n            else {\n                res[item.key] = item.val;\n            }\n        }\n        done(undefined, res);\n    },\n    'keyVal': (exec, done, ticks, a, b) => done(undefined, new KeyVal(a, b)),\n    'createArray': (exec, done, ticks, a, b, obj, context, scope) => {\n        const items = b.map((item) => {\n            if (item instanceof SpreadArray) {\n                return [...item.item];\n            }\n            else {\n                return [item];\n            }\n        }).flat();\n        execMany(ticks, exec, toLispArray(items), done, scope, context);\n    },\n    'group': (exec, done, ticks, a, b) => done(undefined, b),\n    'string': (exec, done, ticks, a, b, obj, context) => done(undefined, context.constants.strings[b]),\n    'regex': (exec, done, ticks, a, b, obj, context) => {\n        const reg = context.constants.regexes[b];\n        if (!context.ctx.globalsWhitelist.has(RegExp)) {\n            throw new SandboxError(\"Regex not permitted\");\n        }\n        else {\n            done(undefined, new RegExp(reg.regex, reg.flags));\n        }\n    },\n    'literal': (exec, done, ticks, a, b, obj, context, scope) => {\n        let name = context.constants.literals[b].a;\n        let found = toLispArray([]);\n        let f;\n        let resnums = [];\n        while (f = literalRegex.exec(name)) {\n            if (!f[2]) {\n                found.push(context.constants.literals[b].b[parseInt(f[3], 10)]);\n                resnums.push(f[3]);\n            }\n        }\n        execMany(ticks, exec, found, (err, processed) => {\n            const reses = {};\n            if (err) {\n                done(err);\n                return;\n            }\n            for (let i in resnums) {\n                const num = resnums[i];\n                reses[num] = processed[i];\n            }\n            done(undefined, name.replace(/(\\\\\\\\)*(\\\\)?\\${(\\d+)}/g, (match, $$, $, num) => {\n                if ($)\n                    return match;\n                let res = reses[num];\n                return ($$ ? $$ : '') + `${valueOrProp(res, context)}`;\n            }));\n        }, scope, context);\n    },\n    'spreadArray': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, new SpreadArray(res));\n        });\n    },\n    'spreadObject': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, new SpreadObject(res));\n        });\n    },\n    '!': (exec, done, ticks, a, b) => done(undefined, !b),\n    '~': (exec, done, ticks, a, b) => done(undefined, ~b),\n    '++$': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, ++obj.context[obj.prop]);\n    },\n    '$++': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop]++);\n    },\n    '--$': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, --obj.context[obj.prop]);\n    },\n    '$--': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop]--);\n    },\n    '=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] = b);\n    },\n    '+=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] += b);\n    },\n    '-=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] -= b);\n    },\n    '/=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] /= b);\n    },\n    '*=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] *= b);\n    },\n    '**=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] **= b);\n    },\n    '%=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] %= b);\n    },\n    '^=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] ^= b);\n    },\n    '&=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] &= b);\n    },\n    '|=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] |= b);\n    },\n    '<<=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] <<= b);\n    },\n    '>>=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] >>= b);\n    },\n    '>>>=': (exec, done, ticks, a, b, obj, context) => {\n        assignCheck(obj, context);\n        done(undefined, obj.context[obj.prop] >>= b);\n    },\n    '?': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (!(b instanceof If)) {\n            throw new SyntaxError('Invalid inline if');\n        }\n        exec(ticks, a, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n            }\n            else {\n                exec(ticks, valueOrProp(res, context) ? b.t : b.f, scope, context, done);\n            }\n        });\n    },\n    '>': (exec, done, ticks, a, b) => done(undefined, a > b),\n    '<': (exec, done, ticks, a, b) => done(undefined, a < b),\n    '>=': (exec, done, ticks, a, b) => done(undefined, a >= b),\n    '<=': (exec, done, ticks, a, b) => done(undefined, a <= b),\n    '==': (exec, done, ticks, a, b) => done(undefined, a == b),\n    '===': (exec, done, ticks, a, b) => done(undefined, a === b),\n    '!=': (exec, done, ticks, a, b) => done(undefined, a != b),\n    '!==': (exec, done, ticks, a, b) => done(undefined, a !== b),\n    '&&': (exec, done, ticks, a, b) => done(undefined, a && b),\n    '||': (exec, done, ticks, a, b) => done(undefined, a || b),\n    '&': (exec, done, ticks, a, b) => done(undefined, a & b),\n    '|': (exec, done, ticks, a, b) => done(undefined, a | b),\n    ':': (exec, done, ticks, a, b) => done(undefined, new If(a, b)),\n    '+': (exec, done, ticks, a, b) => done(undefined, a + b),\n    '-': (exec, done, ticks, a, b) => done(undefined, a - b),\n    '$+': (exec, done, ticks, a, b) => done(undefined, +b),\n    '$-': (exec, done, ticks, a, b) => done(undefined, -b),\n    '/': (exec, done, ticks, a, b) => done(undefined, a / b),\n    '^': (exec, done, ticks, a, b) => done(undefined, a ^ b),\n    '*': (exec, done, ticks, a, b) => done(undefined, a * b),\n    '%': (exec, done, ticks, a, b) => done(undefined, a % b),\n    '<<': (exec, done, ticks, a, b) => done(undefined, a << b),\n    '>>': (exec, done, ticks, a, b) => done(undefined, a >> b),\n    '>>>': (exec, done, ticks, a, b) => done(undefined, a >>> b),\n    'typeof': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, b, scope, context, (e, prop) => {\n            done(undefined, typeof valueOrProp(prop, context));\n        });\n    },\n    'instanceof': (exec, done, ticks, a, b) => done(undefined, a instanceof b),\n    'in': (exec, done, ticks, a, b) => done(undefined, a in b),\n    'delete': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        if (bobj.context === undefined) {\n            done(undefined, true);\n            return;\n        }\n        assignCheck(bobj, context, 'delete');\n        if (bobj.isVariable) {\n            done(undefined, false);\n            return;\n        }\n        done(undefined, delete bobj.context[bobj.prop]);\n    },\n    'return': (exec, done, ticks, a, b, obj, context) => done(undefined, b),\n    'var': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, scope.declare(a, VarType.var, res));\n        });\n    },\n    'let': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, scope.declare(a, VarType.let, res, bobj && bobj.isGlobal));\n        });\n    },\n    'const': (exec, done, ticks, a, b, obj, context, scope, bobj) => {\n        exec(ticks, b, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            done(undefined, scope.declare(a, VarType.const, res));\n        });\n    },\n    'arrowFunc': (exec, done, ticks, a, b, obj, context, scope) => {\n        a = [...a];\n        if (typeof obj.b === \"string\" || obj.b instanceof CodeString) {\n            obj.b = b = lispifyFunction(new CodeString(obj.b), context.constants);\n        }\n        if (a.shift()) {\n            done(undefined, createFunctionAsync(a, b, ticks, context, scope));\n        }\n        else {\n            done(undefined, createFunction(a, b, ticks, context, scope));\n        }\n    },\n    'function': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (typeof obj.b === \"string\" || obj.b instanceof CodeString) {\n            obj.b = b = lispifyFunction(new CodeString(obj.b), context.constants);\n        }\n        let isAsync = a.shift();\n        let name = a.shift();\n        let func;\n        if (isAsync) {\n            func = createFunctionAsync(a, b, ticks, context, scope, name);\n        }\n        else {\n            func = createFunction(a, b, ticks, context, scope, name);\n        }\n        if (name) {\n            scope.declare(name, VarType.var, func);\n        }\n        done(undefined, func);\n    },\n    'inlineFunction': (exec, done, ticks, a, b, obj, context, scope) => {\n        if (typeof obj.b === \"string\" || obj.b instanceof CodeString) {\n            obj.b = b = lispifyFunction(new CodeString(obj.b), context.constants);\n        }\n        let isAsync = a.shift();\n        let name = a.shift();\n        if (name) {\n            scope = new Scope(scope, {});\n        }\n        let func;\n        if (isAsync) {\n            func = createFunctionAsync(a, b, ticks, context, scope, name);\n        }\n        else {\n            func = createFunction(a, b, ticks, context, scope, name);\n        }\n        if (name) {\n            scope.declare(name, VarType.let, func);\n        }\n        done(undefined, func);\n    },\n    'loop': (exec, done, ticks, a, b, obj, context, scope) => {\n        const [checkFirst, startInternal, getIterator, startStep, step, condition, beforeStep] = a;\n        let loop = true;\n        const loopScope = new Scope(scope, {});\n        let internalVars = {\n            '$$obj': undefined\n        };\n        const interalScope = new Scope(loopScope, internalVars);\n        if (exec === execAsync) {\n            (async () => {\n                let ad;\n                ad = asyncDone((d) => exec(ticks, startStep, loopScope, context, d));\n                internalVars['$$obj'] = (ad = asyncDone((d) => exec(ticks, getIterator, loopScope, context, d))).isInstant === true ? ad.instant : (await ad.p).result;\n                ad = asyncDone((d) => exec(ticks, startInternal, interalScope, context, d));\n                if (checkFirst)\n                    loop = (ad = asyncDone((d) => exec(ticks, condition, interalScope, context, d))).isInstant === true ? ad.instant : (await ad.p).result;\n                while (loop) {\n                    let innerLoopVars = {};\n                    ad = asyncDone((d) => exec(ticks, beforeStep, new Scope(interalScope, innerLoopVars), context, d));\n                    ad.isInstant === true ? ad.instant : (await ad.p).result;\n                    let res = await executeTreeAsync(ticks, context, b, [new Scope(loopScope, innerLoopVars)], \"loop\");\n                    if (res instanceof ExecReturn && res.returned) {\n                        done(undefined, res);\n                        return;\n                    }\n                    if (res instanceof ExecReturn && res.breakLoop) {\n                        break;\n                    }\n                    ad = asyncDone((d) => exec(ticks, step, interalScope, context, d));\n                    loop = (ad = asyncDone((d) => exec(ticks, condition, interalScope, context, d))).isInstant === true ? ad.instant : (await ad.p).result;\n                }\n                done();\n            })().catch(done);\n        }\n        else {\n            syncDone((d) => exec(ticks, startStep, loopScope, context, d));\n            internalVars['$$obj'] = syncDone((d) => exec(ticks, getIterator, loopScope, context, d)).result;\n            syncDone((d) => exec(ticks, startInternal, interalScope, context, d));\n            if (checkFirst)\n                loop = (syncDone((d) => exec(ticks, condition, interalScope, context, d))).result;\n            while (loop) {\n                let innerLoopVars = {};\n                syncDone((d) => exec(ticks, beforeStep, new Scope(interalScope, innerLoopVars), context, d));\n                let res = executeTree(ticks, context, b, [new Scope(loopScope, innerLoopVars)], \"loop\");\n                if (res instanceof ExecReturn && res.returned) {\n                    done(undefined, res);\n                    return;\n                }\n                if (res instanceof ExecReturn && res.breakLoop) {\n                    break;\n                }\n                syncDone((d) => exec(ticks, step, interalScope, context, d));\n                loop = (syncDone((d) => exec(ticks, condition, interalScope, context, d))).result;\n            }\n            done();\n        }\n    },\n    'loopAction': (exec, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch) => {\n        if ((inLoopOrSwitch === \"switch\" && a === \"continue\") || !inLoopOrSwitch) {\n            throw new SandboxError(\"Illegal \" + a + \" statement\");\n        }\n        done(undefined, new ExecReturn(context.ctx.auditReport, undefined, false, a === \"break\", a === \"continue\"));\n    },\n    'if': (exec, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch) => {\n        if (!(b instanceof If)) {\n            throw new SyntaxError('Invalid if');\n        }\n        exec(ticks, a, scope, context, (err, res) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            executeTreeWithDone(exec, done, ticks, context, valueOrProp(res, context) ? b.t : b.f, [new Scope(scope)], inLoopOrSwitch);\n        });\n    },\n    'switch': (exec, done, ticks, a, b, obj, context, scope) => {\n        exec(ticks, a, scope, context, (err, toTest) => {\n            if (err) {\n                done(err);\n                return;\n            }\n            toTest = valueOrProp(toTest, context);\n            if (exec === execSync) {\n                let res;\n                let isTrue = false;\n                for (let caseItem of b) {\n                    if (isTrue || (isTrue = !caseItem.a || toTest === valueOrProp((syncDone((d) => exec(ticks, caseItem.a, scope, context, d))).result, context))) {\n                        if (!caseItem.b)\n                            continue;\n                        res = executeTree(ticks, context, caseItem.b, [scope], \"switch\");\n                        if (res.breakLoop)\n                            break;\n                        if (res.returned) {\n                            done(undefined, res);\n                            return;\n                        }\n                        if (!caseItem.a) { // default case\n                            break;\n                        }\n                    }\n                }\n                done();\n            }\n            else {\n                (async () => {\n                    let res;\n                    let isTrue = false;\n                    for (let caseItem of b) {\n                        let ad;\n                        if (isTrue || (isTrue = !caseItem.a || toTest === valueOrProp((ad = asyncDone((d) => exec(ticks, caseItem.a, scope, context, d))).isInstant === true ? ad.instant : (await ad.p).result, context))) {\n                            if (!caseItem.b)\n                                continue;\n                            res = await executeTreeAsync(ticks, context, caseItem.b, [scope], \"switch\");\n                            if (res.breakLoop)\n                                break;\n                            if (res.returned) {\n                                done(undefined, res);\n                                return;\n                            }\n                            if (!caseItem.a) { // default case\n                                break;\n                            }\n                        }\n                    }\n                    done();\n                })().catch(done);\n            }\n        });\n    },\n    'try': (exec, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch) => {\n        const [exception, catchBody, finallyBody] = b;\n        executeTreeWithDone(exec, (err, res) => {\n            executeTreeWithDone(exec, (e) => {\n                if (e)\n                    done(e);\n                else if (err) {\n                    let sc = {};\n                    if (exception)\n                        sc[exception] = err;\n                    executeTreeWithDone(exec, done, ticks, context, catchBody, [new Scope(scope)], inLoopOrSwitch);\n                }\n                else {\n                    done(undefined, res);\n                }\n            }, ticks, context, finallyBody, [new Scope(scope, {})]);\n        }, ticks, context, a, [new Scope(scope)], inLoopOrSwitch);\n    },\n    'void': (exec, done, ticks, a) => { done(); },\n    'new': (exec, done, ticks, a, b, obj, context) => {\n        if (!context.ctx.globalsWhitelist.has(a) && !sandboxedFunctions.has(a)) {\n            throw new SandboxError(`Object construction not allowed: ${a.constructor.name}`);\n        }\n        done(undefined, new a(...b));\n    },\n    'throw': (exec, done, ticks, a, b) => { done(b); },\n    'multi': (exec, done, ticks, a) => done(undefined, a.pop())\n};\nlet ops = new Map();\nfor (let op in ops2) {\n    ops.set(op, ops2[op]);\n}\nfunction valueOrProp(a, context) {\n    if (a instanceof Prop)\n        return a.get(context);\n    if (a === optional)\n        return undefined;\n    return a;\n}\nfunction execMany(ticks, exec, tree, done, scope, context, inLoopOrSwitch) {\n    if (exec === execSync) {\n        _execManySync(ticks, tree, done, scope, context, inLoopOrSwitch);\n    }\n    else {\n        _execManyAsync(ticks, tree, done, scope, context, inLoopOrSwitch).catch(done);\n    }\n}\nfunction _execManySync(ticks, tree, done, scope, context, inLoopOrSwitch) {\n    let ret = [];\n    for (let i = 0; i < tree.length; i++) {\n        let res;\n        try {\n            res = syncDone((d) => execSync(ticks, tree[i], scope, context, d, inLoopOrSwitch)).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (res instanceof ExecReturn && (res.returned || res.breakLoop || res.continueLoop)) {\n            done(undefined, res);\n            return;\n        }\n        ret.push(res);\n    }\n    done(undefined, ret);\n}\nasync function _execManyAsync(ticks, tree, done, scope, context, inLoopOrSwitch) {\n    let ret = [];\n    for (let i = 0; i < tree.length; i++) {\n        let res;\n        try {\n            let ad;\n            res = (ad = asyncDone((d) => execAsync(ticks, tree[i], scope, context, d, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (res instanceof ExecReturn && (res.returned || res.breakLoop || res.continueLoop)) {\n            done(undefined, res);\n            return;\n        }\n        ret.push(res);\n    }\n    done(undefined, ret);\n}\nfunction asyncDone(callback) {\n    let isInstant = false;\n    let instant;\n    const p = new Promise((resolve, reject) => {\n        callback((err, result) => {\n            if (err)\n                reject(err);\n            else {\n                isInstant = true;\n                instant = result;\n                resolve({ result });\n            }\n        });\n    });\n    return {\n        isInstant,\n        instant,\n        p\n    };\n}\nfunction syncDone(callback) {\n    let result;\n    let err;\n    callback((e, r) => {\n        err = e;\n        result = r;\n    });\n    if (err)\n        throw err;\n    return { result };\n}\nasync function execAsync(ticks, tree, scope, context, doneOriginal, inLoopOrSwitch) {\n    let done = doneOriginal;\n    const p = new Promise((resolve) => {\n        done = (e, r) => {\n            doneOriginal(e, r);\n            resolve();\n        };\n    });\n    if (_execNoneRecurse(ticks, tree, scope, context, done, true, inLoopOrSwitch)) ;\n    else if (tree instanceof Lisp) {\n        let obj;\n        try {\n            let ad;\n            obj = (ad = asyncDone((d) => execAsync(ticks, tree.a, scope, context, d, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let a = obj;\n        try {\n            a = obj instanceof Prop ? obj.get(context) : obj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let op = tree.op;\n        if (op === '?prop' || op === '?call') {\n            if (a === undefined || a === null) {\n                done(undefined, optional);\n                return;\n            }\n            op = op.slice(1);\n        }\n        if (a === optional) {\n            if (op === 'prop' || op === 'call') {\n                done(undefined, a);\n                return;\n            }\n            else {\n                a = undefined;\n            }\n        }\n        let bobj;\n        try {\n            let ad;\n            bobj = (ad = asyncDone((d) => execAsync(ticks, tree.b, scope, context, d, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let b = bobj;\n        try {\n            b = bobj instanceof Prop ? bobj.get(context) : bobj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (b === optional) {\n            b = undefined;\n        }\n        if (ops.has(op)) {\n            try {\n                ops.get(op)(execAsync, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch);\n            }\n            catch (err) {\n                done(err);\n            }\n        }\n        else {\n            done(new SyntaxError('Unknown operator: ' + op));\n        }\n    }\n    await p;\n}\nfunction execSync(ticks, tree, scope, context, done, inLoopOrSwitch) {\n    if (_execNoneRecurse(ticks, tree, scope, context, done, false, inLoopOrSwitch)) ;\n    else if (tree instanceof Lisp) {\n        let obj;\n        try {\n            obj = syncDone((d) => execSync(ticks, tree.a, scope, context, d, inLoopOrSwitch)).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let a = obj;\n        try {\n            a = obj instanceof Prop ? obj.get(context) : obj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let op = tree.op;\n        if (op === '?prop' || op === '?call') {\n            if (a === undefined || a === null) {\n                done(undefined, optional);\n                return;\n            }\n            op = op.slice(1);\n        }\n        if (a === optional) {\n            if (op === 'prop' || op === 'call') {\n                done(undefined, a);\n                return;\n            }\n            else {\n                a = undefined;\n            }\n        }\n        let bobj;\n        try {\n            bobj = syncDone((d) => execSync(ticks, tree.b, scope, context, d, inLoopOrSwitch)).result;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        let b = bobj;\n        try {\n            b = bobj instanceof Prop ? bobj.get(context) : bobj;\n        }\n        catch (e) {\n            done(e);\n            return;\n        }\n        if (b === optional) {\n            b = undefined;\n        }\n        if (ops.has(op)) {\n            try {\n                ops.get(op)(execSync, done, ticks, a, b, obj, context, scope, bobj, inLoopOrSwitch);\n            }\n            catch (err) {\n                done(err);\n            }\n        }\n        else {\n            done(new SyntaxError('Unknown operator: ' + op));\n        }\n    }\n}\nconst unexecTypes = new Set(['arrowFunc', 'function', 'inlineFunction', 'loop', 'try', 'switch', 'if', '?', 'typeof']);\nfunction _execNoneRecurse(ticks, tree, scope, context, done, isAsync, inLoopOrSwitch) {\n    var _a;\n    const exec = isAsync ? execAsync : execSync;\n    if (context.ctx.options.executionQuota <= ticks.ticks) {\n        if (typeof context.ctx.options.onExecutionQuotaReached === 'function' && context.ctx.options.onExecutionQuotaReached(ticks, scope, context, tree)) ;\n        else {\n            done(new SandboxError(\"Execution quota exceeded\"));\n            return;\n        }\n    }\n    ticks.ticks++;\n    currentTicks = ticks;\n    if (tree instanceof Prop) {\n        try {\n            done(undefined, tree.get(context));\n        }\n        catch (err) {\n            done(err);\n        }\n    }\n    else if (tree === optional) {\n        done();\n    }\n    else if (Array.isArray(tree) && tree.lisp === lispArrayKey) {\n        execMany(ticks, exec, tree, done, scope, context, inLoopOrSwitch);\n    }\n    else if (!(tree instanceof Lisp)) {\n        done(undefined, tree);\n    }\n    else if (tree.op === 'await') {\n        if (!isAsync) {\n            done(new SandboxError(\"Illegal use of 'await', must be inside async function\"));\n        }\n        else if ((_a = context.ctx.prototypeWhitelist) === null || _a === void 0 ? void 0 : _a.has(Promise.prototype)) {\n            execAsync(ticks, tree.a, scope, context, async (e, r) => {\n                if (e)\n                    done(e);\n                else\n                    try {\n                        done(undefined, await valueOrProp(r, context));\n                    }\n                    catch (err) {\n                        done(err);\n                    }\n            }, inLoopOrSwitch).catch(done);\n        }\n        else {\n            done(new SandboxError('Async/await is not permitted'));\n        }\n    }\n    else if (unexecTypes.has(tree.op)) {\n        try {\n            ops.get(tree.op)(exec, done, ticks, tree.a, tree.b, tree, context, scope, undefined, inLoopOrSwitch);\n        }\n        catch (err) {\n            done(err);\n        }\n    }\n    else {\n        return false;\n    }\n    return true;\n}\nfunction executeTree(ticks, context, executionTree, scopes = [], inLoopOrSwitch) {\n    return syncDone((done) => executeTreeWithDone(execSync, done, ticks, context, executionTree, scopes, inLoopOrSwitch)).result;\n}\nasync function executeTreeAsync(ticks, context, executionTree, scopes = [], inLoopOrSwitch) {\n    let ad;\n    return (ad = asyncDone((done) => executeTreeWithDone(execAsync, done, ticks, context, executionTree, scopes, inLoopOrSwitch))).isInstant === true ? ad.instant : (await ad.p).result;\n}\nfunction executeTreeWithDone(exec, done, ticks, context, executionTree, scopes = [], inLoopOrSwitch) {\n    if (!executionTree) {\n        done();\n        return;\n    }\n    if (!(executionTree instanceof Array)) {\n        throw new SyntaxError('Bad execution tree');\n    }\n    let scope = context.ctx.globalScope;\n    let s;\n    while (s = scopes.shift()) {\n        if (typeof s !== \"object\")\n            continue;\n        if (s instanceof Scope) {\n            scope = s;\n        }\n        else {\n            scope = new Scope(scope, s, s instanceof LocalScope ? undefined : null);\n        }\n    }\n    if (context.ctx.options.audit && !context.ctx.auditReport) {\n        context.ctx.auditReport = {\n            globalsAccess: new Set(),\n            prototypeAccess: {},\n        };\n    }\n    if (exec === execSync) {\n        _executeWithDoneSync(done, ticks, context, executionTree, scope, inLoopOrSwitch);\n    }\n    else {\n        _executeWithDoneAsync(done, ticks, context, executionTree, scope, inLoopOrSwitch).catch(done);\n    }\n}\nfunction _executeWithDoneSync(done, ticks, context, executionTree, scope, inLoopOrSwitch) {\n    if (!(executionTree instanceof Array))\n        throw new SyntaxError('Bad execution tree');\n    let i = 0;\n    for (i = 0; i < executionTree.length; i++) {\n        let res;\n        let err;\n        const current = executionTree[i];\n        try {\n            execSync(ticks, current, scope, context, (e, r) => {\n                err = e;\n                res = r;\n            }, inLoopOrSwitch);\n        }\n        catch (e) {\n            err = e;\n        }\n        if (err) {\n            done(err);\n            return;\n        }\n        if (res instanceof ExecReturn) {\n            done(undefined, res);\n            return;\n        }\n        if (current instanceof Lisp && current.op === 'return') {\n            done(undefined, new ExecReturn(context.ctx.auditReport, res, true));\n            return;\n        }\n    }\n    done(undefined, new ExecReturn(context.ctx.auditReport, undefined, false));\n}\nasync function _executeWithDoneAsync(done, ticks, context, executionTree, scope, inLoopOrSwitch) {\n    if (!(executionTree instanceof Array))\n        throw new SyntaxError('Bad execution tree');\n    let i = 0;\n    for (i = 0; i < executionTree.length; i++) {\n        let res;\n        let err;\n        const current = executionTree[i];\n        try {\n            await execAsync(ticks, current, scope, context, (e, r) => {\n                err = e;\n                res = r;\n            }, inLoopOrSwitch);\n        }\n        catch (e) {\n            err = e;\n        }\n        if (err) {\n            done(err);\n            return;\n        }\n        if (res instanceof ExecReturn) {\n            done(undefined, res);\n            return;\n        }\n        if (current instanceof Lisp && current.op === 'return') {\n            done(undefined, new ExecReturn(context.ctx.auditReport, res, true));\n            return;\n        }\n    }\n    done(undefined, new ExecReturn(context.ctx.auditReport, undefined, false));\n}\n\nclass SandboxGlobal {\n    constructor(globals) {\n        if (globals === globalThis)\n            return globalThis;\n        for (let i in globals) {\n            this[i] = globals[i];\n        }\n    }\n}\nclass ExecContext {\n    constructor(ctx, constants, tree, getSubscriptions, setSubscriptions, changeSubscriptions, setSubscriptionsGlobal, changeSubscriptionsGlobal, evals) {\n        this.ctx = ctx;\n        this.constants = constants;\n        this.tree = tree;\n        this.getSubscriptions = getSubscriptions;\n        this.setSubscriptions = setSubscriptions;\n        this.changeSubscriptions = changeSubscriptions;\n        this.setSubscriptionsGlobal = setSubscriptionsGlobal;\n        this.changeSubscriptionsGlobal = changeSubscriptionsGlobal;\n        this.evals = evals;\n    }\n}\nfunction subscribeSet(obj, name, callback, context) {\n    const names = context.setSubscriptions.get(obj) || new Map();\n    context.setSubscriptions.set(obj, names);\n    const callbacks = names.get(name) || new Set();\n    names.set(name, callbacks);\n    callbacks.add(callback);\n    let changeCbs;\n    if (obj && obj[name] && typeof obj[name] === \"object\") {\n        changeCbs = context.changeSubscriptions.get(obj[name]) || new Set();\n        changeCbs.add(callback);\n        context.changeSubscriptions.set(obj[name], changeCbs);\n    }\n    return {\n        unsubscribe: () => {\n            callbacks.delete(callback);\n            changeCbs === null || changeCbs === void 0 ? void 0 : changeCbs.delete(callback);\n        }\n    };\n}\nclass Sandbox {\n    constructor(options) {\n        this.setSubscriptions = new WeakMap();\n        this.changeSubscriptions = new WeakMap();\n        options = Object.assign({\n            audit: false,\n            forbidFunctionCalls: false,\n            forbidFunctionCreation: false,\n            globals: Sandbox.SAFE_GLOBALS,\n            prototypeWhitelist: Sandbox.SAFE_PROTOTYPES,\n            prototypeReplacements: new Map(),\n        }, options || {});\n        const sandboxGlobal = new SandboxGlobal(options.globals);\n        this.context = {\n            sandbox: this,\n            globalsWhitelist: new Set(Object.values(options.globals)),\n            prototypeWhitelist: new Map([...options.prototypeWhitelist].map((a) => [a[0].prototype, a[1]])),\n            options,\n            globalScope: new Scope(null, options.globals, sandboxGlobal),\n            sandboxGlobal\n        };\n        this.context.prototypeWhitelist.set(Object.getPrototypeOf([][Symbol.iterator]()), new Set());\n    }\n    static get SAFE_GLOBALS() {\n        return {\n            Function,\n            console: {\n                debug: console.debug,\n                error: console.error,\n                info: console.info,\n                log: console.log,\n                table: console.table,\n                warn: console.warn\n            },\n            isFinite,\n            isNaN,\n            parseFloat,\n            parseInt,\n            decodeURI,\n            decodeURIComponent,\n            encodeURI,\n            encodeURIComponent,\n            escape,\n            unescape,\n            Boolean,\n            Number,\n            BigInt,\n            String,\n            Object,\n            Array,\n            Symbol,\n            Error,\n            EvalError,\n            RangeError,\n            ReferenceError,\n            SyntaxError,\n            TypeError,\n            URIError,\n            Int8Array,\n            Uint8Array,\n            Uint8ClampedArray,\n            Int16Array,\n            Uint16Array,\n            Int32Array,\n            Uint32Array,\n            Float32Array,\n            Float64Array,\n            Map,\n            Set,\n            WeakMap,\n            WeakSet,\n            Promise,\n            Intl,\n            JSON,\n            Math,\n            Date,\n            RegExp\n        };\n    }\n    static get SAFE_PROTOTYPES() {\n        let protos = [\n            SandboxGlobal,\n            Function,\n            Boolean,\n            Number,\n            BigInt,\n            String,\n            Date,\n            Error,\n            Array,\n            Int8Array,\n            Uint8Array,\n            Uint8ClampedArray,\n            Int16Array,\n            Uint16Array,\n            Int32Array,\n            Uint32Array,\n            Float32Array,\n            Float64Array,\n            Map,\n            Set,\n            WeakMap,\n            WeakSet,\n            Promise,\n            Symbol,\n            Date,\n            RegExp\n        ];\n        let map = new Map();\n        protos.forEach((proto) => {\n            map.set(proto, new Set());\n        });\n        map.set(Object, new Set([\n            'entries',\n            'fromEntries',\n            'getOwnPropertyNames',\n            'is',\n            'keys',\n            'hasOwnProperty',\n            'isPrototypeOf',\n            'propertyIsEnumerable',\n            'toLocaleString',\n            'toString',\n            'valueOf',\n            'values'\n        ]));\n        return map;\n    }\n    subscribeGet(callback, context) {\n        context.getSubscriptions.add(callback);\n        return { unsubscribe: () => context.getSubscriptions.delete(callback) };\n    }\n    subscribeSet(obj, name, callback, context) {\n        return subscribeSet(obj, name, callback, context);\n    }\n    subscribeSetGlobal(obj, name, callback) {\n        return subscribeSet(obj, name, callback, this);\n    }\n    static audit(code, scopes = []) {\n        const globals = {};\n        for (let i of Object.getOwnPropertyNames(globalThis)) {\n            globals[i] = globalThis[i];\n        }\n        const sandbox = new Sandbox({\n            globals,\n            audit: true,\n        });\n        return sandbox.executeTree(sandbox.createContext(sandbox.context, parse(code)), scopes);\n    }\n    static parse(code) {\n        return parse(code);\n    }\n    createContext(context, executionTree) {\n        const evals = new Map();\n        const execContext = new ExecContext(context, executionTree.constants, executionTree.tree, new Set(), new WeakMap(), new WeakMap(), this.setSubscriptions, this.changeSubscriptions, evals);\n        const func = sandboxFunction(execContext);\n        evals.set(Function, func);\n        evals.set(eval, sandboxedEval(func));\n        evals.set(setTimeout, sandboxedSetTimeout(func));\n        evals.set(setInterval, sandboxedSetInterval(func));\n        return execContext;\n    }\n    executeTree(context, scopes = []) {\n        return executeTree({\n            ticks: BigInt(0),\n        }, context, context.tree, scopes);\n    }\n    executeTreeAsync(context, scopes = []) {\n        return executeTreeAsync({\n            ticks: BigInt(0),\n        }, context, context.tree, scopes);\n    }\n    compile(code, optimize = false) {\n        const parsed = parse(code, optimize);\n        const exec = (...scopes) => {\n            const context = this.createContext(this.context, parsed);\n            return { context, run: () => this.executeTree(context, [...scopes]).result };\n        };\n        return exec;\n    }\n    ;\n    compileAsync(code, optimize = false) {\n        const parsed = parse(code, optimize);\n        const exec = (...scopes) => {\n            const context = this.createContext(this.context, parsed);\n            return { context, run: async () => (await this.executeTreeAsync(context, [...scopes])).result };\n        };\n        return exec;\n    }\n    ;\n    compileExpression(code, optimize = false) {\n        const parsed = parse(code, optimize, true);\n        const exec = (...scopes) => {\n            const context = this.createContext(this.context, parsed);\n            return { context, run: () => this.executeTree(context, [...scopes]).result };\n        };\n        return exec;\n    }\n    compileExpressionAsync(code, optimize = false) {\n        const parsed = parse(code, optimize, true);\n        const exec = (...scopes) => {\n            const context = this.createContext(this.context, parsed);\n            return { context, run: async () => (await this.executeTreeAsync(context, [...scopes])).result };\n        };\n        return exec;\n    }\n}\n\nexports.ExecContext = ExecContext;\nexports.FunctionScope = FunctionScope;\nexports.LocalScope = LocalScope;\nexports.SandboxGlobal = SandboxGlobal;\nexports.assignCheck = assignCheck;\nexports.asyncDone = asyncDone;\nexports['default'] = Sandbox;\nexports.execAsync = execAsync;\nexports.execMany = execMany;\nexports.execSync = execSync;\nexports.executeTree = executeTree;\nexports.executeTreeAsync = executeTreeAsync;\nexports.executionOps = ops;\nexports.expectTypes = expectTypes;\nexports.setLispType = setLispType;\nexports.syncDone = syncDone;\n",null,null],"names":["Object","defineProperty","value","parseHexToInt","hex","isOnlyHexChars","match","parseInt","NaN","validateAndParseHex","errorName","enforcedLength","parsedHex","Number","isNaN","undefined","length","SyntaxError","parseHexadecimalCode","code","parsedCode","String","fromCharCode","parseUnicodeCode","surrogateCode","parsedSurrogateCode","isCurlyBraced","text","charAt","parseUnicodeCodePointCode","codePoint","withoutBraces","slice","fromCodePoint","err","RangeError","singleCharacterEscapes","Map","parseSingleCharacterCode","get","escapeMatch","unraw","raw","replace","_","backslash","unicodeWithSurrogate","surrogate","unicode","octal","singleCharacter","lispTypes","ParseError","Error","constructor","message","substring","Lisp","obj","op","a","b","If","t","f","KeyVal","key","val","SpreadObject","item","SpreadArray","lispArrayKey","toLispArray","arr","lisp","inlineIfElse","elseIf","ifElse","space","expectTypes","splitter","types","opHigh","comparitor","boolOp","bitwise","next","inlineIf","assignment","assignModify","assign","incrementerBefore","expEdge","call","incrementerAfter","modifier","not","inverse","negative","positive","typeof","delete","dot","arrayProp","prop","createObject","createArray","number","string","literal","regex","boolean","null","und","arrowFunctionSingle","arrowFunction","inlineFunction","group","Infinity","void","await","new","throw","initialize","return","spreadObject","spreadArray","expEnd","expFunction","function","expSingle","for","do","while","loopAction","if","try","block","switch","closings","testMultiple","str","tests","found","i","test","exec","CodeString","ref","start","end","len","char","toString","trimStart","trim","valueOf","emptyString","okFirstChars","aNumber","wordReg","semiColon","insertedSemicolons","WeakMap","quoteCache","restOfExp","constants","part","quote","firstOpening","closingsTests","details","words","isStart","hasSemiTest","includes","filter","insertedSemis","cache","set","has","escape","done","lastChar","isOneLiner","lastInertedSemi","skip","sub","regRes","foundWord","foundNumber","push","lastAnyWord","lastWord","oneliner","startingExecpted","setLispType","fn","forEach","type","closingsCreate","res","expect","ctx","extract","arg","l","funcFound","lispifyExpr","map","e","lispify","lispTree","quoteCount","extractIfElse","_a","count","foundElse","foundTrue","first","elseReg","startsWith","ie","all","Math","max","true","false","condition","startTrue","trueBlock","elseBlock","lispifyBlock","indexOf","statement","insertSemicolons","caseFound","caseTest","cases","defaultFound","cond","bracketFound","exprs","notEmpty","index","matches","primitives","BigInt","JSON","parse","isArrow","isReturn","argPos","isAsync","args","split","unshift","ended","func","eager","lispifyFunction","iteratorRegex","startStep","startInternal","getIterator","beforeStep","checkFirst","step","body","lispifyReturnExpr","extract2","k","iterator","ofStart2","ofStart3","ofCondition","ofStep","inStart2","inStart3","inStep","inCondition","shift","isBlock","catchReg","catchRes","finallyBody","exception","catchBody","offset","argsString","j","lastType","expected","topLevel","startingExpectedWithoutSingle","r","subExpressions","pos","values","defined","expression","parts","skipped","isInserted","flat","tree","hoisted","hoist","concat","Array","isArray","rep","it","closingsNoInsertion","colonsRegex","rest","inserted","valid","edge","checkRegex","cancel","after","flags","notDivide","possibleDivide","extractConstants","currentEnclosure","regexFound","comment","commentStart","currJs","strRes","enclosures","isPossibleDivide","literals","join","strings","pop","regexes","js","ExecReturn","auditReport","result","returned","breakLoop","continueLoop","Prop","context","isConst","isGlobal","isVariable","ReferenceError","getSubscriptions","cb","optional","reservedWords","Set","VarType","keysOnly","ret","Scope","parent","vars","functionThis","const","let","var","isFuncScope","allVars","globals","functionScope","this","hasOwnProperty","TypeError","SandboxError","declare","FunctionScope","LocalScope","currentTicks","sandboxFunction","ticks","SandboxFunction","params","parsed","createFunction","generateArgs","argNames","sandboxedFunctions","WeakSet","scope","name","options","forbidFunctionCreation","executeTree","sandboxedObject","add","createFunctionAsync","prototypeWhitelist","Promise","prototype","executeTreeAsync","sandboxedEval","sandboxEval","sandboxedSetTimeout","sandboxSetTimeout","handler","setTimeout","sandboxedSetInterval","sandboxSetInterval","setInterval","assignCheck","_b","_c","_d","_e","_f","_g","_h","changeSubscriptions","changeSubscriptionsGlobal","setSubscriptions","setSubscriptionsGlobal","arrayChange","splice","reverse","sort","copyWithin","literalRegex","ops2","sandboxGlobal","audit","globalsAccess","globalsWhitelist","evals","globalThis","globalScope","Boolean","isFunction","prototypeAccess","prot","getPrototypeOf","whitelist","prototypeReplacements","size","constuctor","g","forbidFunctionCalls","execMany","vals","stringify","recurse","x","y","change","changed","added","removed","startIndex","deleteCount","min","endIndex","items","reg","RegExp","resnums","processed","reses","num","$$","$","valueOrProp","bobj","loop","loopScope","internalVars","interalScope","execAsync","ad","asyncDone","d","isInstant","instant","p","innerLoopVars","catch","syncDone","inLoopOrSwitch","executeTreeWithDone","toTest","execSync","isTrue","caseItem","sc","ops","_execManySync","_execManyAsync","callback","resolve","reject","doneOriginal","_execNoneRecurse","unexecTypes","executionQuota","onExecutionQuotaReached","executionTree","scopes","s","_executeWithDoneSync","_executeWithDoneAsync","current","SandboxGlobal","ExecContext","subscribeSet","names","callbacks","changeCbs","unsubscribe","Sandbox","SAFE_GLOBALS","SAFE_PROTOTYPES","sandbox","Symbol","Function","console","debug","error","info","log","table","warn","isFinite","parseFloat","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","unescape","EvalError","URIError","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Intl","Date","protos","proto","subscribeGet","subscribeSetGlobal","getOwnPropertyNames","createContext","execContext","eval","compile","optimize","run","compileAsync","compileExpression","compileExpressionAsync","exports","elementStorage","createClass","sanitizer","arrs","coll","defaultDelegateObject","on","elem","event","$el","wrap","off","one","ElementCollection","$elements","selector","some","every","compareDocumentPosition","unique","from","toSet","toArray","is","sel","querySelectorAll","parents","contains","find","c","events","opt","objectOrProp","ev","h","wrapEvent","store","getStore","evStore","addEventListener","removeEventListener","clear","trigger","eventType","detail","bubbles","cancelable","CustomEvent","dispatchEvent","evcb","evt","delegate","that","del","once","started","evs","subs","cbs","allCbs","target","listeners","lts","parentElement","eq","handlers","stoppedPropagation","stoppedImmediatePropagation","remove","cbev","click","addClass","keyCode","currentTarget","HTMLElement","getAttribute","attr","tabindex","role","hover","handlerIn","handlerOut","v","santizeAttribute","setAttribute","nodeName","toLowerCase","removeAttr","removeAttribute","HTMLInputElement","HTMLSelectElement","selected","HTMLTextAreaElement","checked","files","multiple","$elems","scrollTop","scrollLeft","label","data","removeData","toggleClass","removeClass","force","isObject","className","classList","toggle","hasClass","nameArr","identifier","ind","prevAll","last","nextElementSibling","nextUntil","propElem","nextAll","prev","previousElementSibling","prevUntil","siblings","children","firstElementChild","$document","document","documentElement","originalEvent","isEqEvent","sip","stopImmediatePropagation","sp","stopPropagation","props","stopppedImmediatePropagation","defineProperties","NodeList","HTMLCollection","Element","selectors","$context","elems","doFilter","doSort","cElem","cont","collection","includeFirst","stopAt","each","wasSet","n","object","el","objArr","defaultValue","deleteStore","regVarName","regKeyValName","isIterable","getRootElement","Component","quotes","walkText","endJs","closing","inJs","strs","calls","timer","toCall","walkerInstance","execSteps","ready","runNested","runDirective","skope","directives","directive","createErrorCb","createError","eQuery","ElementScope","element","$dispatch","$watch","subUnsubs","watch","unsubNested","$delay","ms","RootScope","$wrap","html","content","innerHTML","contentElem","detach","preprocessHTML","currentSubs","processHTML","appendChild","getScopes","textContent","createElement","FileList","File","defineDirective","att","watchRun","lastVal","getScope","isContentEditable","hasAttribute","reset","pushScope","$$value","form","$form","Node","lastPromise","then","root","newScope","varSubsStore","varSubs","template","sanitizeHTML","child","walkTree","unsub","msg","parentSubs","$element","createComment","ifElem","at","before","nestedSubs","getAttributeNode","cloneNode","exp","varsExp","varMatch","doubleMatch","runs","repeat","forSubs","$index","nestedScopes","prevReady","elementScopeAdded","letter","toUpperCase","nodeValue","attributes","HTMLScriptElement","entries","SVGElement","style","transitionParts","transitionVar","trans","$event","original","outerHTML","nodeType","nodes","endsWith","placeholder","createTextNode","childNodes","Skope","HTMLSanitizer","allowRegExp","executionQuote","defineComponent","comp","components","toWatch","errorCb","watchGets","update","now","ignore","digest","list","promise","temp","codes","sandboxCache","init","component","alreadyPreprocessed","sub2","observeAttribute"],"mappings":"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"}